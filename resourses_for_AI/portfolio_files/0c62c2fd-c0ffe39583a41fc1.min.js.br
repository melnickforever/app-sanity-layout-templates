
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="60f14f3d-dc00-5c7f-a8dd-c744deb6f625")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["3278"],{458676(e,t,r){"use strict";var s=r(37788),a=r(54723),i=r(734529),n=r(819700),o=r(98145),l=r(122685),d=r(966694),c=r(36097),u=r(176208),m=r(749193),_=r(257311),x=r(732897),p=r(432192),f=r(861913),h=r(798255),g=r(249152),v=r(54439),b=r(408260),j=r(311587),y=r(663045),w=r(519624),E=r(758846),T=r(947693);e.exports={Editor:u,EditorBlock:m,EditorState:f,CompositeDecorator:n,Entity:_,EntityInstance:p,BlockMapBuilder:a,CharacterMetadata:i,ContentBlock:o,ContentState:l,RawDraftContentState:g,SelectionState:b,AtomicBlockUtils:s,KeyBindingUtil:h,Modifier:x,RichUtils:v,DefaultDraftBlockRenderMap:d,DefaultDraftInlineStyle:c,convertFromHTML:r(723737),convertFromRaw:y,convertToRaw:j,genKey:w,getDefaultKeyBinding:E,getVisibleSelectionRect:T}},891700(e,t,r){var s=r(807840),a=r(17134),i=r(103064),n=r(794948),o=r(921242),l=/^\s+/;e.exports=function(e,t,r){if((e=o(e))&&(r||void 0===t))return e.replace(l,"");if(!e||!(t=s(t)))return e;var d=n(e),c=i(d,n(t));return a(d,c).join("")}},701939(e,t,r){"use strict";r.d(t,{w:()=>a});var s=r(513486);let a=r(659625).A.createLazyComponent(()=>Promise.all([r.e("8701"),r.e("3582"),r.e("1702")]).then(r.bind(r,210793)).then(e=>e.EduReviewPage),{loading:()=>null,error:s.H4.NONE,componentName:"EduReviewPage"})},700217(e,t,r){"use strict";r.d(t,{G:()=>i});var s=r(513486),a=r(90550);let i=r(659625).A.createLazyComponent(()=>Promise.all([r.e("8701"),r.e("3582"),r.e("1702")]).then(r.bind(r,98924)).then(e=>e.OrgSelfServeBillingRemodelPage),{loading:a.Z_,error:s.H4.NONE,componentName:"OrgSelfServeBillingRemodelPage"})},394158(e,t,r){"use strict";r.d(t,{z:()=>a});var s=r(513486);let a=r(659625).A.createLazyComponent(()=>Promise.all([r.e("8701"),r.e("3582"),r.e("1702")]).then(r.bind(r,274573)).then(e=>e.PromoReviewPage),{loading:()=>null,error:s.H4.NONE,componentName:"PromoReviewPage"})},750587(e,t,r){"use strict";r.d(t,{q:()=>a});var s=r(513486);let a=r(659625).A.createLazyComponent(()=>Promise.all([r.e("8701"),r.e("3582"),r.e("1702")]).then(r.bind(r,248472)).then(e=>e.TeamUpgradePageBillingRemodel),{loading:()=>null,error:s.H4.NONE,componentName:"TeamUpgradePageBillingRemodel"})},943637(e,t,r){"use strict";r.d(t,{v:()=>a});var s=r(513486);let a=r(659625).A.createLazyComponent(()=>Promise.all([r.e("8701"),r.e("3582"),r.e("1702")]).then(r.bind(r,581708)).then(e=>e.TierUpgradeFlow),{loading:()=>null,error:s.H4.NONE,componentName:"TierUpgradeFlow"})},724675(e,t,r){"use strict";r.d(t,{m:()=>y});var s=r(239976),a=r(105652),i=r(645186),n=r(706354),o=r(227031),l=r(360214),d=r(289886),c=r(931343),u=r(594837);if(1464==r.j)var m=r(803105);var _=r(985373),x=r(773201);if(1464==r.j)var p=r(487817);var f=r(304948),h=r(331850),g=r(287514),v=r(598912),b=r(918135),j=r(825131);function y(){return(0,s.jsx)(o.u9,{label:"SeatRequestsPageView",children:(0,s.jsx)(w,{})})}function w(){let e=(0,i.wA)(),t=(0,h.S2)(),r=(0,h.px)(),o=(0,x._6)(),y=(0,i.d4)(e=>(0,f.getPermissionsStateMemoized)(e)),w=(0,i.d4)(e=>e.teams),E=(0,h.j_)(r),T="loaded"===E.status&&(0,u.pO)({isAdminOrg:E.data,permissions:y,teams:w,view:o}),I=(0,g.vS)(o),k="loaded"===t.status&&"loaded"===r.status&&r.data.permission!==p.Xn.ADMIN;return(a.useEffect(()=>{T?e(_.sf({view:"resourceUnavailable",resourceType:I})):k&&e(_.sf(v.o0))},[e,I,k,T]),"loaded"!==t.status||"loaded"!==r.status||k||T)?(0,s.jsx)("div",{className:d.s.wFull.pl32.py24.bb1.colorBorder.bSolid.$,children:(0,s.jsx)(l.Wi,{className:d.s.w200.h32.$,dataTestId:"srpv-loading"})}):(0,s.jsx)(m.r,{containerClass:j.nF,scrollableContainerClass:j.lF,content:(0,s.jsx)(b.l,{plan:t.data,isOrgAdmin:t.data.type===p.OL.ORG}),toolbar:(0,s.jsx)(c.g,{}),errorBoundaryConfig:{figmaTeam:n.FigmaTeam.EXPANSION,boundaryKeySuffix:"SeatRequestsPageView"}})}},294858(e,t,r){"use strict";r.d(t,{ConfirmDowngradeEditorsModal:()=>l});var s=r(239976),a=r(850159),i=r(865804),n=r(608293),o=r(392255);function l(e){let{team:t,editors:r}=e,{id:l}=t,d=r.length,c=r.filter(e=>e.id).map(e=>e.id).join(),u=(0,a.t)("team_view.downgrade_editor_modal.downgrade_user_team_permissions",{username:(0,n.EJ)(e.editors[0].name||e.editors[0].email,20)}),m=(0,a.t)("team_view.downgrade_editor_modal.downgrade_multiple_users_team_permissions",{numSelectedUsers:d});return(0,s.jsx)(i.fu,{name:"Team Admin Downgrade Editors Modal",properties:{editorCount:d,editorIds:c,teamId:l},children:(0,s.jsx)(o.Dd,{title:d>1?m:u,confirmText:(0,a.t)("team_view.downgrade_editor_modal.downgrade"),onConfirm:e.onConfirm,children:(0,s.jsxs)("p",{children:[d>1&&(0,a.t)("team_view.downgrade_editor_modal.are_you_sure_you_want_to_downgrade",{numSelectedUsers:d}),(0,a.tx)("team_view.downgrade_editor_modal.downgrading_their_team_permission_will_change_all_permissions_to_can_view")]})})})}},970956(e,t,r){"use strict";r.d(t,{MemberEditAccessModal:()=>T});var s=r(239976),a=r(105652),i=r(645186),n=r(594293),o=r(850159),l=r(480507),d=r(779757),c=r(865804),u=r(140979),m=r(86057),_=r(38900),x=r(12358),p=r(576080),f=r(783515),h=r(644350),g=r(856201),v=r(392255);let b="edit_access_modal--column--byd-v",j="edit_access_modal--resource--edET9",y="edit_access_modal--resourceTitle--Y8RvY edit_access_modal--resource--edET9",w="edit_access_modal--greyResource--cKIIv edit_access_modal--resource--edET9",E=(0,l.xx)((e,t)=>{let r={privateResourceCount:0,editableResources:[]};return e&&0!==e.length&&(e.forEach(e=>{let s=((e,t)=>{if("file"===e.resource_type){let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.key}}else{let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.id}}})(e,t);s?r.editableResources.push(s):r.privateResourceCount++}),(0,n.v7)(r.editableResources,e=>e.name)),r});function T(e){var t,r;let n,l=(0,i.wA)(),j=(t=e.teamId,r=e.userId,n=(0,u.bc)(h.DLq,{teamId:t,userId:r}),a.useMemo(()=>n.transform(e=>{let t=e.teamUserDescendedRoles;if(!t)return{team_user:void 0,team_role:void 0,edit_roles:{whiteboard_files:[],design_files:[],folders:[]},file_edit_roles_count:0,name:"",id:""};let r=t[0];if(!r.teamUser)return{team_user:void 0,team_role:void 0,edit_roles:{whiteboard_files:[],design_files:[],folders:[]},file_edit_roles_count:0,name:"",id:""};let s=r.teamUser,a=r.teamUser.teamRole;return{...f.W.toSinatra(s.user),team_user:{id:s.id,user_id:s.user.id,team_id:r.teamId,active_seat_type:(0,x.TA)(s.activeSeatTypeUpgrade?.billableProduct)},team_role:a?(0,p.Pe)(a,s.user):void 0,file_edit_roles_count:r.fileEditRolesCount,edit_roles:{whiteboard_files:[],design_files:[],folders:r.projectEditRoles?.map(e=>(0,p.Pe)(e,s.user))||[]}}}),[n])),w=(0,i.d4)(e=>e.folders),T=a.useMemo(()=>j.transform(e=>E(e?.edit_roles?.folders,w)),[w,j]),k=a.useMemo(()=>j.transform(e=>e?{privateResourceCount:e.file_edit_roles_count,editableResources:[]}:{privateResourceCount:0,editableResources:[]}),[j]),C=d.Qw.all([j,T,k]);if("loaded"!==C.status)return null;let[N,S,R]=C.data;if(!N)return console.error("Member not found"),null;let A=!!N.team_role&&N.team_role?.level>=g.e6.EDITOR,F=S.editableResources.length+S.privateResourceCount,O=R.editableResources.length+R.privateResourceCount;return(0,s.jsx)(c.fu,{name:"Member Edit Access Modal",properties:{teamId:e.teamId,userId:N.id,folderCount:F,fileCount:O},children:(0,s.jsxs)(v.OJ,{title:(0,o.t)("team_view.member_edit_access_modal.title",{memberName:N.name??""}),maxWidth:432,minWidth:432,containerClassName:"edit_access_modal--modalStyle--5uzHI",onClose:()=>{l(_.Ce())},children:[(0,s.jsxs)("div",{className:"edit_access_modal--headerContainer--hTEar edit_access_modal--resourceContainer--SVnc2",children:[(0,s.jsx)("div",{className:b,children:(0,s.jsx)("div",{className:y,children:(0,o.tx)("team_view.member_edit_access_modal.projects_title_v2")})}),(0,s.jsx)("div",{className:b,children:(0,s.jsx)("div",{className:y,children:(0,o.tx)("team_view.member_edit_access_modal.files_title_v2")})})]}),(0,s.jsx)(m.P,{className:"edit_access_modal--scrollContainer--MFAs-",hideScrollbar:!0,children:(0,s.jsxs)("div",{className:"edit_access_modal--resourceContainer--SVnc2",children:[(0,s.jsx)("div",{className:b,children:(0,s.jsx)(I,{hasTeamEditPermissions:A,resources:S,resourceType:"project"})}),(0,s.jsx)("div",{className:b,children:(0,s.jsx)(I,{hasTeamEditPermissions:A,resources:R,resourceType:"file"})})]})})]})})}function I(e){let t,{hasTeamEditPermissions:r,resourceType:a}=e;if(r)if("project"===a)return(0,s.jsx)("div",{className:w,children:(0,o.tx)("team_view.member_edit_access_modal.all_projects")});else return(0,s.jsx)("div",{className:w,children:(0,o.tx)("team_view.member_edit_access_modal.all_files")});let i=e.resources;if(0===i.privateResourceCount&&0===i.editableResources.length)return(0,s.jsx)("div",{className:w,children:"file"===a?(0,o.tx)("team_view.member_edit_access_modal.none_files"):(0,o.tx)("team_view.member_edit_access_modal.none_projects")});if(i.privateResourceCount>0){let e=(0,s.jsx)("span",{});0===i.editableResources.length&&"project"===a?e=(0,o.tx)("team_view.member_edit_access_modal.invite_only_projects",{numProjects:i.privateResourceCount}):0===i.editableResources.length&&"file"===a?e=(0,o.tx)("team_view.member_edit_access_modal.invite_only_files",{numFiles:i.privateResourceCount}):i.editableResources.length>0&&"project"===a?e=(0,o.tx)("team_view.member_edit_access_modal.invite_only_projects_list_end",{numProjects:i.privateResourceCount}):i.editableResources.length>0&&"file"===a&&(e=(0,o.tx)("team_view.member_edit_access_modal.invite_only_files_list_end",{numFiles:i.privateResourceCount})),t=(0,s.jsx)("div",{className:j,children:e})}return(0,s.jsxs)(s.Fragment,{children:[i.editableResources.map(e=>(0,s.jsx)("div",{className:j,children:e.name},e.id_or_key)),t]})}},221503(e,t,r){"use strict";r.d(t,{JC:()=>u,Oe:()=>d,T3:()=>_,VY:()=>n,ay:()=>m,dZ:()=>c,vW:()=>o,wu:()=>i,y$:()=>l});var s=r(513486),a=r(499422);r(724675);let i=a.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("8778"),r.e("9387"),r.e("907"),r.e("7630"),r.e("2749"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,711667)).then(e=>e.BillingGroupDashboardSettingsPageView),{loading:()=>null,error:s.H4.NONE,componentName:"BillingGroupDashboardSettingsPageView"}),n=a.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("8778"),r.e("9387"),r.e("907"),r.e("7630"),r.e("2749"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,99408)).then(e=>e.LicenseGroupAdminSettingsPageView),{loading:()=>null,error:s.H4.NONE,componentName:"LicenseGroupAdminSettingsPageView"}),o=a.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("8778"),r.e("9387"),r.e("907"),r.e("7630"),r.e("2749"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,977753)).then(e=>e.OrgAdminSettingsPageView),{loading:()=>null,error:s.H4.NONE,componentName:"OrgAdminSettingsPageView"}),l=a.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("8778"),r.e("9387"),r.e("907"),r.e("7630"),r.e("2749"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,646661)).then(e=>e.WorkspaceAdminSettingsPageView),{loading:()=>null,error:s.H4.NONE,componentName:"WorkspaceAdminSettingsPageView"}),d=a.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("8778"),r.e("9387"),r.e("907"),r.e("7630"),r.e("2749"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,395881)).then(e=>e.OrgDomainManagementPageView),{loading:()=>null,error:s.H4.NONE,componentName:"OrgDomainManagementPageView"}),c=a.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("8778"),r.e("9387"),r.e("907"),r.e("7630"),r.e("2749"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,314508)).then(e=>e.AbandonedDraftFilesPageView),{loading:()=>null,error:s.H4.NONE,componentName:"AbandonedDraftFilesPageView"}),u=a.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("8778"),r.e("9387"),r.e("907"),r.e("7630"),r.e("2749"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,508382)).then(e=>e.TeamAdminConsoleView),{loading:()=>null,error:s.H4.NONE,componentName:"TeamAdminConsoleView"}),m=a.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("8778"),r.e("9387"),r.e("907"),r.e("7630"),r.e("2749"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,992870)).then(e=>e.AdminSidebar),{loading:()=>null,error:s.H4.NONE,componentName:"AdminSidebar"}),_=a.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("8778"),r.e("9387"),r.e("907"),r.e("7630"),r.e("2749"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,101892)).then(e=>e.OrgIdpManagementPageView),{loading:()=>null,error:s.H4.NONE,componentName:"OrgIdpManagementPageView"})},694772(e,t,r){"use strict";r.d(t,{u:()=>c});var s=r(105652),a=r(645186),i=r(3752);if(1464==r.j)var n=r(898312);var o=r(985373),l=r(389218);let d=1464==r.j?{ctrlKey:"metaKey"}:null;function c(e,t={}){let r=(0,a.wA)(),u=(0,a.Pj)(),m=s.useMemo(()=>({metaKey:e=>{let t=(0,l.xS)(u.getState(),e);r(n.V3({url:t}))},...t}),[t,r,u]);return s.useCallback((t,s)=>{let a=e(s),n=Object.keys(m).find(e=>t[e]);if(n){let e=m[i.A.mac?n:d[n]||n];if(e){t.preventDefault(),e(a);return}}r(o.sf(a))},[m,r,e])}},761208(e,t,r){"use strict";r.d(t,{BlockConnectedFileMoveModal:()=>p});var s=r(239976),a=r(395227),i=r(878521),n=r(71239),o=r(297151),l=r(850159),d=r(865804),c=r(140979),u=r(227031),m=r(289886),_=r(644350),x=r(955809);function p(e){return(0,s.jsx)(u.u9,{label:"BlockConnectedFileMoveModal",children:(0,s.jsx)(f,{...e})})}function f(e){let t=a.hS({open:e.open,onClose:e.onClose}),r=(0,c.bc)(_.s0Z,{fileKey:e.fileKey}),u=r?.data?.file?.project?.name,p=r?.data?.file?.plan?.name;return(0,s.jsx)(d.fu,{name:"Block Connected File Move Modal",children:(0,s.jsx)(n.bL,{manager:t,width:"md",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:u?(0,l.tx)("resource_connection.block_file_move.unable_to_move_out_of_project_name",{projectName:u}):(0,l.tx)("resource_connection.block_file_move.unable_to_move_out_of_this_project")})}),(0,s.jsx)(o.nB,{className:x.Yw,children:(0,s.jsx)("div",{className:m.s.mt4.mb4.$,children:(0,l.tx)("resource_connection.block_file_move.learn_more_about_what_you_can_do_in_connected_projects",{learnMore:(0,s.jsx)(i.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",children:(0,l.tx)("resource_connection.request_modal.learn_more")}),hostPlanName:p??""})})})]})})})}},307304(e,t,r){"use strict";r.d(t,{FileMoveModalComponent:()=>eV});var s,a=r(239976),i=r(105652),n=r(645186),o=r(523924),l=r(850159),d=r(192809),c=r.n(d),u=r(181645),m=r(865804),_=r(295815),x=r(490753),p=r(140979),f=r(668522),h=r(493094),g=r(485587),v=r(227031),b=r(645724),j=r(921424),y=r(216233),w=r(692851),E=r(90550),T=r(86057),I=r(824234),k=r(289886),C=r(786348),N=r(336707),S=r(590281),R=r(48109);function A(e){let t=(0,n.wA)(),r=i.useCallback(r=>{r.stopPropagation(),e.team.canEdit&&((0,u.sx)("New Folder",{trackingContext:e.trackingContextName}),t((0,C.SX)({where:S.Ah.FolderListView,team:{...(0,N.Ws)(e.team),name:e.team.name||"",canEdit:e.team.canEdit}})))},[t,e.team,e.trackingContextName]);return e.team.canEdit?(0,a.jsx)(R.f,{data_tooltip:(0,l.t)("sidebar.new_project"),data_onboarding_key:"new-project-icon",innerText:"Creates new project",onClick:r,isBackgroundTransparent:e.isBackgroundTransparent}):null}var F=r(985373),O=r(927243),P=r(653111),L=r(222094),D=r(38900),M=r(442549),U=r(12358),B=r(487817),z=r(878),W=r(856201),V=r(235532),G=r(450309),H=r(644350),$=r(458983),q=r(110753),K=((s=K||{})[s.FOLDER_ROW=0]="FOLDER_ROW",s[s.NEW_FOLDER_TEAM=1]="NEW_FOLDER_TEAM",s),Y=r(695734),J=r(760037),X=r(328151),Q=r(113641),Z=r(35212);let ee=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,Z.vh)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds}))}};var et=r(554612),er=r(392255),es=r(188088),ea=r(130729),ei=r(338883),en=r(265773),eo=r(523454),el=r(434533),ed=r(989945),ec=r(915961);let eu=(0,_.hG)("32px"),em=e=>e?.id||P.iK,e_=new el.KH({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),ex=(e,t,r,s,a)=>!(e.orgId!==a&&t?.orgId!==a||!e.canEdit||t&&(0,eo.S$)(e,t,r)&&!(0,V.VA)(e))&&(!s||!!(0,eo.XX)(t)),ep=(e,t,r)=>!r||!!(0,eo.XX)(e),ef=async(e,t,r,s,a=!1,i=!1,n,l,d,c)=>{var u,m;let _=e.getState(),x=null,p=null;t.type===q.A.FILE?(x=t.file.parent_org_id||null,p=t.file.team_id):t.type===q.A.REPO?(x=t.repo.parent_org_id||null,p=t.repo.team_id):t.type===q.A.FILE_IMPORT&&(x=t.orgId);let f=[];if(r){let e=((e,t,r)=>{let s=Object.create(null),a=Object.create(null),i=0,n=0,o=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,l=(0,V.gj)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,o);for(let r of e){let e=r.item.folder,o=l&&e.id===l.id?0:r.score,d=e.teamId?t.teams[e.teamId]:null,c=l&&e.id===l.id?P.HK:em(d);!(c in s)&&(s[c]=[],c!==P.iK&&c!==P.HK&&n++),s[c].push(e),null==a[c]?a[c]=o:a[c]=Math.min(a[c],o),i++}let d=i+n;return r(P.CU({indexCount:d})),[a,s]})(await e_.search(r),s,n);m=e[0],(f=Object.keys(u=e[1])).length&&f.sort((e,t)=>m[e]-m[t])}else if(u=(({folders:e,roles:t,user:r,orgUsers:s,teams:a,orgId:i,implicitTeamRolesTeamIds:n},o,l,d)=>{let c=Object.create(null),u=0,m=0,_=(0,V.gj)(r&&r.id,e,t.byFolderId,r&&i?s[i][r.id]:null);for(let e in c[P.HK]=[],c[P.iK]=[],t.byTeamId)ep(a[e],r,o)&&(m++,c[e]=[]);n&&n.forEach(e=>{ep(a[e],r,o)&&(m++,c[e]=[])}),Object.keys(e).forEach(t=>{let s={...e[t]};if(ex(s,s.teamId?a[s.teamId]:null,r,o,i)&&(!l||s.subscription||(0,V.VA)(s))){let e=s.teamId?a[s.teamId]:null;c[_&&s.id===_.id?P.HK:em(e)].push(s),u++}});let x=u+m;return d(P.CU({indexCount:x})),d(P.xH()),c})(s,a,!!c,e.dispatch),s.user)f.push(P.HK),f=f.concat((0,$.n$)(Object.values(s.teams),s.fileBrowserPreferences?.orderedTeamIds||[])),u[P.iK].length>0&&f.push(P.iK);else{let e;(f=Object.keys(u)).sort((e=s.teams,(t,r)=>{if(t===P.iK)return 1;let s=e[t],a=e[r];return s?a&&s.name.toLowerCase()<a.name.toLowerCase()?-1:1:-1}))}let h=(()=>{switch(t.type){case q.A.FILE:return[t.file.editor_type];case q.A.REPO:return[B._Y.DESIGN];case q.A.FILE_IMPORT:return t.files.map(e=>(0,ed.NU)(e));default:(0,o.xb)(t)}})(),g=new Set(Object.values(u).flat().filter(e=>h.every(t=>!!t&&(0,ei.d6)(e,t))).map(e=>e.id)),v=f.filter(e=>{if(e===P.iK)return null===u||u[e].length>0;let t=s.teams;if(e!==P.HK){let r=t[e]?.orgId||null;if(x||r){if(r!==x)return!1}else if(p&&e===P.iK)return!1}return!t[e]?.deletedAt&&!!u[e]?.some(e=>g.has(e.id))}),[b,j,y]=((e,t,r,s,a)=>{let i=Object.create(null),n=Object.create(null),o=[],l=0,d=0;if(a){let t=e.indexOf(a);t>-1&&(e.splice(t,1),e.splice(1,0,a))}return e.forEach(e=>{if(n[e]=l,d+=8,e!==P.iK&&e!==P.HK){let t={type:K.NEW_FOLDER_TEAM,id:e,positionTop:d};o.push(t),d+=eu,l+=1}let r=t[e];l+=r.length,r.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let c=Array.from(r);s&&a&&e===a&&c.forEach((e,t)=>{e.id===s&&(r.splice(t,1),r.unshift(e))}),r.forEach(e=>{let t={type:K.FOLDER_ROW,id:e.id,positionTop:d};d+=eu,o.push(t)}),i[e]=r,d+=9}),[i,n,o]})(v,u,0,l,d);e.dispatch(P.OT({rows:y})),e.dispatch(P.t3({indexOffsets:j})),e.dispatch(P.Pb({foldersByTeamId:b})),e.dispatch(P.Mi({teamIds:v})),r||e.dispatch(P.w3({userTeamCount:v.length})),_.fileMove.isSearchResult!==i&&e.dispatch(P.EN({isSearchResult:i}));let w=P.HK in j&&y[0].type===K.FOLDER_ROW;r&&w?e.dispatch(P.Dp({indexAt:0})):r&&!w&&e.dispatch(P.Dp({indexAt:1}))},eh=(0,ea.s)((e,t,r,s,a=!1)=>{ef(e,t,r,s,a,!!r,e.dispatch)},200),eg=(0,en.nF)((e,t)=>{((e,t=!1)=>{let r=[];Object.keys(e.folders).forEach(s=>{let a=e.folders[s],i=a.teamId?e.teams[a.teamId]:null;ex(a,i,e.user,t,e.orgId)&&((0,V.VA)(a)&&(a={...a,path:(0,ec.Tb)()}),r.push(a))}),e_.set(r.map(t=>{let r=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},s={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription,...(0,ei.VI)(t)};return r?{folder:s,team:r}:{folder:s}}))})(t.userResources,t.modalData.isPublishing),((e,t,r,s=!1,a,i,n)=>{ef(e,t,"",r,s,!1,e.dispatch,i,n,a)})(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),ev=(0,en.nF)((e,t)=>{eh(e,t.modalData,t.query,t.userResources),e.dispatch(P.hq(t))});var eb=r(921282),ej=r(863825),ey=r(898312),ew=r(473397),eE=r(379323),eT=r(694151);let eI="file_move--main--RJ-w5",ek="file_move--iconContainer--IdUpK",eC="file_move--folderRowWrapper--Zmdf0",eN="file_move--folderRow--MU2cr",eS="file_move--horizontalDivider--3baYL";var eR=r(376312);function eA(e){let t=(0,n.d4)(e=>e.user),[r,s]=(0,i.useState)(""),o=e.dispatch,[d,c]=(0,i.useState)(!0);return(0,a.jsx)("form",{onSubmit:t=>{t.preventDefault(),(0,u.sx)("Create Team Inline",{trackingContext:e.trackingContextName}),r?(o((0,eE.KQ)({teamName:r,orgAccess:B.bU.PUBLIC,dontRedirect:!0})),c(!0),s("")):o(ej.s.error((0,l.t)("flash.team_name_cannot_be_empty")))},children:(0,a.jsx)("div",{className:"file_move--teamCreateRow--k8Pna file_move--folderRow--MU2cr",children:d?(0,a.jsxs)("button",{type:"button",className:"file_move--rowButton--1xi2Q",onClick:()=>{null!=t&&!e.orgId&&(0,ew.e5)({userId:t.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId})?(o(D.Ce()),o(ey.Dw({openInNewTab:!eb.eD}))):(c(!1),o(P.xH()))},children:[(0,a.jsx)(I.B,{className:"file_move--newProjectIconFileMove--GFGyN sidebar--icon--UneEX",svg:eR.A}),(0,a.jsx)("span",{className:"file_move--newFolderNameCustomSections--3pvFN sidebar--sectionNameCustomSections--IeiYT sidebar--sectionTextCustomSections--WjjKl sidebar--sectionContentCustomSections--6Hzl4 ellipsis--ellipsis--70pHK",children:(0,l.tx)("file_browser.inline_team_creation.button_text")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:ek,children:(0,a.jsx)(eT.pw,{size:16,shape:"SQUARE",color:"#E5E5E5"})}),(0,a.jsx)("div",{className:"file_move--newTeamTitleText--lIL4u file_move--teamTitleText--6mNiD ellipsis--ellipsis--70pHK",children:(0,a.jsx)(j.ks,{value:r||"",onChange:e=>{s(e.target.value)},onBlur:()=>{c(!0)},className:"file_move--newTeamInput--Wd98h",maxLength:e.teamNameMaxWidth,placeholder:(0,l.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})})]})})})}var eF=r(718494),eO=r(399374),eP=r(840246),eL=r(65122),eD=r(57190),eM=r(693867),eU=r(820738);let eB=(0,_.hG)("32px"),ez="FileMoveModalContent";function eW(e){switch(e.type){case q.A.FILE:let t=e.file;return t?.folder_id||null;case q.A.REPO:let r=e.repo;return r?.folder_id||null;case q.A.FILE_IMPORT:return null;default:(0,o.xb)(e)}}function eV(e){return(0,a.jsx)(v.u9,{label:"FileMoveModalComponent",children:(0,a.jsx)(eG,{...e})})}function eG(e){let t=null;e.type===q.A.FILE?t=e.file.parent_org_id||null:e.type===q.A.REPO?t=e.repo.parent_org_id||null:e.type===q.A.FILE_IMPORT&&(t=e.orgId);let r=(0,n.d4)(e=>e.orgById),s=t?r[t]:null,o=(0,n.d4)(e=>e.fileMove),l=(0,n.d4)(e=>!!e.creatingNewFolder),d=(0,n.d4)(e=>e.dropdownShown),c=(0,n.d4)(e=>e.selectedView),m=eW(e),_=(0,p.bc)(H.Y9I,{projectId:m},{enabled:!!m}),x=(0,p.bc)(H.G0Y,{orgId:t});"errors"===x.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(x.errors));let h="loaded"===x.status&&("loaded"===_.status||e.type===q.A.FILE_IMPORT)?{fetched:x,transformed:function(e,t,r){let s={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},a={},i={},n={},o={byFolderId:{},byTeamId:{}},l=[],d=e=>{i[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{n[e.orgId]={[e.userId]:{...e,type:z.Wd.ORG_USER,account_type:e.accountType,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt?.toString()||"",disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||B.El.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||B.El.RESTRICTED,active_seat_type:(0,U.TA)(e.activeSeatTypeUpgrade?.billableProduct)}},e.draftsProject&&(d(e.draftsProject),e.draftsProject.ownerRole&&(o.byFolderId[e.draftsProject.id]={[s.id]:{level:e.draftsProject.ownerRole.level}}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:r}=e.team;a[t]={...e.team,canView:e.level>=W.e6.VIEWER,canEdit:e.level>=W.e6.EDITOR,canAdmin:e.level>=W.e6.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},o.byTeamId[t]={[s.id]:{level:e.level}},r&&r.forEach(e=>d(e))});let c=e&&e.org?e.org:null;if(c){if(t){let e=(0,f.oA)(t.project);e&&e.canEdit&&d(e)}c.teams&&c.teams.forEach(e=>{let{id:t,orgEditProjects:r}=e;if(!a[t]){let r=e.canEdit,s=e.canAdmin,i=e.licenseGroup;a[t]={...e,canView:!1,canEdit:r??!1,canAdmin:s??!1,licenseGroup:i||null},l.push(t)}let s=(0,f.oA)(r);s&&s.forEach(e=>{d(e)})})}return e.currentUser.teamRoles?.forEach(e=>{if(!e.team)return;let{id:t}=e.team;a[t]||(a[t]={...e.team,canEdit:!1,canAdmin:!1,canView:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},o.byTeamId[t]={[s.id]:{level:e.level}})}),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(d(e.project),o.byFolderId[e.project.id]={[s.id]:{level:e.level}})}),!M.v.getFeatureGate("no_dtm_folder_reads_lg")&&e.currentUser.draftsProject&&(d(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(o.byFolderId[e.currentUser.draftsProject.id]={[s.id]:{level:e.currentUser.draftsProject.ownerRole.level}})),{org:c,user:s,teams:a,folders:i,roles:o,orgUsers:n,orgId:r,fileBrowserPreferences:e.currentUser.fileBrowserPreferences,implicitTeamRolesTeamIds:l}}(x.data,e.type!==q.A.FILE_IMPORT?_.data:null,t)}:null,v=null===h?{loaded:!1}:{loaded:!0,userResources:h.transformed},b=null==m||null===h?null:h.transformed.folders[m],j=b?b.teamId:null,y=(0,n.wA)();i.useEffect(()=>{v.loaded&&y(eg({modalData:e,userResources:v.userResources,currentFolderId:m,currentFolderTeamId:j}))},[h&&h.fetched]);let w=[];if(v.loaded&&!t)for(let e in v.userResources.teams){let t=v.userResources.teams[e];"ok"!==t.subscription&&w.push(t.id)}let E=function(e){let[t,r]=i.useState((0,f.Xm)()),s=e.join(",");return i.useEffect(()=>{if(0===s.length)return void r((0,f.gB)({}));r((0,f.Xm)());let e=!1;return(async()=>{let t=await ee.getTeamRestrictionsLists({teamIds:s});e||r((0,f.gB)(t.data.meta))})(),()=>{e=!0}},[s]),t}(w);if("loaded"===E.status&&v.loaded)for(let e in v.userResources.teams){let t=v.userResources.teams[e];E.data[e]&&(t.restrictionsList=E.data[e])}return(0,g.oY)("loaded"===x.status,e=>{(0,u.sx)("file_move_modal_latency",{latency_ms:e},{forwardToDatadog:!0})}),(0,a.jsx)(eH,{creatingNewFolder:l,currentOrg:s,dispatch:y,dropdownShown:d,fileMove:o,fileMoveData:e,modalId:e._modalId,selectedView:c,userResources:v})}class eH extends i.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.setScrollContainer=e=>{this.scrollContainer=e},this.scrollContainerRef=i.createRef(),this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(P.Ww({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(P.Ww({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(ez);if((0,et.NB)(t))return;let{userResources:r}=this.props.userResources;switch(e.keyCode){case x.Uz.ESCAPE:this.onClose();break;case x.Uz.UP_ARROW:this.props.dispatch(P.zv());break;case x.Uz.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(P.TL({upperBound:this.props.fileMove.indexCount}));break;case x.Uz.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===K.NEW_FOLDER_TEAM){let t=e.id,s=r.teams[t];this.props.dispatch((0,C.SX)({where:this.props.modalId.type,team:{...(0,N.Ws)(s),name:s.name,canEdit:!0}}))}else if(e.type===K.FOLDER_ROW){let t=r.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(D.Lo()):this.props.dispatch(D.Ce())},this.openOrgView=e=>{this.props.dispatch(F.sf({view:"org",orgId:e,orgViewTab:Y.X.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(D.Ce()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)},r=this.props.fileMoveData;r.type===q.A.FILE&&r.file.is_team_template&&(0,V.VA)(e)?this.props.dispatch(D.to({type:es.X0,data:{title:(0,l.tx)("templates.confirmation.move_to_drafts.title",{count:1}),content:(0,l.tx)("templates.confirmation.move_to_drafts.description"),confirmText:(0,l.tx)("templates.confirmation.move_to_drafts.button_v2"),destructive:!1,onConfirm:t}})):t()},this.move=c()(e=>{let t=this.props.fileMoveData;switch(t.type){case q.A.FILE:this.moveFile(e,t.file);break;case q.A.REPO:this.moveRepo(e,t.repo);break;case q.A.FILE_IMPORT:for(let r of t.files)this.props.dispatch((0,G.z)({name:r.name,blob:new Blob([r.contents]),folderId:e.id,importToFolderData:e,shadowReadData:{source:"file_move_modal"}}));break;default:(0,o.xb)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(D.ES(this.props.modalId))},this.moveFile=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(L.z({files:[t],moveMethod:O.fB.FILE_MOVE_MODAL,folder:e,team:r,fromFileModal:!0,onFinishCallback:this.props.fileMoveData.afterFileMove?.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(L.z({files:[],repos:[t],folder:e,team:r,moveMethod:O.fB.FILE_MOVE_MODAL,fromFileModal:!0}))}}else this.onClose()},this.getModalTitle=()=>{let e=this.props.fileMoveData;if(e.type===q.A.FILE_IMPORT)return 1===e.files.length?(0,l.t)("file_browser.file_move.modal_header_import_file",{fileName:e.files[0].name}):(0,l.t)("file_browser.file_move.modal_header_import_files");{let t=e.type===q.A.FILE?e.file.name:e.repo.name;return(0,l.t)("file_browser.file_move.modal_header_move_file",{fileName:t})}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===K.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(F.j7({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(P.qb({fileMove:this.props.fileMove})),this.props.dispatch(P.YG({isSearchFocused:!0})));let r=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==r){if(!this.scrollContainerRef.current||-1===r)return;let e=this.props.fileMove.folderRows[r].positionTop,t=this.scrollContainer.getScrollTop(),s=this.scrollContainerRef.current.clientHeight;e<t?0===r?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+eB>t+s&&(null!=this.props.fileMove.indexCount&&r===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-s+eB))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(P.qM())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let r=e.folders[t.data.folderId];return r?(0,a.jsx)(eX,{folder:r,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){let e,t,r,s=this.props.fileMoveData.modalWidth||288,i=this.getModalTitle();if(!this.props.userResources.loaded)return(0,a.jsx)(er.OJ,{title:i,fixedTop:!0,minWidth:s,maxWidth:s,onClose:this.onClose,truncateTitleText:!0,children:(0,a.jsx)("div",{className:eI,children:(0,a.jsx)(E.a_,{className:"file_move--spinner--sdS57"})})});let{userResources:n}=this.props.userResources,d=eW(this.props.fileMoveData),c=null==d?null:n.folders[d],u=this.getFocusedFolder();e=this.props.fileMoveData.type===q.A.FILE_IMPORT?null!=u:null!=u&&null!=c&&u.id!==c.id;let _=0===this.props.fileMove.teamOrder.length,x=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==q.A.FILE_IMPORT,p=this.props.fileMoveData;switch(p.type){case q.A.FILE:t={fileKey:p.fileKey,fileTeamId:p.file&&p.file?.team_id,fileMoveModalEmptyState:x,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=p.file.editor_type??B._Y.DESIGN;break;case q.A.REPO:t={repoId:p.repoId,fileMoveModalEmptyState:x,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=B._Y.DESIGN;break;case q.A.FILE_IMPORT:t={},r=null;break;default:(0,o.xb)(p)}return(0,a.jsx)(m.fu,{name:Q.e0.FILE_MOVE_MODAL,properties:t,children:(0,a.jsxs)(er.OJ,{title:i,fixedTop:!0,minWidth:s,maxWidth:s,onClose:this.onClose,truncateTitleText:!0,children:[x?(0,a.jsx)("div",{className:"file_move--mainZeroState---nRYj file_move--main--RJ-w5",id:ez,children:(0,a.jsxs)("div",{className:"file_move--zeroStateModal--yGiU1",children:[(0,a.jsx)("div",{style:{paddingTop:"100px"},children:(0,l.tx)("file_browser.file_move.zero_state")}),this.props.currentOrg&&(0,a.jsx)("div",{className:k.s.pt20.$,children:(0,a.jsx)(j.$$,{onClick:this.onOrgViewLinkClick,children:this.props.currentOrg.bigma_enabled?(0,l.t)("file_browser.file_move.view_workspaces"):(0,l.t)("file_browser.file_move.view_teams")})})]})}):(0,a.jsxs)("div",{className:eI,id:ez,children:[(0,a.jsx)("div",{className:"file_move--searchWrapperNew--iosBP",children:(0,a.jsx)(e$,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:n})}),(0,a.jsx)("div",{className:eS}),this.props.fileMoveData.displayBanner&&(0,a.jsxs)(a.Fragment,{children:[this.props.fileMoveData.displayBanner,(0,a.jsx)("div",{className:eS})]}),this.props.fileMove.folderSearchQuery&&_?(0,a.jsx)("div",{className:"file_move--emptyModal--MU0ey",children:(0,l.tx)("search.file_move.no_results_found",{folderSearchQuery:this.props.fileMove.folderSearchQuery})}):(0,a.jsx)(T.P,{width:s,className:"file_move--teamSectionBody--tt4Lj",ref:this.setScrollContainer,scrollContainerRef:this.scrollContainerRef,onScroll:this.onScroll,children:(0,a.jsx)(eY,{componentMountedAt:this.componentMountedAt,creatingNewFolder:this.props.creatingNewFolder,currentFolderId:d,dispatch:this.props.dispatch,fileEditorType:r,fileMove:this.props.fileMove,folders:n.folders,indexOffsets:this.props.fileMove.indexOffsets,onDoubleClick:this.moveToSelectedFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,orgId:n.orgId,rolesByTeamId:n.roles.byTeamId,selectedView:this.props.selectedView,teamNameMaxWidth:s-88,teams:n.teams})}),(0,a.jsxs)("div",{className:"file_move--footer--oq3rF",children:[(0,a.jsx)(j.nR,{onClick:this.onClose,children:(0,l.tx)("modal.cancel")}),(0,a.jsx)(j.vd,{disabled:!e,onClick:this.moveToSelectedFolder,children:this.props.fileMoveData.moveText||(0,l.t)("file_browser.file_move.move")})]})]}),this.renderDropdown(),(0,a.jsx)(eQ,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})]})})}}eH.displayName="FileMoveModal";class e$ extends i.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(P.xH()),this.props.dispatch(P.YG({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(P.YG({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(ev({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case x.Uz.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(P.TL({upperBound:this.props.folderCount}));break;case x.Uz.UP_ARROW:t&&t.blur(),this.props.dispatch(P.zv());break;case x.Uz.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(ev({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(D.Ce()),this.props.dispatch(P.xH());break;case x.Uz.TAB:t&&t.blur(),this.props.dispatch(P.xH());break;case x.Uz.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=i.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return(0,a.jsxs)("div",{className:"file_move--searchContainer--SCO5E",children:[(0,a.jsx)("div",{className:ek,children:(0,a.jsx)(I.B,{svg:eL.A})}),(0,a.jsx)(w.i,{ref:this.searchInputRef,placeholder:(0,l.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--hC3Co":"file_move--searchInputEmptyNew--KO3-o file_move--searchInputNew--hC3Co",value:this.props.searchQuery,onChange:this.onChange})]})}}function eq(e){let{team:t,teamId:r}=e,[s,{onMouseOver:n,onMouseOut:o}]=(()=>{let[e,t]=(0,i.useState)(!1),r=(0,i.useCallback)(()=>t(!0),[t]),s=(0,i.useCallback)(()=>t(!1),[t]);return(0,i.useMemo)(()=>[e,{onMouseOver:r,onMouseOut:s}],[e,r,s])})(),d=(0,p.bc)(H.bel,{teamId:t?.id??""},{enabled:!!t?.id}),c=d.data?.team?.teamFileCounts||$.Cz,u=e.fileNotInTeam&&e.fileEditorType&&t&&!(0,$.aW)(t,{type:$.sK.ADD_FILE,editorType:e.fileEditorType,teamFileCounts:c});return(0,a.jsx)(a.Fragment,{children:e.showTitle&&(0,a.jsxs)("div",{className:"file_move--teamTitleNew--OMMcM text--fontPos12--oWc5z text--_fontBase--VaHfk",onMouseOver:n,onMouseLeave:o,children:[(r===P.iK||r===P.HK)&&(0,a.jsx)("div",{className:ek,children:(0,a.jsx)(I.B,{svg:eM.A})}),(0,a.jsxs)("div",{className:"file_move--teamTitleRow--cryRD",children:[(0,a.jsxs)("div",{className:"file_move--teamName--dIqNj",children:[(0,a.jsx)("div",{className:"file_move--teamTitleText--6mNiD ellipsis--ellipsis--70pHK",style:{maxWidth:e.teamNameMaxWidth},children:r===P.iK||r===P.HK?(0,l.t)("file_browser.shared_projects"):t.name}),u&&(0,a.jsx)("div",{className:"file_move--warningIcon--2vg1t",children:(0,a.jsx)(I.B,{svg:eO.A,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,l.t)("file_browser.file_move.paywall_team_tooltip")})})]}),s&&t&&!u&&(0,a.jsx)("div",{className:"file_move--newProjButton--9lnDU",children:(0,a.jsx)(A,{team:t,isBackgroundTransparent:!0,trackingContextName:Q.e0.FILE_MOVE_MODAL})})]})]})})}function eK(e){let t=(0,i.useRef)(null),[r,s]=(0,i.useState)(!1),o=(0,n.wA)();return(0,i.useEffect)(()=>{!r&&e.isTeamNew&&t.current&&e.hasFolderSection&&(o(P.Dp({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),s(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,r,t,o]),(0,a.jsx)("div",{className:e.className,ref:t,children:e.children})}function eY(e){let{fileMove:t,teams:r,selectedView:s}=e,i=Object.values(r).map(e=>{let t,r;return t=null!=e.orgId,r=e.subscription===B.Qh.INCOMPLETE||e.subscription===B.Qh.OK,{id:e.id,subscription:e.subscription,starter_team:!t&&!r,pro_team:r,org_team:t,student_team:!!e.studentTeamAt,deleted_at:e.deletedAt?.toString()||null}});return(0,a.jsxs)("div",{children:[null!=t.teamOrder&&t.teamOrder.map(s=>{let i=s!==P.HK,n=s!==P.iK&&s!==P.HK,o=(t.foldersByTeamId?.[s]||[]).length>0;if(!(i||n||o))return null;let l=r[s];if(!l&&s!==P.iK&&s!==P.HK||s===P.HK&&!e.orgId)return null;let d=l?new Date(r[s].createdAt):void 0,c=d&&d>e.componentMountedAt,u=t.indexOffsets[s]+1,m=!!e.currentFolderId&&s!==e.folders[e.currentFolderId]?.teamId;return(0,a.jsxs)(eK,{className:"file_move--teamSection--icBDq",isTeamNew:c,firstFolderFocusedIndex:u,hasFolderSection:o,children:[(0,a.jsx)(eq,{team:l,teamId:s,showTitle:i,isACustomTeam:n,fileNotInTeam:m,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),o&&(t.foldersByTeamId[s]||[]).map((r,i)=>{let o=i+e.indexOffsets[s];return n&&(o+=1),(0,a.jsx)(eJ,{currentFolderId:e.currentFolderId,focusedFolderIndex:t.focusedIndex,folder:r,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:o,isSearchingFolders:!!t.isSearchResult,onDoubleClick:e.onDoubleClick,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:Q.e0.FILE_MOVE_MODAL},`${r.teamId} ${r.id}`)})]},`Team Section ${s}`)}),!e.orgId&&(0,a.jsx)(eA,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:Q.e0.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:s,teams:i,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch})]})}function eJ(e){let t,r,s,i=(0,n.wA)(),o=(0,h.gY)(C.mq),{folder:l}=e,d=e.folderBeingRenamed===e.folder.id,c=e.focusedFolderIndex===e.index,m=e.folderBeingRenamed?eC:c?"file_move--folderRowWrapperFocusedNew--t6En2 file_move--folderRowWrapper--Zmdf0":eC;return(0,a.jsx)("div",{className:m,onMouseDown:()=>{i(P.Dp({indexAt:e.index}))},onContextMenu:t=>{e.onFileMoveContextMenu(t,l)},onDoubleClick:()=>{d||e.onDoubleClick()},children:d?(0,a.jsx)("div",{className:eN,children:(0,a.jsx)(y.p,{className:"file_move--renameInput--K-mmB",placeholderValue:(0,V.CI)(l),submit:t=>{(0,u.sx)("Rename Folder",{trackingContext:e.trackingContextName}),o({folderId:l.id,folderName:t,folderTrackingParams:{team_id:l.teamId}}),i(P.Mn())},cancel:()=>{i(P.Mn())}},`input ${l.id}`)}):(t=(!!l.subscription||(0,V.VA)(l))&&e.isSearchingFolders,r=e.focusedFolderIndex&&e.focusedFolderIndex>-1?c:e.currentFolderId===l.id,s=(0,V.jd)(l)?eU.A:eP.A,(0,a.jsxs)("div",{className:eN,children:[(0,a.jsx)("div",{className:ek,children:(0,a.jsx)(I.B,{svg:r?eF.A:s})}),(0,a.jsx)("span",{className:"file_move--folderName--IrfXM ellipsis--ellipsis--70pHK",children:(0,V.CI)(l)}),(0,a.jsx)("div",{className:ek,children:t&&(0,a.jsx)(I.B,{svg:eD.A})})]}))},`${l.teamId} ${l.id}`)}e$.displayName="FileMoveSearch";class eX extends i.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(P.JG({folderId:this.props.folder.id}))}}render(){var e;let t=this.props.folder,r=t.canRename,s="folder"===(e=this.props.selectedView).view||"recentsAndSharing"===e.view&&e.tab===J.Gw.RECENTLY_VIEWED?"_self":"_blank";return(0,a.jsxs)(b.ms,{className:"file_move--fileMoveContextMenu--ZLCYC",style:this.props.dropdownShown.data.position,children:[(0,a.jsx)(b.c$,{disabled:!r,onClick:this.renameFolder,children:(0,l.tx)("file_browser.file_move.context_menu_rename")}),(0,a.jsx)(b.wv,{}),(0,a.jsx)(b.c$,{href:(0,S.EE)(t.id,t.orgId),target:s,children:(0,l.tx)("file_browser.file_move.context_menu_show_in_files")})]})}}eX.displayName="FileMoveDropdown";class eQ extends i.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return(0,a.jsx)("div",{ref:this.hiddenDivRef,tabIndex:0})}}eQ.displayName="FileMoveHiddenDiv"},411348(e,t,r){"use strict";r.d(t,{FileMoveNoFolderEditModal:()=>T});var s=r(239976),a=r(105652),i=r(645186),n=r(442549),o=r(395227),l=r(71239),d=r(297151),c=r(878521),u=r(732632),m=r(901280),_=r(461027),x=r(850159);r(574988);var p=r(140979),f=r(227031),h=r(523340),g=r(921424),v=r(90550),b=r(289886),j=r(38900),y=r(644350),w=r(392255),E=r(955809);function T(e){return(0,s.jsx)(f.u9,{label:"FileMoveNoFolderEditModal",children:(0,s.jsx)(I,{...e})})}function I(e){let t=(0,i.wA)(),r=a.useCallback(()=>{t(j.Ce())},[t]),f=o.hS({open:!0,onClose:r}),T=(0,p.bc)(y.o6H,{fileKey:e.fileKey});if("loading"===T.status)return(0,s.jsx)(v.qc,{});if("errors"===T.status)return null;let I=T.data?.file?.folderOwnerRole?.user?.handle??(0,x.t)("file_browser.file_move.another_user"),k=e.inDrafts?(0,x.t)("file_browser.file_move.users_drafts",{userHandle:I}):T.data?.file?.project?.path??(0,x.t)("file_browser.file_move.users_folder",{userHandle:I}),C=(0,s.jsxs)("div",{className:b.s.fontMedium.flex.columnGap2.$,children:[e.inDrafts?(0,s.jsx)(m.A,{}):(0,s.jsx)(_.x,{}),k]});return n.v.getFeatureGate("workflow_fpl_feb")?(0,s.jsx)(l.bL,{manager:f,width:"lg",children:(0,s.jsxs)(d.vo,{children:[(0,s.jsx)(d.Y9,{children:(0,s.jsx)(d.hE,{children:(0,x.t)("file_browser.file_move.modal_header_move_file",{fileName:e.fileName})})}),(0,s.jsxs)(d.nB,{...{className:"x78zum5 xdt5ytf x1i71x30"},children:[(0,s.jsx)("div",{...{className:"x78zum5 xg2d0mh"},children:(0,x.tx)("file_browser.file_move.current_location_project_name",{projectName:C})}),(0,s.jsx)("div",{children:e.inDrafts?(0,x.t)("file_browser.file_move.you_cant_move_files_that_are_in_others_drafts"):(0,s.jsxs)(s.Fragment,{children:[(0,x.tx)("file_browser.file_move.you_need_edit_access_to_project_name_to_move_this_file",{projectName:(0,s.jsx)("strong",{children:k})})," ",(0,s.jsx)(c.N,{href:"https://help.figma.com/hc/articles/360038511573",newTab:!0,children:(0,x.t)("general.learn_more")})]})})]}),(0,s.jsx)(d.wi,{children:(0,s.jsx)(d.jk,{children:(0,s.jsx)(u.$n,{variant:"primary",onClick:r,children:(0,x.t)("file_browser.file_move.done")})})})]})}):(0,s.jsxs)(w.OJ,{title:(0,x.t)("file_browser.file_move.modal_header_move_file",{fileName:e.fileName}),onClose:r,children:[(0,s.jsxs)("div",{className:E.IS,children:[(0,s.jsx)("div",{className:b.s.flex.columnGap4.$,children:(0,x.tx)("file_browser.file_move.current_location_project_name",{projectName:C})}),(0,s.jsx)("div",{children:e.inDrafts?(0,x.t)("file_browser.file_move.you_cant_move_files_that_are_in_others_drafts"):(0,s.jsxs)(s.Fragment,{children:[(0,x.tx)("file_browser.file_move.you_need_edit_access_to_project_name_to_move_this_file",{projectName:(0,s.jsx)("span",{className:b.s.fontMedium.$,children:k})})," ",(0,s.jsx)(g.CY,{href:"https://help.figma.com/hc/articles/360038511573",target:"_blank",trusted:!0,children:(0,x.t)("general.learn_more")})]})})]}),(0,s.jsx)("div",{className:E.qr,children:(0,s.jsx)(h.$$,{onClick:r,children:(0,x.t)("file_browser.file_move.done")})})]})}},880605(e,t,r){"use strict";r.d(t,{FileMoveModalV2:()=>eq});var s,a,i=r(239976),n=r(105652),o=r(645186),l=r(557998),d=r(442549),c=r(594293),u=r(878521),m=r(395227),_=r(622063),x=r(824272),p=r(50751),f=r(297151),h=r(317875),g=r(189331),v=r(732632),b=r(71239),j=r(850159),y=r(741542);r(574988);var w=r(955394),E=r(181645),T=r(865804),I=r(140979),k=r(528984),C=r(485587),N=r(227031),S=r(575019),R=r(608293),A=r(623620),F=r(568660),O=r(13723),P=r(90550),L=r(86057),D=r(289886),M=r(497544),U=r(613629),B=r(687497),z=r(490731),W=r(634634),V=r(265581),G=r(170793),H=r(985373),$=r(927243),q=r(222094),K=r(64561),Y=r(39304),J=r(222368),X=r(38900),Q=r(473397),Z=r(336134),ee=r(63504),et=r(12358),er=r(999886),es=r(862958),ea=r(571916),ei=r(235532),en=r(508295),eo=r(487817),el=r(644350),ed=r(331850),ec=r(129862),eu=r(506213),em=r(729370),e_=r(640818),ex=((s=ex||{}).BASE_TAB="base_tab",s.ALL_TEAM="all_team",s.STARRED_TEAM="starred_team",s),ep=((a=ep||{}).SUGGESTED="Suggested",a.STARRED="Starred",a.ALL="All",a),ef=r(975387),eh=r(328151),eg=r(113641),ev=r(35212);let eb=new class{constructor(){this.FileMoveSuggestedSchemaValidator=(0,ev.vh)(),this.getFileMoveSuggestedResults=e=>{let{orgId:t}=e;return this.FileMoveSuggestedSchemaValidator.validate(async({xr:e})=>await e.get("/api/file_move/suggested",ev.td.toAPIParameters({org_id:t})))}}};var ej=r(646350),ey=r(128101),ew=r(534807),eE=r(824662),eT=r(668522),eI=r(472665),ek=r(217343),eC=r(759700),eN=r(324347),eS=r(955809);function eR(e){let{selectedFolder:t,setSelectedFolder:r,selectedTeam:s,setSelectedTeam:a,setBreadcrumbView:o,isOrgContext:l,planId:d,currentFolderId:c,projectFilter:u}=e,m=(0,I.bc)(el.vtM,{orgId:d??""},{enabled:l&&!!d}),_="loaded"===m.status?{id:m.data.currentUser?.baseOrgUser?.draftsProject?.id||"",name:(0,j.t)("file_browser.file_move.drafts"),canEdit:!!m.data.currentUser?.baseOrgUser?.draftsProject?.canEdit}:null,x=_&&(!u||u({id:_.id,name:_.name,teamId:null,workspaceId:null}))&&(0,i.jsx)(eC.o,{folderId:_.id,folderName:_.name,checked:!!t&&t.id===_.id,onSelect:()=>{r({id:_.id,name:_.name,source:ep.ALL})},canEdit:_.canEdit,isCurrentFolder:c===_.id}),p=(0,i.jsx)(eI.B,{onShouldFetchNextPage:()=>{e.fetchMore&&e.fetchMore()},isFetchingNextPage:!1,children:(0,i.jsxs)("div",{className:eS.Er,children:[e.isOrgContext&&x,e.teamsList.map(e=>(0,i.jsx)(eN.P,{teamId:e.id,teamName:e.name,onSelect:()=>{a(e.id,e.name),o(ex.ALL_TEAM),r(null)}},`all-team-${e.id}}`))]})}),f=(0,I.bc)(el.tWm,{teamId:s?s.id:""},{enabled:!!s}),h=f.data?.team?.currentTeamUser?.draftsProject?.id||"",g=!l,v=g&&"loaded"===f.status?(0,i.jsx)(eC.o,{folderId:h,folderName:(0,j.t)("file_browser.file_move.drafts"),teamName:s?.name||"",checked:!!t&&t.id===h,onSelect:()=>{r({id:h,name:(0,j.t)("file_browser.file_move.drafts"),source:ep.ALL})},canEdit:!0,isCurrentFolder:c===h}):null,b="loaded"===f.status?(0,eT.oA)(f.data.team?.allActiveProjects):void 0,y=n.useMemo(()=>{if(b)return u?b.filter(e=>u(e)):b},[b,u]),w="loaded"===f.status?y?.map(e=>(0,i.jsx)(eC.o,{folderId:e.id||"",folderName:e.name||"",teamName:s?.name||"",checked:!!t&&t.id===e.id,onSelect:()=>{r({id:e.id||"",name:e.name||"",source:ep.ALL})},canEdit:e.canEdit,isCurrentFolder:c===e.id,isConnectedProject:(e.activeProjectResourceConnections?.length??0)>0},`team-folder-${e.id}}`)):(0,i.jsx)("div",{className:D.s.h300.$,children:(0,i.jsx)(P.qc,{})});return(0,i.jsxs)("div",{children:[!s&&(0,i.jsx)(L.P,{height:300,children:p}),s&&(0,i.jsx)(L.P,{height:300,children:(0,i.jsxs)("div",{className:eS.Er,children:[(0,i.jsx)(ek.S,{team:f.data?.team,setSelectedFolder:(e,t)=>{r({id:e,name:t,source:ep.ALL})}}),g&&v,w]})})]})}var eA=r(916290);function eF(e){let{setSelectedTeam:t,setBreadcrumbView:r}=e,s=n.useCallback((e,s)=>{t(e,s),r(ex.STARRED_TEAM)},[t,r]),a=n.useMemo(()=>(0,ea.sb)(e.favorites,e.order),[e.favorites,e.order]);return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:D.s.p8.ml8.colorTextSecondary.$,children:e.sectionName||(0,j.t)("sidebar.starred")}),a.map(t=>{if("folder"===t.resourceType){let r=t.resource.project;return r?(0,i.jsx)(eC.o,{folderId:r.id,folderName:r.path,teamName:r.team?.name,checked:!!e.selectedFolder&&e.selectedFolder.id===r.id,onSelect:()=>{e.setSelectedFolder({id:r.id,name:r.path,source:ep.STARRED,isConnectedProject:(r.activeProjectResourceConnections?.length??0)>0})},canEdit:r.canEdit,isCurrentFolder:e.currentFolderId===r.id,isConnectedProject:(r.activeProjectResourceConnections?.length??0)>0},`starred-folder-${r.id}`):(0,i.jsx)(i.Fragment,{})}if("team"===t.resourceType){let r=t.resource.team;return r?(0,i.jsx)(eN.P,{teamId:r.id,teamName:r.name,onSelect:()=>{s(r.id,r.name),e.setSelectedFolder(null)}},`starred-team-${r.id}`):(0,i.jsx)(i.Fragment,{})}})]})}function eO(e){let{teamFilter:t,projectFilter:r}=e,s=n.useMemo(()=>(0,ea.t$)(e.userSidebarSections??[],e.fileBrowserPreferences?.orderedSidebarSections??void 0),[e.userSidebarSections,e.fileBrowserPreferences?.orderedSidebarSections]),a=(0,ea.ds)(null,null,e.favoritedProjects,e.favoritedTeams,null,t,r),o=n.useMemo(()=>{let e={};return a.forEach(t=>{t.resource.sidebarSectionId&&(e[t.resource.sidebarSectionId]?e[t.resource.sidebarSectionId].push(t):e[t.resource.sidebarSectionId]=[t])}),e},[a]),l=s.map(t=>(0,i.jsx)(eF,{breadcrumbView:e.breadcrumbView,currentFolderId:e.currentFolderId,favorites:o[t.id]??[],isOrgContext:e.isOrgContext,order:t.orderedFavoritedResourceIds??[],sectionName:t.name,selectedFolder:e.selectedFolder,selectedTeam:e.selectedTeam,setBreadcrumbView:e.setBreadcrumbView,setSelectedFolder:e.setSelectedFolder,setSelectedTeam:e.setSelectedTeam},`section-${t.id}`)),d=!!(e.selectedTeam&&e.isOrgContext),c=(0,I.bc)(el.tWm,{teamId:e.selectedTeam?e.selectedTeam.id:""},{enabled:d}),u="loaded"===c.status?(0,eT.oA)(c.data.team?.allActiveProjects):void 0,m=n.useMemo(()=>{if(u)return r?u.filter(e=>r(e)):u},[u,r]),_="loaded"===c.status?m&&0===m.length?(0,i.jsxs)("div",{className:eS.Ub,children:[(0,j.tx)("file_browser.file_move.no_projects_in_this_team"),(0,i.jsx)("div",{className:D.s.colorTextSecondary.$})]}):m?.map(t=>(0,i.jsx)(eC.o,{folderId:t.id||"",folderName:t.name||"",teamName:e.selectedTeam?.name||"",checked:!!e.selectedFolder&&e.selectedFolder.id===t.id,onSelect:()=>{e.setSelectedFolder({id:t.id||"",name:t.name||"",source:ep.STARRED,isConnectedProject:(t.activeProjectResourceConnections?.length??0)>0})},canEdit:t.canEdit,isCurrentFolder:e.currentFolderId===t.id,isConnectedProject:(t.activeProjectResourceConnections?.length??0)>0},`all-folder-${t.id}}`)):(0,i.jsx)("div",{className:D.s.h300.$,children:(0,i.jsx)(P.qc,{})});return 0===a.length?(0,i.jsx)("div",{className:eS.Al,children:(0,j.tx)("file_browser.file_move.no_starred_projects_yet")}):(0,i.jsxs)("div",{children:[!d&&(0,i.jsx)(L.P,{height:300,children:l}),d&&(0,i.jsx)(L.P,{height:300,children:_})]})}function eP(e){let t=(0,i.jsx)(eI.B,{onShouldFetchNextPage:eA.lQ,isFetchingNextPage:!1,children:e.teamsList.map(t=>(0,i.jsx)(eN.P,{teamId:t.id,teamName:t.name,onSelect:()=>{e.setSelectedTeam(t.id,t.name),e.setBreadcrumbView(ex.STARRED_TEAM)}},`all-team-${t.id}}`))});return(0,i.jsx)("div",{children:(0,i.jsx)(L.P,{height:300,children:(0,i.jsx)("div",{className:eS.Er,children:t})})})}var eL=r(523340),eD=r(921424),eM=r(824234),eU=r(936652),eB=r(379323),ez=r(852734),eW=r(392255),eV=r(855017);function eG(e){let t=(0,o.wA)(),{onTeamCreate:r}=e,s=n.useCallback(()=>{t(X.to({type:eH,data:{onTeamCreate:r}}))},[t,r]);return(0,i.jsxs)(eL.nR,{onClick:s,className:eS.rJ,children:[(0,i.jsx)(eM.B,{svg:eV.A,className:eS.Xv}),(0,j.tx)("file_browser.file_move.new_team")]})}let eH=(0,eU.Ju)(function(e){let t=(0,o.wA)(),[r,s]=n.useState(""),a=n.useCallback(()=>{t(X.Lo())},[t]),{onTeamCreate:l}=e,d=n.useCallback(e=>{l({id:e.id,name:e.name})},[l]),c=n.useCallback(()=>{t((0,eB.KQ)({teamName:r,orgAccess:eo.bU.PUBLIC,dontRedirect:!0,onSuccessNoRedirect:d,ignoreCurrentPlan:!0})),t(X.Lo())},[t,r,d]);return(0,i.jsx)(eW.OJ,{title:(0,i.jsx)("div",{className:D.s.alignCenter.flex.ml8.$,children:(0,j.tx)("file_browser.file_move.create_team")}),onClose:a,maxWidth:480,minWidth:480,fixedTop:!0,children:(0,i.jsxs)("div",{className:eS.rx,children:[(0,i.jsx)("div",{className:eS.bV,children:(0,j.t)("team_creation.team_name_label")}),(0,i.jsx)(eD.ks,{className:eS._Z,onChange:e=>s(e.target.value),value:r,autoFocus:!0,required:!0,maxLength:ez.qg,minLength:1,placeholder:(0,j.t)("team_creation.writer_s_guild_placeholder")}),(0,i.jsxs)("div",{className:eS.Uo,children:[(0,i.jsx)(eL.nR,{onClick:a,children:(0,j.tx)("project_creation.cancel")}),(0,i.jsx)(eL.$$,{disabled:!r,onClick:c,children:(0,j.tx)("team_creation.create_team")})]})]})})},"FileMoveTeamCreateModal");function e$(e){let{licenseType:t,planName:r,destinationPlan:s,destinationPlanUser:a}=e,n=(0,W.k)(),o=(0,en.iZ)(),l=t?(0,er.F2)(t):null,d=a?(0,em.BG)(a):ee.Gu.VIEW,{calculateCostForSeatTypeIncrease:c,status:m}=(0,z.n)(s,{userId:o?.id??"",currentSeat:{billableProductKey:d===ee.Gu.VIEW?void 0:d,billingInterval:a?.currentSeat?.billingInterval},billableProductKey:l,email:o?.email??""}),_="loaded"===m?c():null,x=(0,Q.mA)(!!(_&&(null!=_.price||"available_seat"===_.reason||"missing_currency"===_.reason||"missing_price"===_.reason)),s.key.type??null),p=(0,i.jsx)(u.N,{target:"_blank",href:"https://help.figma.com/hc/articles/360039960434-Manage-seats-in-Figma",children:(0,j.t)("admin_auto_upgrade_confirmation_modal.body.link_text.learn_more")});if("loading"===m)return(0,i.jsx)("span",{...{className:"x1mjqqkp x13colr4"},children:(0,i.jsx)(M.k,{size:"sm"})});if("loaded"===m&&_&&x()){let e=_?.price??void 0,s=(0,et.ZD)(t,r,{requiredSeatAvailable:_?.price==null&&_?.reason==="available_seat",learnMore:p,cost:e});return s?.body??null}{let e=(0,et.Uw)(t,r);if(!e)return null;let s=n?(0,j.tx)("upgrades.drafts_move.admin_self_upgrade_body.proration_billing_mechanics"):(0,j.tx)("upgrades.drafts_move.admin_self_upgrade_body.legacy_billing_mechanics");return(0,i.jsxs)(i.Fragment,{children:[e.body," ",s]})}}function eq(e){return(0,i.jsx)(N.u9,{label:"FileMoveModalV2",children:(0,i.jsx)(F.n,{boundaryKey:"file-move-modal-v2",errorFallback:(0,i.jsx)(P.qc,{}),loadingFallback:(0,i.jsx)(P.qc,{}),children:(0,i.jsx)(eK,{...e})})})}function eK(e){let t,r,s,a=(0,o.wA)(),u=m.hS({open:e.open,onClose:e.onClose}),N=(0,eE.s)(),z=(0,W.k)(),{files:Q=[],repos:ee=[],onSuccessCallback:en,bannerToDisplay:em,shouldRedirectToSelectedFolder:ev,restoreFiles:eT=!1,titleOverride:eI,teamFilter:ek,projectFilter:eN}=e,eA=Q[0]??ee[0]??null,eF=Q[0]?.editor_type??null,eL=Q[0]?.key??null,eD=!eA,eM=!!eA?.trashed_at&&eT,eU=new Set;Q.forEach(e=>{eU.add(e.folder_id||"")}),ee.forEach(e=>{eU.add(e.folder_id)});let eB=1===eU.size?eU.values().next().value:"",[ez,eW]=n.useState(null),[eV,eH]=n.useState(null),[eq,eK]=n.useState(ep.SUGGESTED),[eY,eJ]=n.useState(ex.BASE_TAB),[eX,eQ]=n.useState(!1),[eZ,e0]=n.useState(null),e1=n.useRef(null),[e2]=(0,w.A)(eZ,400),[e4,e5]=n.useState(null),[e7,e3]=n.useState(null),[e8,e6]=n.useState(!1),e9=Z.h.useTrackingContext({trigger:e_.b.FILE_MOVE_MODAL}),te=n.useCallback(e=>{if(eW(null),e){let t=e;eN&&(t=t.filter(e=>eN({id:e.model.id,name:e.model.name,teamId:e.model.team_id,workspaceId:e.model.workspace_id??null}))),e3([...t.filter(e=>e.model.is_editable),...t.filter(e=>!e.model.is_editable)])}else e3(null)},[eN]),tt=n.useCallback(e=>{e0(e),e1.current=e},[]),tr=n.useCallback((e,t)=>{tt(e),t?.clear&&te(null)},[tt,te]);n.useEffect(()=>{e2?(eQ(!0),ej.$W.getFileMoveSearchResults({query:e2,orgId:e.orgId??null,maxNumResults:50}).then(e=>{e1.current===e2&&(te(e.data.meta.results),e5(e2))}).finally(()=>{eQ(!1)})):te(null)},[e2,e.orgId,te]);let[ts,ta]=n.useState(null);n.useEffect(()=>{eb.getFileMoveSuggestedResults({orgId:e.orgId??null}).then(e=>{let t=e.data.meta.filter(e=>e.is_editable&&e.id!==eB);eN&&(t=t.filter(e=>eN({id:e.id,name:e.name,teamId:e.team_id,workspaceId:e.workspace_id??null}))),ta(t)})},[eB,e.orgId,eN]);let ti=null===ts?(0,i.jsx)("div",{className:D.s.h300.$,children:(0,i.jsx)(P.qc,{})}):0===ts.length?(0,i.jsx)("div",{className:eS.Al,children:(0,j.tx)("file_browser.file_move.no_suggestions_yet_try_moving_your_files",{lineBreak:(0,i.jsx)("br",{})})}):(0,i.jsx)(L.P,{height:300,children:(0,i.jsx)("div",{className:eS.Er,children:ts.map(e=>(0,i.jsx)(eC.o,{folderId:e.id||"",folderName:e.name||(0,j.t)("file_browser.file_move.drafts"),teamName:e.team_name||"",checked:!!ez&&ez.id===e.id,onSelect:()=>{eW({id:e.id||"",name:e.name||"",isConnectedProject:e.is_connected_project,source:ep.SUGGESTED})},canEdit:e.is_editable,isCurrentFolder:e.id===eB,isConnectedProject:e.is_connected_project},`suggested-folder-${e.id}`))})}),tn=(0,ed.S2)(),to=(0,l.unwrap)(tn.data),tl=eA?eA.parent_org_id??eA.team_id:to?.key.parentId??null,td=eA?!!(tl&&tl===eA?.parent_org_id):to?.type===eo.OL.ORG,{status:tc,teams:tu,fetchMore:tm}=(0,V.Ki)({searchQuery:"",filters:{workspaceFilter:null,orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null,discoverabilityFilter:null,audienceFilter:null},sortConfig:{columnName:ef.Kq.NAME,isReversed:!1},membersMap:{},firstPageSize:50,isEndUserSurface:!0,enabled:td,orgId:tl??""}),t_=n.useMemo(()=>{if(tc!==k.r.SUCCESS)return[];let e=tu.map(e=>({id:e.id||"",name:e.name||"",workspaceId:e.workspace_id}));return ek&&(e=e.filter(e=>ek(e))),e},[tc,tu,ek]),[tx,tp]=n.useState(null),[tf,th]=n.useState(null),[tg,tv]=n.useState(null),tb=n.useCallback(async()=>{let e=await ey.k.getPlans();tp(e.data.meta.teams),th(e.data.meta.orgs),tv(e.data.meta.plans),td||1!==e.data.meta.teams.length||eH({id:e.data.meta.teams[0].id,name:e.data.meta.teams[0].name})},[td]);n.useEffect(()=>{tb()},[tb]);let tj=n.useMemo(()=>{if(!tx)return[];let e=tx.sort((e,t)=>e.name.localeCompare(t.name)).map(e=>({id:e.id||"",name:e.name||"",workspaceId:e.workspace_id}));return ek&&(e=e.filter(e=>ek(e))),e},[tx,ek]),ty=td?tf?.find(e=>e.id===tl):tx?.find(e=>e.id===tl),tw=ty?.name||"",tE=td&&ty,tT=(0,I.Rs)((0,el.Gj9)({currentOrgId:td?tl:null,currentTeamId:td?null:eV?.id??null})),tI=n.useMemo(()=>td||"loaded"!==tT.status||null===eV?null:(0,ea.TF)({favoritedFiles:tT.data.currentUser.favoritedFiles,favoritedProjects:tT.data.currentUser.favoritedProjects,favoritedPrototypes:tT.data.currentUser.favoritedPrototypes,currentTeamId:eV.id,plansForUser:tg}),[td,tT,eV,tg]),tk=n.useMemo(()=>{if("loaded"!==tT.status)return null;let e=td?tT.data.currentUser.favoritedProjects:tI?.favoritedProjects;return{fileBrowserPreferences:td?tT.data.currentUser.baseOrgUser?.fileBrowserPreferences:tT.data.currentUser.currentTeamUser?.fileBrowserPreferences,favoritedProjects:e,favoritedTeams:td?tT.data.currentUser.favoritedTeams:[],userSidebarSections:(0,l.unwrap)(tT.data.currentUser.userSidebarSections)||null}},[tT,td,tI]),[tC,tN,tS]=_.t.useTabs({[ep.SUGGESTED]:!0,[ep.STARRED]:!0,[ep.ALL]:!0}),tR=(0,c.WI)(Object.values(ep).map(e=>(0,i.jsx)(_.t.Tab,{...tC[e],children:(0,j.t)(`file_browser.file_move.tab_name_${e.toLowerCase()}`)},e))),tA=!td&&tj.length>1,tF=n.useMemo(()=>{if("loading"===tT.status)return(0,i.jsx)("div",{className:D.s.h300.$,children:(0,i.jsx)(P.qc,{})});if(!tk)return null;let e=(tk.favoritedProjects?.length??0)>0||(tk.favoritedTeams?.length??0)>0;return tA&&null===eV&&e?(0,i.jsx)(eP,{teamsList:tj,setSelectedTeam:(e,t)=>{eH({id:e,name:t})},setBreadcrumbView:eJ}):(0,i.jsx)(eO,{breadcrumbView:eY,currentFolderId:eB,isOrgContext:td,projectFilter:eN,selectedFolder:ez,selectedTeam:eV,setBreadcrumbView:eJ,setSelectedFolder:e=>eW(e),setSelectedTeam:(e,t)=>{eH({id:e,name:t})},teamFilter:ek,...tk})},[tT,tA,tj,eV,tk,ez,eW,eH,td,eY,eJ,eB,ek,eN]),tO=(0,i.jsx)(eR,{breadcrumbView:eY,currentFolderId:eB,fetchMore:td?tm:()=>{},isOrgContext:td,planId:tl,projectFilter:eN,selectedFolder:ez,selectedTeam:eV,setBreadcrumbView:eJ,setSelectedFolder:e=>eW(e),setSelectedTeam:(e,t)=>{eH({id:e,name:t})},teamsList:td?t_:tj}),tP=(0,I.bc)(el.gk5,{projectId:ez?.id},{enabled:!!ez?.id}),tL=tP?.status==="loaded"?tP.data.project:null,tD=(0,I.bc)(el.Y9I,{projectId:ez?.id},{enabled:!!ez?.id}),tM=tD?.status==="loaded"?(0,l.unwrap)(tD.data.project):null,tU=(0,ec.jB)({files:Q,repos:ee,destinationFolderId:ez?.id??null,isDestinationDrafts:tM?.path===""}),{licenseType:tB,destinationPlan:tz,destinationPlanUser:tW,shouldShowCurf:tV,getIsEligibleForProvisionalAccess:tG,cannotUpgradeDisableAction:tH,loading:t$,requiresUpgrade:tq}=tU??{},tK=(0,ec.xd)(tU),tY=eF===eo._Y.FIGMAKE&&tq&&!(0,y.getFeatureFlags)().bake_monetization_plan,tJ=n.useCallback(()=>{a(X.ES({type:"FileMoveModalV2"}))},[a]),tX=n.useCallback(({folder:e,fileCount:t,folderIdToOpen:r})=>{let s=()=>{r&&a(H.sf({view:"folder",folderId:r}))};e6(!1),eM?a(U.F.enqueue({message:(0,j.t)("visual_bell.files_restored_to_folder",{fileCount:t}),button:{text:(0,j.t)("visual_bell.show_in_toast",{destination:e.name}),action:s}})):(a(U.F.enqueue({message:(0,j.t)("visual_bell.files_moved_to_folder",{fileCount:t,folderName:e.name})})),s()),en&&en(e),tJ()},[a,tJ,en,eM]),tQ=(0,S.vb)(),tZ=n.useCallback(()=>{if(!tL||tL.id!==ez?.id)return void a(U.F.enqueue({message:(0,j.t)("visual_bell.error_finding_destination_folder"),error:!0}));let e={id:tL.id,name:tL.name||(0,j.t)("file_browser.file_move.drafts"),teamId:tL.teamId,workspaceId:tL.workspaceId};if(eD){en&&en(e),tJ();return}a(q.z({files:Q,repos:ee,folder:tL,team:tL.team,moveMethod:$.fB.FILE_MOVE_MODAL_V2,onError:tJ,onFinishCallback:async()=>{await tQ(tL),tX({folder:e,fileCount:Q.length+ee.length,folderIdToOpen:ev||eM?tL.id:void 0})},fromFileModal:!0,restoreFiles:eM,draftsMoveData:tU||null})),(0,E.sx)("file_move_modal_v2_submit",{folderId:tL.id,source:ez?.source,fileKeys:Q.map(e=>e.key),repoIds:ee.map(e=>e.id)}),e6(!0)},[eD,tL,ez?.id,ez?.source,a,Q,ee,tJ,en,eM,tU,tQ,tX,ev]),t0=n.useCallback(e=>{tb(),eH(e),eJ(ex.ALL_TEAM)},[tb]);(0,C.oY)(null!==ts,e=>{(0,E.sx)("file_move_modal_v2_latency",{latency_ms:e},{forwardToDatadog:!0})});let t1=!tU.isAdminSelfUpgrade&&tU?.requiresManualUpgrade,t2=!ez||ez.id===eB||ez.id!==tL?.id||e8||t$||t1||tH||tY,t4=n.useRef(!1);n.useEffect(()=>{if(!ts||!tk||t4.current)return;let e=!ts.length,t=!tk.favoritedProjects?.length&&!tk.favoritedTeams?.length;e?e&&!t?eK(ep.STARRED):eK(ep.ALL):eK(ep.SUGGESTED),t4.current=!0},[ts,tk]);let t5=tE?(0,i.jsx)(A.Ex,{color:A.zE.DEFAULT,text:tw,className:D.s.ml6.mr0.noWrap.flex.$,dataTooltipType:eh.Ib.TEXT,dataTooltip:(0,j.t)("file_browser.file_move.files_can_only_be_moved_within_the_same_organization"),dataTooltipShowBelow:!0}):(0,i.jsx)(i.Fragment,{}),t7=Q.length+ee.length,t3=eA?.name&&1===t7?eA.name:(0,j.t)("file_browser.file_move.modal_header_file_count",{fileCount:t7}),t8=(0,R.EJ)(t3,40);eI?(t=eI,r=eI):eM?(t=(0,j.t)("file_browser.file_move.modal_header_restore_file",{fileName:t3}),r=(0,j.t)("file_browser.file_move.modal_header_restore_file",{fileName:t8})):t7>0?(t=(0,j.t)("file_browser.file_move.modal_header_move_file",{fileName:t3}),r=(0,j.t)("file_browser.file_move.modal_header_move_file",{fileName:t8})):(t=(0,j.t)("file_browser.file_move.modal_header_select_location"),r=(0,j.t)("file_browser.file_move.modal_header_select_location")),s=e8?(0,j.t)("file_browser.file_move.moving"):eM?(0,j.t)("file_browser.file_move.restore"):eD?(0,j.t)("file_browser.file_move.select"):(0,j.t)("file_browser.file_move.move");let t6=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.hE,{"aria-label":t,children:r}),t5]}),t9=(0,i.jsx)(h.D.Lazy,{"aria-label":(0,j.t)("file_browser.file_move.search_placeholder"),value:eZ??"",onChange:tr,placeholder:(0,j.t)("file_browser.file_move.search_placeholder"),autoFocus:!0,size:"lg","aria-description":(0,j.t)("general.search_will_update")}),re=(0,i.jsxs)(i.Fragment,{children:[ez?.isConnectedProject&&(0,i.jsx)(x.$y,{variant:"default",children:(0,i.jsx)(p.Q,{children:(0,j.t)("resource_connection.when_you_move_files_everyone_in_the_connected_project_can_access_them")})}),em&&(0,i.jsx)("div",{className:D.s.mt8.mx8.mb4.$,children:em}),eM?(0,i.jsx)(T.fu,{name:"Restore File From Trashed Project Banner",children:(0,i.jsx)("div",{className:D.s.pt6.px8.$,children:(0,i.jsx)(x.$y,{variant:"default",children:(0,i.jsx)(p.Q,{title:(0,j.tx)("file_browser.file_move.file_belongs_to_trashed_project_banner_title"),children:(0,j.tx)("file_browser.file_move.file_belongs_to_trashed_project_banner_text")})})})}):null,(0,i.jsx)("div",{className:eS.KF,children:t9}),(0,i.jsxs)("div",{children:[!e7&&!eX&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:eS.eb,children:[eY===ex.BASE_TAB&&(0,i.jsx)(ew.f,{tabs:tR,height:24}),eY!==ex.BASE_TAB&&(0,i.jsxs)("div",{className:eS.Yf,children:[(0,i.jsx)("button",{className:eS.BY,onClick:()=>{eJ(ex.BASE_TAB),eW(null),(tA||td)&&eH(null)},children:eq}),(0,i.jsx)(B.E,{children:"/"}),(0,i.jsx)("div",{className:D.s.ml6.mr6.ellipsis.noWrap.overflowHidden.$,children:eV?.name})]})]}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_.t.TabPanel,{...tN[ep.SUGGESTED],children:ti}),(0,i.jsx)(_.t.TabPanel,{...tN[ep.STARRED],children:tF}),(0,i.jsx)(_.t.TabPanel,{...tN[ep.ALL],children:tO})]})]}),(e7||eX)&&(0,i.jsx)(L.P,{height:346,children:eX?(0,i.jsx)("div",{className:D.s.h300.$,children:(0,i.jsx)(P.qc,{})}):(0,i.jsxs)("div",{children:[e7&&0===e7.length&&(0,i.jsx)("div",{className:eS.Al,children:(0,i.jsx)(g.T,{role:"alert",children:(0,j.tx)("file_browser.file_move.no_project_or_team_results_matching_query_string",{query:(0,i.jsx)("span",{className:D.s.fontBold.$,children:eZ||""})})})}),(0,i.jsx)("div",{className:eS.Er,children:e7&&e7.map(e=>(0,i.jsx)(eC.o,{canEdit:!!e.model.is_editable,checked:!!ez&&ez.id===e.model.id,fileCount:e.file_count,folderId:e.model.id||"",folderName:(0,i.jsx)(G.f,{text:e.model.name,query:e4??"",highlightFontWeight:550}),isConnectedProject:e.model.is_connected_project??void 0,isCurrentFolder:e.model.id===eB,onSelect:()=>{eW({id:e.model.id||"",name:e.model.name||"",source:"search",isConnectedProject:!!e.model.is_connected_project})},teamName:e.model.team_name?(0,i.jsx)(G.f,{text:e.model.team_name,query:e4??"",highlightFontWeight:550}):""},`search-folder-${e.model.id}}`))})]})})]}),(()=>{let e=tz?.key.parentId;if(!tB||!e||tY)return null;let t=(0,er.F2)(tB);if(!t)return null;let r=null,s=null,n=null;switch(tK){case ec.LU.ADMIN_SELF_UPGRADE:let o=(0,et.Uw)(tB,tw);if(!o)break;r=o.header;let l=z?(0,j.tx)("upgrades.drafts_move.admin_self_upgrade_body.proration_billing_mechanics"):(0,j.tx)("upgrades.drafts_move.admin_self_upgrade_body.legacy_billing_mechanics");s=tz?d.v.getFeatureGate("should_fetch_pricing_for_admin_self_upgrade")?(0,i.jsx)(F.n,{boundaryKey:"admin-self-upgrade-body-text",errorFallback:(0,i.jsx)(P.qc,{}),loadingFallback:(0,i.jsx)(P.qc,{}),children:(0,i.jsx)(e$,{licenseType:tB,planName:tw,destinationPlan:tz,destinationPlanUser:tW})}):(0,i.jsxs)(i.Fragment,{children:[o.body," ",l]}):null;break;case ec.LU.PROVISIONAL_ACCESS:s=(0,es.C8)(tB,tV),tV&&(n=(0,i.jsx)("button",{className:D.s.colorTextBrand.bgTransparent.cursorPointer.$,onClick:()=>{tW&&(0,eu.fm)({licenseType:tB,editorType:eF,dispatch:a,entryPoint:Y.PE.FileMoveUpsell,plan:tz,planUser:tW,fileKey:eL,folderId:ez?.id??null,onRequestWithProvisionalAccess:()=>{},getIsEligibleForProvisionalAccess:tG})({})},children:(0,j.tx)("fullscreen.toolbar_banner.provisional_access.curf.cta")}));break;case ec.LU.REQUESTED:r=(0,j.tx)("upgrades.drafts_move.request_sent_header"),s=(0,j.tx)("upgrades.drafts_move.request_sent_body");break;case ec.LU.CAN_AUTO_UPGRADE:r=(0,j.tx)("upgrades.drafts_move.auto_upgrade_header"),s=(0,j.tx)("upgrades.drafts_move.auto_upgrade_body",{planName:tz?.name});break;case ec.LU.CANNOT_UPGRADE_DISABLE:r=(0,j.tx)("upgrades.drafts_move.cannot_upgrade_header"),s=(0,j.tx)("upgrades.drafts_move.cannot_upgrade_body");break;case ec.LU.REQUEST:r=(0,j.tx)("upgrades.drafts_move.request_header"),s=(0,es.xX)(tB,tz?.name||""),n=(0,i.jsx)("button",{className:D.s.colorTextBrand.bgTransparent.cursorPointer.$,onClick:()=>{tW?.id&&tz.key&&tz.key.type===eo.OL.ORG?tV?(0,eu.fm)({licenseType:tB,editorType:eF,dispatch:a,entryPoint:Y.PE.FileMoveUpsell,plan:tz,planUser:tW,fileKey:eL,folderId:ez?.id??null,onRequestWithProvisionalAccess:()=>{},getIsEligibleForProvisionalAccess:tG})({}):a(K.$V({orgId:e,entryPoint:Y.PE.FileMoveUpsell,licenseType:tB,editorType:eF??void 0,seatTypeKey:t,fileKey:eL??void 0,suppressVisualBell:!0,folderId:ez?.id})):tz.key&&tz.key.type===eo.OL.TEAM&&a(J.Nu({teamId:e,licenseType:tB,editorType:eF??void 0,seatTypeKey:t,fileKey:eL??void 0,entryPoint:Y.PE.FileMoveUpsell,hideSuccessMessage:!0,folderId:ez?.id}))},children:tV?(0,j.tx)("fullscreen.toolbar_banner.provisional_access.curf.cta"):(0,j.tx)("upgrades.request_access")})}return null===s?null:(0,i.jsx)("div",{className:D.s.p8.$,children:(0,i.jsx)(O._,{color:O.S.INFORMATION,padding:8,text:(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsx)("p",{className:D.s.fontSemiBold.$,children:r}),(0,i.jsx)("p",{children:s}),n]})})})})(),N&&(tK&&tM&&!(0,ei.VA)(tM)&&Q.some(e=>(e.editor_type===eo._Y.SITES||e.editor_type===eo._Y.FIGMAKE)&&e.is_published_site&&!e.parent_org_id&&e.team_id!==tM.teamId)?(0,i.jsx)("div",{className:D.s.p8.$,children:(0,i.jsx)(O._,{padding:8,color:O.S.WARNING,text:(0,i.jsx)("p",{children:(0,j.tx)("file_browser.file_move.sites_unpublished_on_file_move_warning")})})}):null)]}),rt=(0,i.jsxs)(f.wi,{children:[eq===ep.ALL&&eY===ex.BASE_TAB&&!e.orgId&&(0,i.jsx)(eG,{onTeamCreate:t0}),(0,i.jsxs)(f.jk,{children:[(0,i.jsx)(v.$n,{variant:"secondary",onClick:tJ,children:(0,j.tx)("modal.cancel")}),(0,i.jsx)(v.$n,{variant:"primary",iconPrefix:e8?(0,i.jsx)("div",{className:eS.Do,children:(0,i.jsx)(M.k,{size:"sm"})}):void 0,disabled:t2,onClick:tZ,children:s})]})]});return(0,i.jsx)(T.fu,{name:eg.e0.FILE_MOVE_MODAL,properties:e9,children:(0,i.jsx)(b.bL,{manager:u,width:"lg",height:"dynamic",children:(0,i.jsxs)(f.vo,{children:[(0,i.jsx)(f.Y9,{children:t6}),(0,i.jsx)(f.nB,{padding:0,children:re}),rt]})})})}},974598(e,t,r){"use strict";r.d(t,{MoveDraftToProjectInterstitialModal:()=>h});var s=r(239976),a=r(645186),i=r(850159),n=r(224542),o=r.n(n),l=r(865804),d=r(705828),c=r(921424),u=r(183890),m=r(317507),_=r(38900),x=r(754305),p=r(103313),f=r(210932);function h(e){let t=(0,a.wA)(),r=()=>{t(m.b({dismissed_move_draft_to_project_interstitial_modal:!0})),t(_.Lo())};return(0,s.jsx)(l.fu,{name:"MoveDraftToProjectInterstitialModal",children:(0,s.jsxs)(x.d_,{title:(0,i.t)("file_browser.draft_to_project.title.plan_spaces"),titleClassName:p.wN,className:p.KP,size:320,popStack:!0,disableClickOutsideToHide:!0,children:[(0,s.jsx)(d.Jn,{className:o()(f.J_,f.BQ),onClick:r}),(0,s.jsxs)("span",{children:[(0,i.tx)("file_browser.draft_to_project.body.plan_spaces"),(0,s.jsx)("br",{})]}),(0,s.jsxs)("div",{className:o()(p.v0,p.hF),children:[(0,s.jsx)("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts",children:(0,s.jsx)(c.tM,{children:(0,i.tx)("general.learn_more")})}),(0,s.jsx)(c.vd,{className:p.pL,onClick:()=>{r(),(0,u.h)(e.file,e.repo,t,e.afterFileMove,e.bannerToDisplay)},children:(0,i.tx)("file_browser.draft_to_project.move")})]})]})})}},549414(e,t,r){"use strict";r.d(t,{cx:()=>i,jS:()=>n});var s=r(513486),a=r(765326);r(96973);let i=a.A.createLazyComponent(()=>Promise.all([r.e("905"),r.e("5493"),r.e("1617"),r.e("826"),r.e("7205"),r.e("7840"),r.e("7606"),r.e("5830"),r.e("8916"),r.e("5639"),r.e("8701"),r.e("1366"),r.e("8783"),r.e("1904"),r.e("9387"),r.e("907"),r.e("2749"),r.e("5693"),r.e("9931"),r.e("8162"),r.e("3416"),r.e("6467"),r.e("3582"),r.e("4395"),r.e("3278")]).then(r.bind(r,96973)).then(e=>e.default),{loading:()=>null,error:s.H4.NONE,componentName:"FileBrowserOverlays"}),n=a.A.createLazyComponent(()=>Promise.all([r.e("905"),r.e("5493"),r.e("1617"),r.e("826"),r.e("7205"),r.e("7840"),r.e("7606"),r.e("5830"),r.e("8916"),r.e("5639"),r.e("8701"),r.e("1366"),r.e("8783"),r.e("1904"),r.e("9387"),r.e("907"),r.e("2749"),r.e("5693"),r.e("9931"),r.e("8162"),r.e("3416"),r.e("6467"),r.e("3582"),r.e("4395"),r.e("3278")]).then(r.bind(r,713552)).then(e=>e.MakeFileCreationTooltip),{loading:()=>null,error:s.H4.NONE,componentName:"MakeFileCreationTooltip"})},91338(e,t,r){"use strict";r.d(t,{AiPromoCodeRedemptionSuccessfulModal:()=>E});var s=r(239976),a=r(105652),i=r(645186),n=r(395227),o=r(71239),l=r(297151),d=r(67548),c=r(850159),u=r(843489),m=r(928006);r(574988);var _=r(214030),x=r(865804),p=r(870527),f=r(113116),h=r(458914),g=r(38900),v=r(487817),b=r(95221),j=r(113641),y=r(195946);function w(){let{color:e}=(0,d.G)();return"dark"===e?(0,s.jsxs)("svg",{width:"332",height:"404",viewBox:"0 0 332 404",fill:"none",children:[(0,s.jsx)("rect",{width:"332",height:"404",fill:"#5E7666"}),(0,s.jsxs)("g",{clipPath:"url(#clip0_307_72017)",children:[(0,s.jsx)("rect",{x:"-40.6338",y:"-5.97046",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"-5.97046",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"-5.97046",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"-5.97046",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"-5.97046",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"-40.6338",y:"76.6036",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"76.6036",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"76.6036",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"76.6036",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"76.6036",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"-40.6338",y:"159.177",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"159.177",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"159.177",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"159.177",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"159.177",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"-40.6338",y:"241.752",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"241.752",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"241.752",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"241.752",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"241.752",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"-40.6338",y:"324.325",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"324.325",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"324.325",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"324.325",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"324.325",width:"82.574",height:"82.574",stroke:"#36463E",strokeWidth:"3.07669"}),(0,s.jsx)("g",{filter:"url(#filter0_dddd_307_72017)",children:(0,s.jsx)("path",{d:"M170.5 126.7C208.332 126.7 239 157.145 239 194.7C239 232.255 208.332 262.7 170.5 262.7C132.668 262.7 102 232.255 102 194.7C102 157.145 132.668 126.7 170.5 126.7ZM174.288 165.73C173.379 162.095 168.213 162.095 167.304 165.73L161.996 186.961L140.766 192.267C137.13 193.176 137.13 198.344 140.766 199.253L161.996 204.56L167.304 225.79C168.213 229.426 173.379 229.426 174.288 225.79L179.596 204.56L200.826 199.253C204.462 198.344 204.462 193.176 200.826 192.267L179.596 186.961L174.288 165.73Z",fill:"#36463E"})}),(0,s.jsx)("path",{d:"M169.998 122.997C209.762 122.997 241.998 155.233 241.998 194.997C241.998 234.762 209.762 266.997 169.998 266.997C130.233 266.997 97.9976 234.762 97.9976 194.997C97.9976 184.28 100.339 174.11 104.539 164.971C105.65 162.553 108.812 162.105 110.694 163.987L110.806 164.099C112.028 165.321 112.315 167.186 111.606 168.762C108.003 176.768 105.998 185.648 105.998 194.997C105.998 230.344 134.651 258.997 169.998 258.997C205.344 258.997 233.998 230.344 233.998 194.997C233.998 159.651 205.344 130.997 169.998 130.997C160.645 130.997 151.76 133.005 143.751 136.611C142.175 137.32 140.311 137.033 139.088 135.811L138.976 135.698C137.095 133.817 137.543 130.656 139.96 129.544C149.103 125.342 159.276 122.997 169.998 122.997ZM159.545 163.823C162.429 152.291 178.607 152.111 181.906 163.283L182.053 163.823L186.196 180.397L202.77 184.54C214.485 187.469 214.485 204.119 202.77 207.048L186.196 211.191L182.053 227.765C179.124 239.48 162.475 239.48 159.545 227.765L155.402 211.191L138.829 207.048C127.114 204.119 127.114 187.469 138.829 184.54L155.402 180.397L159.545 163.823ZM174.292 165.764C173.382 162.129 168.216 162.129 167.307 165.764L162 186.994L140.769 192.302C137.134 193.211 137.134 198.377 140.769 199.286L162 204.594L167.307 225.824C168.188 229.346 173.065 229.456 174.195 226.155L174.292 225.824L179.599 204.594L198.966 199.751L200.83 199.286C204.351 198.406 204.462 193.529 201.16 192.399L200.83 192.302L179.599 186.994L174.292 165.764ZM121.998 130.997C124.207 130.997 125.998 132.788 125.998 134.997V142.997H133.998C136.207 142.997 137.998 144.788 137.998 146.997C137.998 149.206 136.207 150.997 133.998 150.997H125.998V158.997C125.998 161.206 124.207 162.997 121.998 162.997C119.788 162.997 117.998 161.206 117.998 158.997V150.997H109.998C107.788 150.997 105.998 149.206 105.998 146.997C105.998 144.788 107.788 142.997 109.998 142.997H117.998V134.997C117.998 132.788 119.788 130.997 121.998 130.997Z",fill:"#86AB92"})]}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("filter",{id:"filter0_dddd_307_72017",x:"91",y:"124.7",width:"159",height:"175",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,s.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dy:"2"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_307_72017"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dy:"7"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"3.5"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.09 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_307_72017",result:"effect2_dropShadow_307_72017"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dy:"15"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"4.5"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"effect2_dropShadow_307_72017",result:"effect3_dropShadow_307_72017"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dy:"26"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"5.5"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.01 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"effect3_dropShadow_307_72017",result:"effect4_dropShadow_307_72017"}),(0,s.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect4_dropShadow_307_72017",result:"shape"})]}),(0,s.jsx)("clipPath",{id:"clip0_307_72017",children:(0,s.jsx)("rect",{width:"332",height:"404",fill:"white"})})]})]}):(0,s.jsxs)("svg",{width:"332",height:"404",viewBox:"0 0 332 404",fill:"none",children:[(0,s.jsx)("rect",{width:"332",height:"404",fill:"#CFE3C6"}),(0,s.jsxs)("g",{clipPath:"url(#clip0_106_66008)",children:[(0,s.jsx)("rect",{x:"-40.6338",y:"-5.97043",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"-5.97046",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"-5.97046",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"-5.97046",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"-5.97046",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"-40.6338",y:"76.6036",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"76.6036",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"76.6036",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"76.6036",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"76.6036",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"-40.6338",y:"159.178",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"159.178",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"159.178",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"159.178",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"159.178",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"-40.6338",y:"241.752",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"241.752",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"241.752",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"241.752",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"241.752",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"-40.6338",y:"324.325",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"41.9453",y:"324.325",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"124.511",y:"324.325",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"207.087",y:"324.325",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("rect",{x:"289.652",y:"324.325",width:"82.574",height:"82.574",stroke:"#F1F7EC",strokeWidth:"3.07669"}),(0,s.jsx)("g",{filter:"url(#filter0_dddd_106_66008)",children:(0,s.jsx)("path",{d:"M170.5 126.7C208.332 126.7 239 157.145 239 194.7C239 232.255 208.332 262.7 170.5 262.7C132.668 262.7 102 232.255 102 194.7C102 157.145 132.668 126.7 170.5 126.7ZM174.288 165.73C173.379 162.095 168.213 162.095 167.304 165.73L161.996 186.961L140.766 192.267C137.13 193.176 137.13 198.344 140.766 199.253L161.996 204.56L167.304 225.79C168.213 229.426 173.379 229.426 174.288 225.79L179.596 204.56L200.826 199.253C204.462 198.344 204.462 193.176 200.826 192.267L179.596 186.961L174.288 165.73Z",fill:"#F1F7EC"})}),(0,s.jsx)("path",{d:"M169.998 122.997C209.762 122.997 241.998 155.233 241.998 194.997C241.998 234.762 209.762 266.997 169.998 266.997C130.233 266.997 97.9976 234.762 97.9976 194.997C97.9976 184.28 100.339 174.11 104.539 164.971C105.65 162.553 108.812 162.105 110.694 163.987L110.806 164.099C112.028 165.321 112.315 167.186 111.606 168.762C108.003 176.768 105.998 185.648 105.998 194.997C105.998 230.343 134.651 258.997 169.998 258.997C205.344 258.997 233.998 230.343 233.998 194.997C233.998 159.651 205.344 130.997 169.998 130.997C160.645 130.997 151.76 133.005 143.751 136.611C142.175 137.32 140.311 137.033 139.088 135.811L138.976 135.698C137.095 133.817 137.543 130.656 139.96 129.544C149.103 125.342 159.276 122.997 169.998 122.997ZM159.545 163.823C162.429 152.291 178.607 152.111 181.906 163.283L182.053 163.823L186.196 180.397L202.77 184.54C214.485 187.469 214.485 204.119 202.77 207.048L186.196 211.191L182.053 227.765C179.124 239.48 162.475 239.48 159.545 227.765L155.402 211.191L138.829 207.048C127.114 204.119 127.114 187.469 138.829 184.54L155.402 180.397L159.545 163.823ZM174.292 165.764C173.382 162.129 168.216 162.129 167.307 165.764L162 186.994L140.769 192.302C137.134 193.211 137.134 198.377 140.769 199.286L162 204.594L167.307 225.824C168.188 229.346 173.065 229.456 174.195 226.154L174.292 225.824L179.599 204.594L198.966 199.751L200.83 199.286C204.351 198.406 204.462 193.529 201.16 192.399L200.83 192.302L179.599 186.994L174.292 165.764ZM121.998 130.997C124.207 130.997 125.998 132.788 125.998 134.997V142.997H133.998C136.207 142.997 137.998 144.788 137.998 146.997C137.998 149.206 136.207 150.997 133.998 150.997H125.998V158.997C125.998 161.206 124.207 162.997 121.998 162.997C119.788 162.997 117.998 161.206 117.998 158.997V150.997H109.998C107.788 150.997 105.998 149.206 105.998 146.997C105.998 144.788 107.788 142.997 109.998 142.997H117.998V134.997C117.998 132.788 119.788 130.997 121.998 130.997Z",fill:"#5E8F63"})]}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("filter",{id:"filter0_dddd_106_66008",x:"91",y:"124.7",width:"159",height:"175",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,s.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dy:"2"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_106_66008"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dy:"7"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"3.5"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.09 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_106_66008",result:"effect2_dropShadow_106_66008"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dy:"15"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"4.5"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"effect2_dropShadow_106_66008",result:"effect3_dropShadow_106_66008"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dy:"26"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"5.5"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.01 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"effect3_dropShadow_106_66008",result:"effect4_dropShadow_106_66008"}),(0,s.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect4_dropShadow_106_66008",result:"shape"})]}),(0,s.jsx)("clipPath",{id:"clip0_106_66008",children:(0,s.jsx)("rect",{width:"332",height:"404",fill:"white"})})]})]})}function E({onClose:e,onMount:t,planPromo:r}){let E=(0,m.N)("screen and (max-width: 32rem)"),{color:T}=(0,d.G)(),I=(0,i.wA)(),k=a.useCallback(()=>{e(),I(g.Ce())},[e,I]),C=n.hS({open:!0,onClose:k}),N=(0,h.$)({folderData:"DRAFTS_FOLDER",editorType:v._Y.FIGMAKE,newFileFrom:b.f6.AI_PROMO_CODE_REDEMPTION_SUCCESSFUL,contextClicked:"ai_promo_code_redemption_successful"});(0,u.h)(()=>{t()});let S=a.useCallback(()=>{N(),k()},[N,k]);return(0,s.jsx)(x.fu,{name:j.e0.AI_PROMO_CODE_REDEMPTION_SUCCESSFUL_MODAL,children:(0,s.jsx)(o.bL,{manager:C,width:700,overrideCloseButtonColor:E?void 0:"dark"===T?"light":"dark",children:(0,s.jsx)(l.vo,{children:(0,s.jsxs)(l.nB,{padding:0,children:[(0,s.jsx)(l.r1,{children:(0,c.tx)("file_browser.ai_promo_code_redemption_successful.title")}),(0,s.jsxs)("div",{...{className:"x78zum5 xysyzu8"},children:[(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf xl56j7k xm1q3rt x18x6v2m x1iyjqo2 xs83m0k x1t7pqdo"},children:[(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1nfngrj"},children:[(0,s.jsx)("div",{...{className:"x78zum5"},children:(0,s.jsx)(y.M,{})}),(0,s.jsx)("h2",{...{className:"xjz7g13 xuo4v2q xjnky0o xn4joj7 x1ul8uiu"},children:(0,c.tx)("file_browser.ai_promo_code_redemption_successful.title")}),(0,s.jsx)("p",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l"},children:(0,c.tx)("file_browser.ai_promo_code_redemption_successful.description",{numCredits:parseInt(r.value),creditsString:r.value.toLocaleString(),expirationDate:(0,p.A)(r.creditsEndAt).format("LL")})})]}),(0,s.jsx)("div",{...{className:"x78zum5"},children:(0,s.jsx)(f.$z,{variant:"primary",size:"lg",onClick:S,"data-testid":"go-to-figma-make-button",trackingProperties:{trackingDescriptor:_.c.GO_TO_FIGMA_MAKE},children:(0,c.tx)("file_browser.ai_promo_code_redemption_successful.go_to_figma_make")})})]}),!E&&(0,s.jsx)("div",{...{className:"x1c4vz4f x2lah0s x1r429k x1vp1w89 x1lmr5wh x78zum5 x6s0dn4 xl56j7k xb3r6kr"},children:(0,s.jsx)(w,{})})]})]})})})})}},63961(e,t,r){"use strict";r.d(t,{AiPromoCodeSelectPlanModal:()=>D});var s=r(239976),a=r(105652),i=r(645186),n=r(557998),o=r(732632),l=r(395227),d=r(71239),c=r(297151),u=r(129416),m=r(53620),_=r(484209),x=r(850159),p=r(350923),f=r(90242);r(574988);var h=r(214030),g=r(865804),v=r(140979),b=r(113116),j=r(497544),y=r(412427),w=r(985373),E=r(38900),T=r(26197),I=r(487817),k=r(644350),C=r(331850),N=r(328151),S=r(113641),R=r(694151),A=r(470902),F=r(115625);function O({plan:e,onStateChange:t}){let r,s,i,n,o,l,d,{status:c,isAiEnabled:u}=(r=e?{parentId:e.plan_id,type:"org"===e.plan_type?I.OL.ORG:I.OL.TEAM}:null,i=(s=(0,C.F3)(r)).unwrapOr(null),n=i?.type===I.OL.ORG,o=i?.tier===I.Ag.ENTERPRISE,l=n?i?.key.parentId:null,d=(0,v.Rs)((0,k.OMV)({orgId:l}),{enabled:!!l&&o}),a.useMemo(()=>{if(!e)return{status:"loaded",isAiEnabled:null};if("loading"===s.status)return{status:"loading",isAiEnabled:null};if("errors"===s.status||!i)return{status:"error",isAiEnabled:null};let t=!!i.aiFeaturesEnabled;return n&&o?"loading"===d.status?{status:"loading",isAiEnabled:null}:"errors"===d.status?{status:"loaded",isAiEnabled:t}:d.data?.org?.workspaces?.some(e=>{let r=e.workspaceSharedSetting?.aiSetting;return!!r&&"loaded"===r.status&&!!r.data&&"enabled"===r.data!==t})?{status:"loaded",isAiEnabled:!0}:{status:"loaded",isAiEnabled:t}:{status:"loaded",isAiEnabled:t}},[e,s,i,n,o,d]));return a.useEffect(()=>{t(e.plan_id,{isLoading:"loading"===c,isAiEnabled:u??null})},[c,u,e.plan_id,t]),null}function P({plan:e,isDisabled:t,onRedeem:r}){return(0,s.jsxs)("div",{...{className:"x78zum5 x1qughib xi4r6k5 x19y5rnk xmkeg23 x1y0btm7 x7z60cl x1i71x30"},"data-testid":`plan-item-${e.plan_id}`,"data-tooltip":t?(0,x.t)("file_browser.ai_promo_code_select_plan.redeem_disabled_tooltip"):void 0,"data-tooltip-offset-x":4,"data-tooltip-timeout-delay":1,"data-tooltip-show-right":!0,"data-tooltip-type":N.Ib.TEXT,children:[(0,s.jsxs)("div",{...{className:"x78zum5 x1pulhmw xeuugli xb3r6kr"},children:[(0,s.jsx)(R.CH,{shape:"SQUARE",hideFallbackInitial:!1,entity:{id:e.plan_id,name:e.plan_name},size:{imgSize:y.Pf.LARGE,fallbackSize:y.Pf.LARGE},fallbackTintColor:t?_.Tj.textOndisabled:void 0,...{0:{},1:{className:"x1q4l96w"}}[0|!!t]}),(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf xeuugli xb3r6kr"},children:[(0,s.jsx)("div",{...{0:{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh xuxw1ft xb3r6kr xlyipyv"},1:{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh xuxw1ft xb3r6kr xlyipyv xge78cn"}}[0|!!t],children:e.plan_name}),(0,s.jsx)("div",{...{0:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x3vvef7 xuxw1ft xb3r6kr xlyipyv"},1:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xuxw1ft xb3r6kr xlyipyv xge78cn"}}[0|!!t],children:(e=>{switch(e){case I.Ag.STARTER:return(0,x.tx)("file_browser.ai_promo_code_select_plan.tier.starter");case I.Ag.STUDENT:return(0,x.tx)("file_browser.ai_promo_code_select_plan.tier.student");case I.Ag.PRO:return(0,x.tx)("file_browser.ai_promo_code_select_plan.tier.pro");case I.Ag.ORG:return(0,x.tx)("file_browser.ai_promo_code_select_plan.tier.org");case I.Ag.ENTERPRISE:return(0,x.tx)("file_browser.ai_promo_code_select_plan.tier.enterprise");default:return null}})(e.tier)})]})]}),(0,s.jsx)("div",{...{className:"x78zum5 x6s0dn4"},children:(0,s.jsx)(b.Me,{"aria-label":(0,x.t)("file_browser.ai_promo_code_select_plan.redeem_aria_label"),"data-testid":`ai-promo-code-redeem-button-${e.plan_id}`,disabled:t,onClick:r,trackingProperties:{trackingDescriptor:h.c.REDEEM_AI_CREDITS},variant:"ghost",children:(0,s.jsx)(u.a,{})})})]})}function L({onCreateTeam:e}){return(0,s.jsxs)("div",{...{className:"x78zum5 x1qughib xi4r6k5 x19y5rnk xmkeg23 x1y0btm7 x7z60cl x1i71x30"},children:[(0,s.jsxs)("div",{...{className:"x78zum5 x1pulhmw xeuugli xb3r6kr"},children:[(0,s.jsx)("div",{...{className:"x78zum5 x6s0dn4 xl56j7k x1td3qas x10w6t97 x2lah0s x192jxwq x1xsi6zv x1aue78i"},children:(0,s.jsx)(m.e,{})}),(0,s.jsx)("div",{...{className:"x78zum5 xdt5ytf xeuugli xb3r6kr xl56j7k"},children:(0,s.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh x1mzt3pk"},children:(0,x.tx)("file_browser.ai_promo_code_select_plan.create_team.title")})})]}),(0,s.jsx)("div",{...{className:"x78zum5 x6s0dn4"},children:(0,s.jsx)(o.$n,{onClick:e,variant:"primary",size:"lg",children:(0,x.tx)("file_browser.ai_promo_code_select_plan.create_team.button_text")})})]})}function D({onOverlayComplete:e,onRedeem:t}){let r=(0,i.wA)(),o=(0,p.md)(A.e),u=(0,i.d4)(e=>e.plans),[m,_]=a.useState(0===u.length),[h,b]=a.useState({}),y=(0,C.S2)().unwrapOr(null),I=(0,v.Rs)((0,k.akK)({code:o??""}),{enabled:!!o}),N=I.data?(0,n.unwrap)(I.data.planPromo):null,R=[...u].sort((e,t)=>e.plan_id===y?.key.parentId?-1:t.plan_id===y?.key.parentId?1:e.plan_name.localeCompare(t.plan_name)),D=a.useCallback((e,t)=>{b(r=>({...r,[e]:t}))},[]);a.useEffect(()=>{u.length>0?_(!1):(_(!0),r((0,T.hr)({loadedPlans:u})))},[r,u]);let M=l.hS({open:!0,onClose:()=>{e(),r(E.Ce())}}),U=m||"loading"===I.status,B="errors"===I.status,z=u.length>0&&u.every(e=>void 0!==h[e.plan_id]),W=Object.values(h).some(e=>e.isLoading),V=u.every(e=>!h[e.plan_id]?.isAiEnabled);return(0,s.jsx)(g.fu,{name:S.e0.AI_PROMO_CODE_SELECT_PLAN_MODAL,children:(0,s.jsx)(d.bL,{manager:M,width:400,children:(0,s.jsxs)(c.vo,{children:[(0,s.jsx)(c.Y9,{children:(0,s.jsx)(c.hE,{children:(0,x.tx)("file_browser.ai_promo_code_select_plan.title")})}),(0,s.jsxs)(c.nB,{children:[!m&&R.map(e=>(0,s.jsx)(O,{plan:e,onStateChange:D},e.plan_id)),B?(0,s.jsx)("div",{...{className:"x78zum5 x6s0dn4 x1vi7shn xp6roeo"},children:(0,s.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x172n1ly"},children:(0,x.t)("file_browser.ai_promo_code_select_plan.error")})}):U||!z||W?(0,s.jsx)("div",{...{className:"x78zum5 xl56j7k x6s0dn4 xi4r6k5"},children:(0,s.jsx)(j.k,{size:"lg"})}):(0,s.jsxs)("div",{...{className:"x1vi7shn xp6roeo"},children:[(0,s.jsx)("div",{...{className:"x12sbs06"},children:(0,x.tx)("file_browser.ai_promo_code_select_plan.description",{numCredits:parseInt(N?.value??"0"),creditsString:N?.value.toLocaleString()})}),(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1nfngrj"},children:[R.map(e=>(0,s.jsx)(P,{plan:e,isDisabled:!h[e.plan_id]?.isAiEnabled,onRedeem:()=>{N&&(r(E.Ce()),t(e,N))}},e.plan_id)),V&&(0,s.jsx)(L,{onCreateTeam:()=>{f.Co?.setItem(F.a,JSON.stringify(N)),r(E.Ce()),r(w.sf({view:"teamCreation",ignoreCurrentPlan:!0,onTeamCreationSuccess:e=>{f.Co?.setItem(F.W,JSON.stringify(e))}}))}})]})]})]})]})})})}},457551(e,t,r){"use strict";r.d(t,{EduUpgradeModal:()=>b});var s=r(239976),a=r(105652),i=r(645186),n=r(395227),o=r(71239),l=r(297151),d=r(850159),c=r(865804),u=r(921424),m=r(994361),_=r(926808),x=r(898312),p=r(612883),f=r(38900),h=r(110638),g=r(523454);function v({handleClose:e}){let t=(0,i.wA)(),r=a.useCallback(()=>{e(),t((0,x.Dw)({isEduTeam:!0}))},[t,e]);return(0,s.jsx)(u.Ph,{className:"edu_upgrade_modal--createTeamLink--1Y0f8 edu_upgrade_modal--link--G-rSj",onClick:r,trusted:!0,children:(0,d.tx)("edu.or_create_a_new_team")})}function b(){let e=(0,h.FC)(),t=(0,i.wA)(),r=(0,m.s)(),b=a.useCallback(()=>{t(f.Ce())},[t]),j=a.useCallback(e=>{b(),t(p.Vm({teamId:e.id}))},[t,b]),y=a.useMemo(()=>(0,g.Kg)(e),[e]);a.useLayoutEffect(()=>{0!==y.length||r||(b(),t((0,x.Dw)({isEduTeam:!0})))},[t,y.length,b,r]);let w=n.hS({open:!0,onClose:b});return(0,s.jsx)(c.fu,{name:"Edu Team Upgrade Modal",children:(0,s.jsx)(o.bL,{manager:w,width:"lg",children:(0,s.jsxs)(l.vo,{children:[(0,s.jsx)(l.Y9,{children:(0,s.jsx)(l.hE,{autofocus:!0,children:(0,d.t)("edu.upgrade_teams.headline")})}),(0,s.jsx)(l.nB,{children:(0,s.jsxs)("div",{className:"edu_upgrade_modal--container--0PXkz",children:[(0,s.jsxs)("p",{className:"edu_upgrade_modal--bodyText--43miW",children:[(0,d.tx)("edu.upgrade_teams.body",{link:(0,s.jsx)(u.Ph,{className:"edu_upgrade_modal--link--G-rSj",href:"/pricing",target:"_blank",trusted:!0,children:(0,d.tx)("edu.upgrade_teams.body_link_text")})}),y.length>1&&(0,s.jsxs)(s.Fragment,{children:[" ",(0,d.tx)("edu.upgrade_teams.body_multiple_teams")]})]}),(0,s.jsx)(_.I,{eligibleTeams:y,selectTeam:j,showEditorCount:!1,customUpgradeText:(0,d.t)("general.next")}),!r&&(0,s.jsx)(v,{handleClose:b})]})})]})})})}},515748(e,t,r){"use strict";r.d(t,{O:()=>s});let s="make-file-creation-tooltip-target"},713552(e,t,r){"use strict";r.d(t,{MakeFileCreationTooltip:()=>A});var s=r(239976),a=r(105652),i=r(850159),n=r(843489),o=r(214030),l=r(838719),d=r(608763),c=r(458914),u=r(473397),m=r(932630),_=r(890817),x=r(487817),p=r(601198),f=r(812451),h=r(220007),g=r(476219),v=r(515748),b=r(741542),j=r(350923),y=r(779757),w=r(870527),E=r(419586),T=r(520835),I=r(645186),k=r(338883),C=r(697608),N=r(331850),S=r(170003);let R=(0,E.r1)("has_created_figma_make_file");function A({newFileFrom:e}){let t,r,E,A,F,O,P,L,D,M,U=(t=(0,I.d4)(e=>e.user?.drafts_folder_id),r=(0,k.nt)(t),E=(0,C.h)(r.data),A=(0,N.No)(),F=(0,N.YY)(A).unwrapOr(!1),O=r.transform(e=>{let t=E.find(({editorType:e})=>e===x._Y.FIGMAKE),r=F&&(0,S.W)();return!!t?.canCreate&&!r}),P=(0,b.getFeatureFlags)().marketing_promo_modal_figmake_launch,L=(0,j.md)((0,T.eC)(g.CBZ.lifecycle)),D=(0,j.md)(R),M=(0,j.md)((0,T.eC)(g.qiY.lifecycle)),y.Qw.all([O,L,D,M]).transform(([e,t,r,s])=>{if(P){if(!t.lifecycleState||0===t.lifecycleState.count)return!1;let e=new Date(t.lifecycleState.updatedAt);if((0,w.A)(e).isAfter((0,w.A)().subtract(14,"day")))return!1}return!(r||(s.lifecycleState?.count??0)>0&&(0,w.A)(s.lifecycleState?.updatedAt).isAfter((0,w.A)().subtract(3,"day")))&&e})),B=(0,u.Np)(),z="dark"===(0,m.DP)(),{show:W,isShowing:V,complete:G}=(0,_.e)({overlay:g.TUm,priority:p.N.SECONDARY_MODAL,experiment:{check:B,predicate:e=>e,postCheck:()=>!0}},[U]),H=(0,c.$)({folderData:"DRAFTS_FOLDER",editorType:x._Y.FIGMAKE,newFileFrom:e,contextClicked:"make_file_creation_tooltip"});(0,n.h)(()=>{W({canShow:e=>e})});let $=(0,d.S)();return a.useEffect(()=>{$&&G()},[$,G]),(0,s.jsx)(h.rq,{clickOutsideToHide:!0,description:(0,i.tx)("file_browser.make_file_creation_promos.description"),disableHighlight:!1,forceEditorTheme:"seascape",isShowing:V,media:(0,s.jsx)(f.w,{src:(0,l.staticAssetWithUploadsPath)(z?"1a369818117cc7e77826ee246da5938968f29e43":"fcba05f6d2193657ef692fedecfcdf36b4eae871"),aspectRatio:726/540}),onClose:G,primaryCta:{label:(0,i.tx)("file_browser.make_file_creation_promos.cta"),type:"button",onClick:H,ctaTrackingDescriptor:o.c.TRY_FIGMA_MAKE},targetKey:v.O,title:(0,i.tx)("file_browser.make_file_creation_promos.title"),trackingContextName:"Figma Make File Creation Tooltip"})}},685567(e,t,r){"use strict";r.d(t,{DowngradeSurveyModalAdmin:()=>P,DowngradeSurveyModalLeaveTeam:()=>L});var s=r(239976),a=r(645186),i=r(850159),n=r(462198),o=r(953236),l=r(105652),d=r(181645),c=r(921424),u=r(38900),m=r(773201),_=r(392255);function x({id:e,label:t,children:r,onChange:a}){let[i,n]=l.useState(!1);return(0,s.jsxs)("fieldset",{name:e,children:[(0,s.jsxs)("div",{className:"survey_option--inputContainer--cUodA",children:[(0,s.jsx)(c.tB,{id:e,checked:i,onChange:e=>{n(!i),a&&a(e)}}),(0,s.jsx)("label",{className:"survey_option--label--h7n9c",htmlFor:e,children:t})]}),i&&r&&(0,s.jsx)("div",{className:"survey_option--subContainer--24OGX",children:r})]})}var p=r(594293),f=r(224542),h=r.n(f),g=r(645724),v=r(600957),b=r(925420);function j(e){let[t,r]=l.useState(""),a=e=>{r(e.target.value)};return e.textarea?(0,s.jsx)(b.v,{value:t,onChange:a,...e}):(0,s.jsx)(c.ks,{id:e.id,className:"survey_text_input--input--4NQaZ",placeholder:e.placeholder,maxLength:100,value:t,onChange:a})}let y="downgrade_survey_modal_component_v2--surveyQuestions--tMILw",w="downgrade_survey_modal_component_v2--researchContact--ctiJb",E="downgrade_survey_modal_component_v2--hiddenInput--8PlvS",T="downgrade_survey_modal_component_v2--radio--vVW1z",I=[{id:"brl",shorthand:"BRL"},{id:"cad",shorthand:"CAD"},{id:"eur",shorthand:"EUR"},{id:"gbp",shorthand:"GBP"},{id:"jpy",shorthand:"JPY"}];function k({id:e,shorthand:t}){return(0,s.jsxs)("div",{className:"downgrade_survey_modal_component_v2--currencyContainer--wMWT5",children:[(0,s.jsx)("p",{children:(0,i.tx)(`downgrade_survey.survey_option.too_expensive.${e}`)}),(0,s.jsx)("p",{className:"downgrade_survey_modal_component_v2--currencyShorthand--Kq066",children:t})]})}let C=[{id:"too_expensive",value:"Too expensive",children:(0,s.jsx)(function(){let e="other_currency",[t,r]=l.useState(""),a=e=>{r(e.currentTarget.id)},n=[...I.map(({id:e,shorthand:t})=>(0,s.jsx)(g.c$,{id:e,onClick:a,children:(0,s.jsx)(k,{id:e,shorthand:t})},e)),(0,s.jsx)(g.wv,{},"separator"),(0,s.jsx)(g.c$,{id:e,onClick:a,children:(0,i.tx)("downgrade_survey.survey_option.too_expensive.other_currency")},e)];return(0,s.jsx)("fieldset",{children:(0,s.jsx)(x,{id:"currency_conversion",label:(0,i.t)("downgrade_survey.survey_option.too_expensive.currency_conversion"),children:(0,s.jsxs)("fieldset",{className:h()({"downgrade_survey_modal_component_v2--currencySelector__other--s59dy":t===e}),children:[(0,s.jsx)(g.Ve,{label:t.length?(0,i.t)(`downgrade_survey.survey_option.too_expensive.${t}`):(0,i.t)("downgrade_survey.survey_option.too_expensive.currency_selector"),options:n}),(0,s.jsx)("input",{id:"currency",className:E,readOnly:!0,value:t}),t===e&&(0,s.jsx)(j,{id:"currency_input",placeholder:(0,i.t)("downgrade_survey.survey_option.too_expensive.specify_currency")})]})})})},{}),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")),r=t.find(e=>"currency_conversion"===e.id),s=t.find(e=>"currency"===e.id),a=s?.value,i=t.find(e=>"currency_input"===e.id),n=i?.value||a||void 0;return{currencyConversion:r?.checked,currency:n}}},{id:"billing_structure_unclear",value:"Billing structure is unclear"},{id:"no_longer_using_figma_products",value:"No longer using Figma's products",children:(0,s.jsx)(function(){return(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{className:"downgrade_survey_modal_component_v2--additionalQuestion--5-GWH",children:(0,i.tx)("downgrade_survey.survey_option.no_longer_using_figma_products.other_products")}),(0,s.jsx)(j,{id:"other_products",placeholder:(0,i.t)("downgrade_survey.survey_option.no_longer_using_figma_products.text_area")})]})},{}),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"other_products"===e.id);return{products:t?.value||void 0}}},{id:"project_inactive",value:"Project is over or no longer active"},{id:"accidental_upgrade",value:"Did not mean to upgrade"},{id:"switching_plans",value:"Switching to a different plan",children:(0,s.jsx)(function(){let[e,t]=l.useState("");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v.z,{value:e,onChange:e=>t(e),children:[(0,s.jsx)(v.Z,{className:T,value:"Starter plan",children:(0,i.tx)("downgrade_survey.survey_option.switching_plans.starter_plan")}),(0,s.jsx)(v.Z,{className:T,value:"Organization plan",children:(0,i.tx)("downgrade_survey.survey_option.switching_plans.organization_plan")}),(0,s.jsx)(v.Z,{className:T,value:"Enterprise plan",children:(0,i.tx)("downgrade_survey.survey_option.switching_plans.enterprise_plan")}),(0,s.jsx)(v.Z,{className:T,value:"Education plan",children:(0,i.tx)("downgrade_survey.survey_option.switching_plans.education_plan")})]}),(0,s.jsx)("input",{id:"new_plan",className:E,readOnly:!0,value:e})]})},{}),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"new_plan"===e.id);return{newPlan:t?.value||void 0}}}],N={id:"other",value:"Other",children:(0,s.jsx)(function(){return(0,s.jsx)(j,{className:"downgrade_survey_modal_component_v2--otherTextArea--7UJRT",placeholder:(0,i.t)("downgrade_survey.survey_option.other.text_area"),textarea:!0})},{}),getSubOptions:e=>({explanation:e.getElementsByTagName("textarea")[0].value||void 0})},S=(0,p.k4)(C).concat(N);var R=r(212001),A=r(441740);function F({onSubmit:e}){let[t,r]=l.useState([]),n=e=>{let{id:s}=e.currentTarget;t.includes(s)?r(t.filter(e=>e!==s)):r([...t,s])},o=(0,a.wA)(),p=(0,m._6)().teamId;return(0,s.jsx)(_.OJ,{title:(0,i.t)("downgrade_survey.header"),fixedTop:!0,minWidth:370,maxWidth:370,onClose:()=>{o(u.Ce())},dataTestId:"downgrade-survey-modal",children:(0,s.jsxs)("form",{className:"downgrade_survey_modal_component_v2--modalBody--Iwzfh",onSubmit:r=>{r.preventDefault();let s=Array.from(r.currentTarget.getElementsByClassName(y)[0].getElementsByTagName("fieldset")),a=t.map(e=>{let t=s.find(t=>t.name===e),{value:r,getSubOptions:a}=S.find(t=>t.id===e);return{reason:r,...a&&a(t)}}),i=r.currentTarget.getElementsByClassName(w)[0].getElementsByTagName("input")[0].checked;(0,d.sx)("Team Downgrade Survey",{teamId:p,canContact:i,selectedOptions:a.map(e=>JSON.stringify(e))}),e?.(),o(u.Ce())},children:[(0,s.jsxs)("div",{className:"downgrade_survey_modal_component_v2--exitSurvey--DTJPO",children:[(0,s.jsxs)("fieldset",{className:y,children:[(0,s.jsx)("legend",{children:(0,i.tx)("downgrade_survey.what_made_you_cancel_your_plan")}),!t.length&&(0,s.jsx)("p",{className:A.Q,children:(0,i.tx)("downgrade_survey.select_one")}),S.map(({id:e,children:t})=>(0,s.jsx)(x,{id:e,label:(0,i.t)(`downgrade_survey.survey_option.${e}`),onChange:n,children:t},e))]}),(0,s.jsxs)("fieldset",{className:w,children:[(0,s.jsx)("legend",{children:(0,i.tx)("downgrade_survey.research_contact")}),(0,s.jsx)(x,{id:"research",label:(0,i.t)("downgrade_survey.allow_research_contact")})]})]}),(0,s.jsx)("div",{className:"downgrade_survey_modal_component_v2--buttonRow--HNhw7",children:(0,s.jsx)(c.vd,{type:"submit",disabled:!t.length,className:R.pL,autoFocus:!1,children:(0,i.tx)("downgrade_survey.continue")})})]})})}function O({context:e}){let t=(0,a.wA)(),r=(0,a.d4)(e=>e.modalShown?.data.teamId),l=(0,a.d4)(e=>e.teams[r]),d="admin"===e?(0,i.t)("downgrade_survey.go_back"):(0,i.t)("downgrade_survey.do_not_leave_team"),c="leave-team"===e?()=>{(0,n.us)("User entered leave team survey"),t(o.yH({team:l,userInitiated:!0}))}:void 0;return(0,s.jsx)(F,{cancelText:d,onSubmit:c})}function P(){return(0,s.jsx)(O,{context:"admin"})}function L(){return(0,s.jsx)(O,{context:"leave-team"})}},467024(e,t,r){"use strict";r.d(t,{FolderBatchAbandonedDraftDeleteConfirmModal:()=>u});var s=r(239976),a=r(645186),i=r(850159),n=r(181645),o=r(493094);if(1464==r.j)var l=r(863825);var d=r(786348),c=r(754305);function u({folders:e}){let t=(0,a.wA)(),r=(0,o.gY)(d.U);return(0,s.jsx)(c.yX,{confirmationTitle:(0,i.t)("file_browser.delete_project.title"),destructive:!0,confirmText:(0,i.t)("file_browser.batch_delete_project.generic_confirm_label"),onConfirm:()=>{e.forEach(e=>{(0,n.sx)("Folder Batch Abandoned Draft Delete Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId})}),r({folderIds:e.map(e=>e.id)}).catch(()=>{t(l.s.error((0,i.t)("file_browser.api_folder.error_when_deleting")))})},children:(0,i.tx)("file_browser.batch_delete_projects.confirm_text_trash_section",{numProjects:e.length})})}},237477(e,t,r){"use strict";r.d(t,{FolderMoveModal:()=>Y});var s=r(239976),a=r(105652),i=r(645186),n=r(557998),o=r(395227),l=r(71239),d=r(297151),c=r(859978),u=r(850159);r(574988);var m=r(224542),_=r.n(m),x=r(865804),p=r(436174),f=r(227031),h=r(921424),g=r(13723),v=r(824234),b=r(497544),j=r(412427),y=r(48109),w=r(38900),E=r(336134),T=r(140979),I=r(385990),k=r(644350),C=r(483718),N=r(195003),S=r(786348),R=r(110638),A=r(487817),F=r(331850),O=r(72655),P=r(640818),L=r(341549),D=r(852734),M=r(113641),U=r(694151),B=r(335359),z=r(27261),W=r(824662);let V="folder_move--iconContainer--1lQ2Q file_move--iconContainer--IdUpK",G="folder_move--warningContainer--jdNwu";var H=r(863362),$=r(718494),q=r(977030),K=r(587304);function Y(e){return(0,s.jsx)(f.u9,{label:"FolderMoveModal",children:(0,s.jsx)(J,{...e})})}function J(e){var t,r,c;let m,_,f=(0,i.wA)(),j=(0,W.s)(),y=(0,i.d4)(e=>e.currentUserOrgId),U=(0,i.d4)(e=>null!=y?e.orgById[y]:null),V=(0,O.Cc)(e.folderId),$=V.unwrapOr(null)?.key.type===A.OL.ORG,K=$?V.unwrapOr(null)?.key.parentId:null,{orgId:Y,folderIsInOrg:J,orgName:Z}=(0,N.u8)({oldValue:{orgId:y,folderIsInOrg:!!U,orgName:U?.name??void 0},newValue:{orgId:K??null,folderIsInOrg:$,orgName:$?V.unwrapOr(null)?.name:void 0},label:N.A5.FolderMoveModal.orgData,contextArgs:{folderId:e.folderId,currentOrgId:y,folderPlanType:V.unwrapOr(null)?.key.type,folderPlanParentId:V.unwrapOr(null)?.key.parentId},enableFullRead:(0,C.Yz)(C.Ii.WORKFLOW_GROUP_0),newValueReady:"loaded"===V.status}),ee=(0,F.No)().unwrapOr(null),{subscription:et,teamItems:er,workspaceUsers:es,currentTeamItem:ea}=function({orgId:e,folderId:t,planId:r}){let s=(0,I.y)(r),i=(0,T.Rs)((0,k.AbW)({currentOrgId:e,currentTeamId:null,folderId:t}),{enabled:!s}),o=(0,T.Rs)((0,k.Bq6)({planId:r??"",currentOrgId:e,folderId:t}),{enabled:s}),l=s?o:i,{teamItems:d,workspaceUsers:c}=a.useMemo(()=>{let e,t=[];if("loaded"===l.status){if(s){let e=(0,n.unwrap)(o.data?.planRecord?.teamsWithRoleOrGroupEditAccess);if(e)for(let r of e)r.team&&t.push({id:r.team.id,team:r.team})}else for(let e of i.data?.currentUser?.teamRoles??[])e.pending||t.push({id:e.id,team:e.team});e=l.data?.currentUser?.baseOrgUser?.workspaceUsers}return{teamItems:t,workspaceUsers:e}},[l,i,o,s]),u=a.useMemo(()=>{if("loaded"!==l.status)return;let e=s?(0,n.unwrap)(o.data?.project)?.team?.id:i.data?.project?.teamId;if(e)return d.find(t=>t.team?.id===e)},[l,s,i,o,d]);return a.useMemo(()=>({subscription:l,teamItems:d,workspaceUsers:c,userGroupsEnabled:s,currentTeamItem:u}),[l,d,c,s,u])}({orgId:Y,folderId:e.folderId,planId:ee?.planRecordId}),ei=(0,i.d4)(t=>t.folders[e.folderId]),en=(0,n.unwrap)(et.data?.project)??void 0,eo=new Date,el=(0,N.u8)({oldValue:ei?{id:ei.id,teamId:ei.team_id,path:ei.path,inviteOnlyAt:ei.is_invite_only?eo:null,viewOnlyAt:ei.is_view_only?eo:null}:void 0,newValue:en?{id:en.id,teamId:en.teamId,path:en.path,inviteOnlyAt:en.inviteOnlyAt?eo:null,viewOnlyAt:en.viewOnlyAt?eo:null}:void 0,label:N.A5.FolderMoveModal.movingFolder,enableFullRead:(0,C.Yz)(C.Ii.WORKFLOW_GROUP_0),contextArgs:{folderId:e.folderId},newValueReady:"loaded"===et.status}),[ed,ec]=(0,a.useState)(void 0),[eu,em]=(0,a.useState)(void 0),e_=E.h.useTrackingContext({trigger:P.b.FOLDER_MOVE_MODAL}),ex=(0,R.FC)(),{teamItemsByWorkspace:ep,teamsUnassignedToWorkspace:ef}=a.useMemo(()=>(function(e,t,r){let s={},a=[];for(let i of e)if(i.team?.orgId===t&&!i.team?.deletedAt){if(r&&i.team?.id===r)continue;i.team?.workspace?.id?(s[i.team.workspace.id]=s[i.team.workspace.id]??[],s[i.team.workspace.id].push(i)):a.push(i)}return{teamItemsByWorkspace:s,teamsUnassignedToWorkspace:a}})(er,y,ea?.team?.id),[er,y,ea?.team?.id]),eh=es?.find(e=>e?.isMainWorkspace)?.workspaceId,eg=()=>{e.onClose(),f(w.Ce())},ev=o.hS({open:e.open,onClose:eg}),eb=(e,t)=>{ec(e),em(t)},ej=(0,a.useCallback)(()=>{if(ed&&!eu){let e=(0,D.bL)(ed?.id,ed.orgId);p.Ay.redirect(e,"_blank")}},[ed,eu]),ey=(0,a.useCallback)(e=>{if(!J)return;let t={workspaceId:e??L.O,onSubmitReturnToPrevView:!1};f(w.to({type:B.Uc,data:t}))},[J,f]),ew=e=>(0,s.jsx)(s.Fragment,{children:e.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(Q,{team:e.team,selectedTeamId:ed?.id,onSelectTeam:eb,permissionsState:ex},e.id)},`${e.id}-row`))}),eE=e=>(0,s.jsx)("li",{children:(0,s.jsx)(Q,{team:e.team,selectedTeamId:ed?.id,isCurrentTeam:!0,permissionsState:ex,onSelectTeam:eb},e.id)},`${e.id}-row`),eT=Object.keys(ep).length>0,eI=ed&&ea&&ea.team?.id===ed.id,ek=(0,u.t)("file_browser.folder_move.modal_header",{folderName:el?.path??""}),eC=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.nR,{onClick:eg,children:(0,u.tx)("modal.cancel")}),(0,s.jsx)(h.vd,{onClick:()=>{null!=ed&&el?f((0,S.Nr)({folder:el,folderTeam:{id:ea?.team?.id??"",name:ea?.team?.name??""},team:ed,onSuccess:eg})):eg()},disabled:void 0===ed||!eu||!!eI,children:(0,u.tx)("file_browser.folder_move.move_project")})]}),eN="loaded"===V.status&&"loaded"===et.status,eS=eN?(0,s.jsx)("div",{className:"folder_move--teamSection--vYShZ file_move--teamSection--icBDq",children:eT?(t=ep,r=ea,c=eh,_=[m=r?.team?.workspace?.id??null],c&&c!==m&&t[c]&&_.push(c),Object.keys(t).filter(e=>e!==m&&e!==c).sort((e,r)=>{let s=t[e][0]?.team?.workspace?.name?.toLocaleUpperCase()??"",a=t[r][0]?.team?.workspace?.name?.toLocaleUpperCase()??"";return s<a?-1:+(s>a)}).forEach(e=>{_.push(e)}),null!==m&&_.push(null),_).map(e=>{if(null===e){if(ef.length>0)return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsx)(X,{headerName:(0,u.t)("sidebar.workspaces.other_teams"),onCreateNewTeamClick:ey,workspaceId:null})},"unassigned-teams"),(0,s.jsxs)("ul",{"aria-labelledby":"unassigned-teams",children:[null!=ea&&ea.team?.workspace?.id==null&&eE(ea),ew(ef)]})]},"other_teams_key")}else if(ep[e]){let t=ep[e],r=t?t[0].team?.workspace??null:null;return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsx)(X,{headerName:r?.name??"",onCreateNewTeamClick:ey,workspaceId:r?.id??null})},`${e}-header`),(0,s.jsxs)("ul",{"aria-labelledby":`${e}-header`,children:[null!=ea&&ea.team?.workspace?.id===e&&eE(ea),ew(t)]})]},e)}}):(0,s.jsxs)(s.Fragment,{children:[J&&Z&&(0,s.jsx)(X,{headerName:Z,onCreateNewTeamClick:ey,workspaceId:null},"org_teams_header"),null!=ea&&eE(ea),ew(ef)]})}):(0,s.jsx)("div",{className:"folder_move--loadingContainer--nru5d",children:(0,s.jsx)(b.k,{})}),eR=eN&&ed&&!eu&&(0,s.jsx)("div",{className:G,children:(0,s.jsxs)("div",{className:"folder_move--warningBanner--3H5LR",children:[(0,s.jsx)("div",{className:"folder_move--warningSectionIcon--gFjr8",children:(0,s.jsx)(v.B,{svg:q.A})}),(0,s.jsxs)("div",{children:[(0,u.tx)("file_browser.folder_move.move_project_no_edit_access_warning"),(0,s.jsxs)("div",{className:"folder_move--warningCTALink--vLsqs",onClick:ej,role:"link",tabIndex:0,children:[(0,u.tx)("file_browser.folder_move.view_team"),(0,s.jsx)("div",{className:"folder_move--arrowRightIcon--hQ9Tr",children:(0,s.jsx)(v.B,{svg:H.A})})]})]})]})}),eA=en?.hasPublishedSite,eF=eN&&(j||(0,z.aI)())&&!J&&ed&&eu&&eA&&(0,s.jsx)("div",{className:G,children:(0,s.jsx)(g._,{dataTestId:"project-move-site-unpublish-banner",color:g.S.ERROR,text:(0,u.t)("file_browser.file_move.sites_unpublished_on_project_move_warning")})});return(0,s.jsx)(x.fu,{name:M.e0.FILE_MOVE_MODAL,properties:e_,children:(0,s.jsx)(l.bL,{manager:ev,width:"md",children:(0,s.jsxs)(d.vo,{children:[(0,s.jsx)(d.Y9,{children:(0,s.jsx)(d.hE,{children:ek})}),(0,s.jsx)(d.nB,{padding:0,children:eS}),(0,s.jsxs)(d.Pt,{...{className:"x78zum5 xdt5ytf xkib98w x167g77z"},children:[eR,eF,(0,s.jsx)(d.jk,{children:eC})]})]})})})}function X(e){return(0,s.jsxs)("div",{className:"folder_move--teamsHeaderRow--VMFmx text--fontPos12--oWc5z text--_fontBase--VaHfk",children:[(0,s.jsx)("h2",{children:e.headerName}),(0,s.jsx)("div",{className:"folder_move--additionButtonContainer--Wzvi1",children:(0,s.jsx)(y.f,{data_tooltip:(0,u.t)("file_browser.inline_team_creation.button_text"),data_onboarding_key:"new-team-button",innerText:(0,u.t)("file_browser.inline_team_creation.button_text"),onClick:()=>{e.onCreateNewTeamClick(e.workspaceId)}})})]})}function Q(e){let{team:t}=e,r=t?.canEdit??!1,a=(0,F.No)().unwrapOr(null),i=(0,I.y)(a?.planRecordId);if(null==t)return(0,s.jsx)(s.Fragment,{});let n=_()("folder_move--selectedTeamTitle--x4lNR","folder_move--selectedTeamTitleBorder--GA6vo"),o=_()("folder_move--teamTitle--TUdW9 file_move--teamTitle--8QZeR text--fontPos12--oWc5z text--_fontBase--VaHfk",e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===e.team?.id?n:"","folder_move--teamTitleFpl--GmVVE"),l=t?(0,s.jsx)(U.CH,{shape:"ROUNDED_SQUARE",hideFallbackInitial:!0,entity:t,size:{imgSize:j.Pf.SMALL,fallbackSize:j.Pf.SMALL}}):K.A,d=i?e.isCurrentTeam?(0,s.jsx)(v.B,{svg:$.A}):l:(0,s.jsx)(v.B,{svg:e.isCurrentTeam?$.A:K.A});return(0,s.jsxs)(c.E,{className:o,onClick:()=>{e.onSelectTeam&&e.onSelectTeam(t,r)},"aria-pressed":e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===e.team?.id,children:[(0,s.jsx)("div",{className:V,children:d}),(0,s.jsx)("div",{className:"folder_move--teamTitleRow--vtD-x file_move--teamTitleRow--cryRD",children:(0,s.jsx)("div",{className:"folder_move--teamName--gk-XM file_move--teamName--dIqNj",children:t.name})}),e.selectedTeamId===t.id&&!r&&(0,s.jsx)("div",{className:V,children:(0,s.jsx)(v.B,{svg:q.A})})]})}},951206(e,t,r){"use strict";r.d(t,{FolderPermanentlyDeleteConfirmModal:()=>g});var s=r(239976),a=r(645186);if(1464==r.j)var i=r(395227);if(1464==r.j)var n=r(71239);if(1464==r.j)var o=r(297151);if(1464==r.j)var l=r(732632);var d=r(850159),c=r(181645),u=r(493094),m=r(289886);if(1464==r.j)var _=r(863825);if(1464==r.j)var x=r(149108);var p=r(786348),f=r(235532),h=r(641009);function g(e){var t;let r=(0,a.wA)(),g=i.hS({open:e.open,onClose:e.onClose}),v=(0,u.gY)(p.Q4),b=(0,h.x)(e.folder.id,!0),j=(0,s.jsx)("span",{className:m.s.fontBold.$,children:(0,f.CI)(e.folder)}),y=(0,d.t)("file_browser.delete_project.delete_project"),w="loaded"!==b.status?(0,d.tx)("file_browser.delete_project.generic_confirm_text_permanently_delete_folder",{folderName:j}):0===(t=b.data)?(0,d.tx)("file_browser.delete_project.zero_file_confirm_text_permanently_delete_folder",{folderName:j}):(0,d.tx)("file_browser.delete_project.plural_files_confirm_text_permanently_delete_folder",{folderName:j,numFiles:(0,x.t)(t)}),E="loaded"===b.status&&0===b.data?(0,d.tx)("file_browser.delete_project.once_deleted_this_project_can_no_longer_be_restored"):(0,d.tx)("file_browser.delete_project.once_deleted_this_project_and_its_files_can_no_longer_be_restored");return(0,s.jsx)(n.bL,{manager:g,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:(0,d.tx)("file_browser.trash_project.delete_project_forever")})}),(0,s.jsxs)(o.nB,{children:[(0,s.jsx)("div",{className:m.s.mb16.$,children:w}),(0,s.jsx)("div",{children:E})]}),(0,s.jsx)(o.wi,{children:(0,s.jsxs)(o.jk,{children:[(0,s.jsx)(l.$n,{variant:"secondary",onClick:e.onClose,children:(0,d.tx)("modal.cancel")}),(0,s.jsx)(l.$n,{variant:"destructive",onClick:()=>{(0,c.sx)("Folder Permanently Delete Confirmation Click",{folderId:e.folder.id,teamId:e.folder.teamId,orgId:e.folderOrgId}),v({folderId:e.folder.id}).catch(()=>{r(_.s.error((0,d.t)("file_browser.api_folder.error_when_permanently_deleting_folder")))}),e.onClose()},children:y})]})})]})})}},65305(e,t,r){"use strict";r.d(t,{FolderTrashConfirmModal:()=>E});var s=r(239976),a=r(645186);if(1464==r.j)var i=r(523924);if(1464==r.j)var n=r(395227);if(1464==r.j)var o=r(297151);if(1464==r.j)var l=r(71239);if(1464==r.j)var d=r(851868);if(1464==r.j)var c=r(732632);var u=r(850159),m=r(181645),_=r(493094),x=r(13723),p=r(289886);if(1464==r.j)var f=r(863825);var h=r(497544);if(1464==r.j)var g=r(689738);if(1464==r.j)var v=r(149108);var b=r(38900),j=r(786348),y=r(235532),w=r(641009);function E(e){let{folder:t}=e,r=n.hS({open:e.open,onClose:e.onClose}),a=(0,w.N)(t.id),i="loaded"===a.status?(0,s.jsx)(T,{...e,numFiles:a.data.fileCount,hasPublishedSite:a.data.publishedSiteCount>0}):(0,s.jsx)(o.nB,{padding:{top:"1rem",bottom:"1rem"},children:(0,s.jsx)("div",{className:p.s.flex.justifyCenter.$,"data-testid":"loading-spinner-container",children:(0,s.jsx)(h.k,{})})});return(0,s.jsx)(l.bL,{manager:r,width:"lg",height:"fixed",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:(0,u.t)("file_browser.trash_project.move_project_to_trash")})}),i]})})}function T(e){let t=(0,a.wA)(),r=(0,d.X)(),{folder:n,numFiles:l,hasPublishedSite:h}=e,w=(0,s.jsx)("span",{className:p.s.fontBold.$,children:(0,u.tx)("file_browser.tool_bar.trash")}),E=(e=>{switch(e){case 0:return(0,u.t)("file_browser.trash_project.generic_confirm_label");case 1:return(0,u.t)("file_browser.trash_project.one_file_confirm_label");default:return(0,u.t)("file_browser.trash_project.plural_files_confirm_label",{numFiles:(0,v.t)(e)})}})(l),T=(0,s.jsx)("span",{className:p.s.fontBold.$,children:(0,y.CI)(n)}),I=(e=>{switch(e){case 0:return(0,u.tx)("file_browser.trash_project.zero_file_confirm_text_trash_folder",{folderName:T});case 1:return(0,u.tx)("file_browser.trash_project.one_file_confirm_text_trash_folder",{folderName:T});default:return(0,u.tx)("file_browser.trash_project.plural_files_confirm_text_trash_folder",{folderName:T,numFiles:(0,v.t)(e)})}})(l),k=(0,_.gY)(j.Ct);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.nB,{children:[e.folderState&&(0,s.jsx)("div",{className:p.s.mb12.$,children:(0,s.jsx)(x._,{dataTestId:"trash-folder-warning-banner",color:x.S.ERROR,text:(e=>{switch(e){case g.cm.PENDING_ASSET_TRANSFER:return(0,u.tx)("file_browser.trash_project.warning.pending_asset_transfer");case g.cm.PENDING_RESOURCE_CONNECTION:return(0,u.tx)("file_browser.trash_project.warning.pending_resource_connection");case g.cm.ACTIVE_RESOURCE_CONNECTION:return(0,u.tx)("file_browser.trash_project.warning.active_resource_connection");default:(0,i.xb)(e)}})(e.folderState)})}),(0,s.jsx)("div",{className:p.s.mb12.$,children:I}),h&&(0,s.jsx)("div",{className:p.s.mb12.$,children:(0,u.tx)("file_browser.trash_project.published_site_warning")}),(0,s.jsx)("div",{children:(0,u.tx)("file_browser.trash_project.description_restore",{trashStyled:w})})]}),(0,s.jsx)(o.wi,{children:(0,s.jsxs)(o.jk,{children:[(0,s.jsx)(c.$n,{variant:"secondary",onClick:()=>{e.onClose()},ref:r,children:(0,u.t)("modal.cancel")}),(0,s.jsx)(c.$n,{variant:"destructive",onClick:()=>{(0,m.sx)("Folder Trash Confirmation Click",{folderId:n.id,teamId:n.teamId,orgId:n.orgId}),k({folderId:n.id}).catch(()=>{t(f.s.error((0,u.t)("file_browser.api_folder.error_when_moving_to_trash")))}),t(b.Ce())},children:E})]})})]})}},52944(e,t,r){"use strict";r.d(t,{TeamChangePaymentModal:()=>T});var s=r(239976),a=r(105652),i=r(645186),n=r(850159),o=r(224542),l=r.n(o),d=r(214030),c=r(865804),u=r(702541),m=r(921424),_=r(90550),x=r(289886),p=r(38900),f=r(415591),h=r(431493),g=r(487817),v=r(389218),b=r(3273),j=r(392255),y=r(689617),w=r(674216);function E({currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:o,isReactivating:E,canSeeBillingAddressExp:T,trackingProperties:I,source:k}){let C=E?(0,n.t)("change_payment.success.successfully_reactivated_subscription"):(0,n.t)("change_payment.success.successfully_updated_your_payment_method"),N=(0,i.d4)(e=>(0,v.Np)(e,{view:"teamAdminConsole",teamId:t.teamId,teamAdminConsoleViewTab:b.Iv.SETTINGS})),{createPaymentElement:S,unmountPaymentElement:R,savePayment:A,billingAddress:F,updateBillingAddress:O,nameOnPaymentMethod:P,setNameOnPaymentMethod:L,paymentMethodType:D,error:M}=(0,f.lo)({setupIntentParams:{redirect_url:N,subtotal_estimate:o,success_message:C,currency:e},paymentFlowSource:f.wn.PRO_CHANGE_PAYMENT,customerInfo:t,defaultCountry:r,currency:e,canSeeBillingAddressExp:T,isCheckout:!1,source:k}),[U,B]=a.useState(!1),[z,W]=a.useState(!1),[V,G]=a.useState(window.innerHeight),H=(0,i.wA)(),$=M?.code===f.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,q=()=>H(p.Ce());(0,u.P)(({height:e})=>{G(e)});let K=async e=>{if(e&&e.preventDefault(),W(!0),await A(),E&&t.teamId)try{await (0,h.jL)({planType:g.OL.TEAM,planId:t.teamId})}catch(e){console.error(e)}W(!1)};return(0,s.jsx)(c.fu,{name:"Team Change Payment Modal",properties:I,children:(0,s.jsx)(j.OJ,{title:T?(0,n.t)("change_payment.update_payment_details"):(0,n.t)("change_payment.enter_payment_method"),onClose:q,maxWidth:465,headerSize:"large",children:(0,s.jsxs)("div",{className:l()({[w.$J]:!U,[w.Un]:$}),children:[(0,s.jsxs)("form",{onSubmit:K,children:[(0,s.jsxs)("div",{className:w.KJ,style:{maxHeight:Math.min(V-49-65,660)},children:[U&&T&&(0,s.jsx)("div",{className:x.s.mb16.$,children:(0,s.jsx)("label",{htmlFor:"updatePaymentDetails",className:x.s.colorTextSecondary.$,children:(0,n.tx)("change_payment.update_payment_details_description_default")})}),(0,s.jsx)(y.S,{billingAddress:F,canSeeBillingAddressExp:T,createPaymentElement:S,error:M,nameOnPaymentMethod:P,paymentElementEventHandlers:{ready:()=>B(!0)},paymentFlow:f.wn.PRO_CHANGE_PAYMENT,paymentMethodType:D,unmountPaymentElement:R,updateBillingAddress:O,updateNameOnPaymentMethod:L})]}),U&&!$&&(0,s.jsxs)("div",{className:w.UD,children:[z&&(0,s.jsx)(_.kt,{className:w.u1}),(0,s.jsx)(m.tM,{onClick:q,trackingProperties:{trackingDescriptor:d.c.CANCEL},children:(0,n.tx)("change_payment.cancel")}),(0,s.jsx)(m.vd,{tabIndex:0,type:"submit",disabled:z,trackingProperties:{trackingDescriptor:d.c.SAVE},children:(0,n.tx)("change_payment.save")})]})]}),$&&(0,s.jsx)(m.tM,{onClick:q,children:(0,n.tx)("change_payment.close_window")})]})})})}function T({currency:e,customerInfo:t,defaultCountry:r,monthlySub:a,annualSub:i,isReactivating:n,canSeeBillingAddressExp:o,estimatedChargeCents:l,trackingProperties:d,source:c}){let u=a?.estimated_amount_due??0,m=i?.estimated_amount_due??0,_=l||Math.max(m,u);return(0,s.jsx)(E,{currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:_,isReactivating:n,canSeeBillingAddressExp:o,trackingProperties:d,source:c})}},876094(e,t,r){"use strict";r.d(t,{ChangeVatGstIdModal:()=>b});var s=r(239976),a=r(105652),i=r(645186),n=r(850159),o=r(224542),l=r.n(o),d=r(140979),c=r(227031),u=r(921424),m=r(13723),_=r(38900),x=r(487817),p=r(644350),f=r(392255),h=r(436866),g=r(103313);function v(e,t){return e&&"loaded"===t.status?t.data.org:e||"loaded"!==t.status?null:t.data.team}let b=a.memo(function(e){return(0,s.jsx)(c.u9,{label:"ChangeVatGstIdModal",children:(0,s.jsx)(j,{...e})})}),j=a.memo(function(e){let t=(0,i.wA)(),{updateVatGstId:r}=e,o=!!e.org?.id,c=(0,d.bc)(p.Wt6,{orgId:e.org?.id||""},{enabled:o}),b=(0,d.bc)(p.xS7,{teamId:e.team?.id||""},{enabled:!o}),j=o?c:b,y=v(o,j),w=y?.taxIdVerificationStatus,[E,T]=a.useState(),[I,k]=a.useState(""),[C,N]=a.useState(""),[S,R]=a.useState(!1),[A,F]=a.useState({country:"",state:""}),[O,P]=a.useState(!1);a.useEffect(()=>{let e=y?.taxInfo;if(!O&&"loaded"===j.status&&e?.status==="loaded"){let t=v(o,j),r=e?.data;k(t?.vatGstId||""),N(r?.regionalVatGstId||""),R(r?.canUpdateRegionalVatGst||!1),F({country:r?.country||"",state:r?.state||""}),P(!0)}},[o,j,O,y?.taxInfo]);let L=()=>{t(_.Ce())};return(0,s.jsxs)(f.OJ,{onClose:L,title:(0,n.t)("change_vat_gst_id.input_id"),minWidth:344,maxWidth:344,fixedTop:!0,children:[E&&(0,s.jsx)("div",{className:"change_vat_gst_id_modal--errorBanner--eBVc5","data-testid":"change-vat-gst-id-error",children:(0,s.jsx)(m._,{color:m.S.ERROR,rounded:!1,text:E})}),w===x.kI.VERIFIED&&(0,s.jsx)("div",{"data-testid":"change-vat-gst-id-information",children:(0,s.jsx)(m._,{color:m.S.INFORMATION,rounded:!1,text:(0,n.t)("change_vat_gst_id.tax_id_verification_succeeded")})}),w===x.kI.UNVERIFIED&&(0,s.jsx)("div",{"data-testid":"change-vat-gst-id-warning",children:(0,s.jsx)(m._,{color:m.S.WARNING,rounded:!1,text:(0,n.t)("change_vat_gst_id.tax_id_verification_failed")})}),(0,s.jsxs)("div",{className:g.Dy,children:[(0,s.jsx)("p",{className:"change_vat_gst_id_modal--description--advvQ",children:(0,n.tx)("change_vat_gst_id.description")}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(I,e=>T(e),S?C:"").then(e=>{e&&L()})},"data-testid":"change-vat-form",children:[O&&(0,s.jsx)(h.A,{onChange:k,country:A.country,vatId:I,isCommunityCheckout:!1}),S&&(0,s.jsx)(h.A,{onChange:N,country:A.country,region:A.state,vatId:C,isCommunityCheckout:!1,variant:"regional"}),(0,s.jsx)("div",{className:l()(g.v0,g.hF),children:(0,s.jsx)(u.vd,{className:g.pL,type:"submit",disabled:!O,children:(0,n.tx)("change_vat_gst_id.save_id")})})]})]})]})})},250471(e,t,r){"use strict";r.d(t,{ConfirmDowngradeModal:()=>g});var s=r(239976),a=r(105652),i=r(645186),n=r(850159),o=r(224542),l=r.n(o),d=r(214030),c=r(921424),u=r(517436),m=r(589423),_=r(612883),x=r(38900),p=r(392255),f=r(103313);let h=a.memo(function(e){let t=(0,i.wA)(),{teamId:r,billingEndDate:a}=e.modalShown.data,o=()=>{t(x.Ce())};return(0,s.jsx)(p.OJ,{onClose:o,title:(0,n.t)("confirm_downgrade.cancel_professional_plan"),minWidth:344,maxWidth:344,dataTestId:"downgrade-confirmation-modal",fixedTop:!0,children:(0,s.jsxs)("div",{className:f.Dy,children:[(0,s.jsx)("p",{children:a?(0,n.t)("confirm_downgrade.cancel_professional_plan.message1",{billingEndDate:a}):(0,n.t)("confirm_downgrade.cancel_professional_plan.message1.no_date")}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:(0,n.tx)("confirm_downgrade.cancel_professional_plan.message2",{contactSupport:(0,s.jsx)(u.Ph,{href:"https://help.figma.com/hc/requests/new",trusted:!0,newTab:!0,trackingProperties:{trackingDescriptor:d.c.CONTACT_SUPPORT},children:(0,n.t)("confirm_downgrade.cancel_professional_plan.message2.contact_support")})})}),(0,s.jsxs)("div",{className:l()(f.v0,f.hF),children:[(0,s.jsx)(c.tM,{onClick:o,children:(0,n.tx)("confirm_downgrade.go_back")}),(0,s.jsx)(c.qM,{className:f.pL,onClick:()=>{t(_.Wc({teamId:r})),t((0,x.to)({type:(0,m.l)()}))},children:(0,n.tx)("confirm_downgrade.finish_cancellation")})]})]})})});function g(e){return(0,s.jsx)(h,{...e})}},299673(e,t,r){"use strict";r.d(t,{TeamPermissionsModal:()=>en});var s=r(239976),a=r(105652),i=r(645186),n=r(57712),o=r(297151),l=r(395227),d=r(71239),c=r(850159),u=r(181645),m=r(865804),_=r(59762),x=r(490753),p=r(485587),f=r(227031),h=r(90550),g=r(601173),v=r(38900),b=r(36722),j=r(406200),y=r(391090),w=r(508295),E=r(128003),T=r(385990),I=r(487817),k=r(886213),C=r(818622),N=r(798413),S=r(514713),R=r(449360),A=r(311616),F=r(856201),O=r(997265),P=r(216775),L=r(685698),D=r(882644),M=r(396438),U=r(841301),B=r(676882),z=r(518884),W=r(943944),V=r(490059),G=r(175947),H=r(859978),$=r(390947),q=r(930269),K=r(368932),Y=r(824234),J=r(377821),X=r(909040),Q=r(237536);function Z(e){let t=e.canAdmin,r=(0,s.jsx)("div",{className:X.wk,children:(0,s.jsx)($.b,{})});e.sharingAudienceControl===I.PQ.ORG_EDIT||e.sharingAudienceControl===I.PQ.ORG_VIEW?r=(0,s.jsx)("div",{className:X.AA,children:(0,s.jsx)(q.p,{})}):(e.sharingAudienceControl===I.PQ.WORKSPACE_EDIT||e.sharingAudienceControl===I.PQ.WORKSPACE_VIEW)&&(r=(0,s.jsx)("div",{className:X.AA,children:(0,s.jsx)(K.t,{})}));let a=e.sharingAudienceControl===I.PQ.INVITE_ONLY&&e.isTeamOrgBrowsable,i=a?X.Fl:X.Jt;return(0,s.jsxs)(H.E,{className:t?i:X.zn,onClick:t?()=>e.changeModalView(1):void 0,children:[r,(0,s.jsxs)("div",{className:X.$S,children:[(0,s.jsxs)("div",{children:[e.sharingAudienceControl&&(0,J.ET)(e.sharingAudienceControl,e.org,e.workspace),a&&(0,s.jsx)("div",{className:X.JZ,children:(0,c.t)("team_creation.anyone_can_find_this_team")})]}),e.org&&(0,s.jsxs)("div",{className:X.j7,children:[e.sharingAudienceControl&&(0,J.mi)(e.sharingAudienceControl),t&&(0,s.jsx)(Y.B,{svg:Q.A,className:X.$w})]})]})]})}var ee=r(522795),et=r(857734),er=r(247996),es=r(927869),ea=r(782391);let ei=a.memo(function({roles:e,virtualItems:t,totalSize:r,user:i,parentOrg:n,team:o,teamOrgDomains:l,canAdmin:d,canEdit:c,isCurrentUserTeamOwner:u}){let m=a.useMemo(()=>({team:o,type:I.vt.TEAM}),[o]);return(0,s.jsx)("div",{style:{height:`${r}px`,position:"relative"},children:t.map(t=>{let r=t.index,a=e[r],_=(0,N.OL)(a,d,c);return(0,s.jsx)(er.O,{canEditRole:_,canMakeAdmin:d,currentOrg:n,currentUserOrgId:n?.id??null,isOwnerOfResource:u,orgDomains:l,readOnlyOverrideWarningMessage:null,resource:m,resourceName:o.name,role:a,user:i,virtualRowItem:t},`role-row-${r}`)})})});function en(e){return(0,s.jsx)(f.u9,{label:"TeamPermissionsModal",children:(0,s.jsx)(eo,{...e})})}function eo(e){let{teamId:t,initialInviteLevel:r,prepopulateEmail:f,initialView:H}=e,$=(0,i.wA)(),q=(0,w.Pc)(),K=(0,i.d4)(e=>e.autocomplete),Y=(0,i.d4)(e=>e.contacts),J=(0,i.d4)(e=>e.dropdownShown),X=k.M4.Team.useValue(t).data,Q=(0,y.dr)(t),er=(0,y.eb)(t),en=!!(0,E.f)("affco_suggestions_populated");(0,p.oY)("loaded"===Q.status&&"loaded"===er.status,e=>{let t=er.data?.length??0,r="unknown";r=t<=100?"small":t<=300?"medium":"large",(0,u.sx)("share_modal_latency",{latency_ms:e,modal_type:"team",is_outlier:e>500,role_size:r},{forwardToDatadog:!0})});let eo=Q.data,el=eo&&eo.org,ed=eo&&eo.teamSharingSettings,ec=el?el.id:null,eu=eo&&eo.workspace,em=el&&el.org_domains?el.org_domains:A.ls,e_=eo?.plan?.planRecordId||null,ex=(0,T.y)(e_),ep=a.useMemo(()=>er.data?.sort((e,t)=>e.pending===t.pending?(0,es.E4)(e,Y).toLocaleLowerCase()<(0,es.E4)(t,Y).toLocaleLowerCase()?-1:1:e.pending?1:-1)??[],[Y,er]),ef=eo?.userGroupResourcePermissions,eh=eo&&eo.pendingTeamRoleRequests?eo.pendingTeamRoleRequests:[],{default:eg,inviteLevel:ev,setInviteLevel:eb}=(0,y.oU)({initialValue:r,teamId:t,teamPermissions:eo}),ej=a.useMemo(()=>{let e=[];return eo?.canAdmin&&e.push(F.e6.ADMIN),eo?.canEdit&&e.push(F.e6.EDITOR),eo?.canRead&&e.push(F.e6.VIEWER),e},[eo]),{validateToken:ey,searchResultToken:ew}=(0,j.u)({parentOrg:el,prepopulatedEmail:f,orgDomains:em}),eE=(0,B.uv)(el),eT=e=>{let{emails:r,userGroupsData:s}=(0,P.Zw)(e),a=s.map(e=>e.id);$((0,S.rq)({emails:r,userGroupIds:ex?a:[],userGroupsData:ex?s:[],resourceType:I.vt.TEAM,resourceIdOrKey:t,level:ev,emailsToExclude:(0,R.bp)(Y.usersByEmail,q,ep),source:"team_share_modal",orgName:el?el.name:void 0,teamId:t}))},eI=()=>{$(v.Ce()),$(g.cL())},[ek,eC]=a.useState(H||0),eN=!!X&&!X.org_id,eS=l.hS({open:e.open,onClose:e.onClose}),eR=e=>(0,s.jsx)(m.fu,{name:"Share Modal",properties:{resourceType:I.vt.TEAM,resourceId:t},children:(0,s.jsx)(d.bL,{manager:eS,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:0===ek?(0,s.jsx)(o.hE,{children:(0,c.tx)("team_view.team_permissions_modal.invite_other_members",{teamName:X?.name??""})}):(0,s.jsx)(W.w,{title:(0,c.t)("team_view.team_permissions_modal.share_settings"),onClick:()=>eC(0)})}),(0,s.jsx)(o.nB,{children:e})]})})}),{sharingSuggestions:eA,sharingSuggestionIdsToExclude:eF,sharingSuggestionEmailsToExclude:eO}=(0,V.$)({orgId:ec,teamId:t,contacts:Y.usersByEmail,roles:ep,user:q,autocompleteTokens:K.tokens}),eP=(0,b.Xj)(K.tokens,K,$),eL=a.useCallback(()=>36,[]),eD=a.useRef(null),eM=(0,n.z)({size:ep.length,parentRef:eD,estimateSize:eL,overscan:10,paddingStart:0});return eR(X&&eo?0===ek?eo?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{onKeyDown:e=>{e.keyCode!==x.Uz.ESCAPE&&e.stopPropagation()},children:[eN&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ee.i,{includeCopyLinkButton:!0,teamId:t,dropdownShown:J,initialInviteLevel:eg,teamPermissions:{canAdmin:!!eo?.canAdmin,canEdit:!!eo?.canEdit}}),(0,s.jsx)("div",{className:ea.Vq,children:(0,c.tx)("team_view.team_permissions_modal.invite_by_email")})]}),!!eo?.canAdmin&&(0,s.jsx)(z.$i,{teamId:t,teamRoleRequests:eh,teamRoles:ep}),(0,M.r)(q)?(0,s.jsx)(M.X,{resourceType:"team"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:ea.Zk,children:(0,s.jsx)(L.e,{SearchResultComponent:ex?D.VO:D.o6,TokenComponent:ex?D.Vh:D.gy,autocomplete:K,buttonText:(0,c.t)("team_view.team_permissions_modal.invite"),dispatch:$,dropdownKey:"permissions-invite-dropdown",dropdownShown:J,fixedAutocompleteResults:!0,getSearchResults:ex?e=>(0,R._N)(e,Y.usersByEmail,q,ep,e_,{inviteLevel:ev,source:"team-permissions-modal"},{resourceType:I.vt.TEAM,resourceIdOrKey:t}):e=>(0,R.Wj)(e,Y.usersByEmail,q,ep,ec,t,null,{inviteLevel:ev,source:"team-permissions-modal"}),getSelectText:N.C1,getTokenIdentifier:D.BJ,getTokenPopover:ex?e=>(0,D.pU)(e,eP):void 0,hideDropdownOnEmpty:!0,inviteLevel:ev,joinLinkShown:eN,onHideModal:eI,onInviteLevelChange:eb,onSubmit:e=>{if(el&&el.domain_capture&&em&&em.domains.length>0){let t=(0,P.Zw)(e).emails.filter(e=>(0,_.xf)(e)&&!(0,C.H_)(em.domains,e));if(el?.invite_whitelist_guest_invite_setting==null&&t.length>0)return void $(v.to({type:U.F,data:{emails:t,onConfirm:()=>{eT(e)},popStack:!0,orgName:el.name}}))}eT(e)},options:ej,placeholderText:ex?(0,c.t)("user_groups.add_emails_names_or_user_groups"):(0,c.t)("team_creation.add_a_name_or_email"),searchResultDisabled:ex?D.qq:void 0,searchResultToken:ex?eE:ew,shouldAutoFocus:!eN,validateToken:ey,validateTokensAsEmail:!0})}),(0,s.jsx)(V.t,{suggestions:eA??void 0,autocomplete:K,searchResultToken:ew,resourceType:"team",resourceId:t,idsToExclude:eF??void 0,emailsToExclude:eO??void 0,affcoSuggestionsPopulated:en})]}),el&&(0,s.jsx)("div",{className:ea.BA,ref:eD,children:(0,s.jsxs)("div",{className:ea.QA,children:[(0,s.jsx)("div",{className:ea.TS,children:(0,c.t)("file_permissions_modal.who_has_access")}),(0,s.jsx)(Z,{team:X,workspace:eu,org:el,changeModalView:eC,sharingAudienceControl:ed?.sharingAudienceControl,isTeamOrgBrowsable:ed?.orgBrowsable,canAdmin:!!eo?.canAdmin}),ex&&(ex?(0,O.Pl)(ef).map(e=>(0,s.jsx)(et.$,{userGroupResourcePermission:e,canEditPermission:!!eo?.canEdit,canMakeAdmin:!!eo?.canAdmin,isPrototypePermission:!1},e.id)):null),(0,s.jsx)(ei,{canAdmin:!!eo?.canAdmin,canEdit:!!eo?.canEdit,isCurrentUserTeamOwner:!!eo?.isOwner,parentOrg:el,roles:ep,team:X,teamOrgDomains:em,totalSize:eM.totalSize,user:q,virtualItems:eM.virtualItems})]})})]},"container")}):(0,s.jsx)("div",{className:ea.Lq,children:(0,s.jsx)(h.qc,{})}):el?ed&&(0,s.jsx)(G.nH,{team:X,workspace:eu||void 0,org:el,teamSharingSettings:ed,hideModal:eI,goBack:()=>eC(0)}):(0,s.jsx)(s.Fragment,{}):(0,s.jsx)("div",{className:ea.Lq,children:(0,s.jsx)(h.qc,{})}))}},521537(e,t,r){"use strict";r.d(t,{TeamRenameModal:()=>d});var s=r(239976),a=r(645186),i=r(850159),n=r(379323),o=r(852734),l=r(138193);function d({team:e}){let t=(0,a.wA)();return(0,s.jsx)(l.c,{initialName:e.name,maxLength:o.qg,placeholder:(0,i.t)("resource_rename_modal.team.placeholder"),submitText:(0,i.t)("resource_rename_modal.team.submit"),onRename:r=>t((0,n.IA)({team:e,name:r}))})}},288117(e,t,r){"use strict";r.d(t,{_:()=>s});let s="fb_community_search_shelf_dismiss_count"},682063(e,t,r){"use strict";let s,a;r.d(t,{FileBrowserView:()=>b4});var i,n,o,l,d,c,u,m=r(239976),_=r(105652),x=r(645186),p=r(916290),f=r(741542),h=r(843489),g=r(335127),v=r(3752),b=r(990483),j=r(921282),y=r(111708),w=r(436174),E=r(140979),T=r(493094),I=r(323365),k=r(946182),C=r(572518),N=r(794689),S=r(962645),R=r(943637),A=r(750587),F=r(700217),O=r(394158),P=r(701939),L=r(898312),D=r(523924),M=r(850159),U=r(865804),B=r(289886),z=r(687497),W=r(519582),V=r(347264),G=r(221503),H=r(724675),$=r(477423),q=r(490753),K=r(885705),Y=r(884720),J=r(684325),X=r(184831),Q=r(706354),Z=r(224542),ee=r.n(Z),et=r(668522),er=r(357599),es=r(833933),ea=r(572543),ei=r(571916),en=r(496172),eo=r(865780),el=r(271332),ed=r(508295),ec=r(16936),eu=r(224467),em=r(555235),e_=r(799680),ex=r(574988),ep=r(638871),ef=r(86057),eh=r(82851),eg=r(113116),ev=r(350923),eb=r(214030),ej=r(870527),ey=r(552538),ew=r(890817),eE=r(419586),eT=r(399328),eI=r(601198),ek=r(220007),eC=r(579959),eN=r(476219);let eS="seen_org_admin_moved_unassigned_drafts_onboarding",eR=(0,ej.A)("2024-10-15").startOf("day"),eA=(0,eE.r1)(eS);function eF(){let e=(0,ev.md)(eA),{show:t,isShowing:r,complete:s}=(0,ew.e)({overlay:eN.rv,priority:eI.N.DEFAULT_MODAL},[e]),a=(0,x.d4)(e=>(0,eT.xw)(e)),i=a?.created_at,n=!!i&&(0,ej.A)(i).isSameOrAfter(eR);return(0,h.h)(()=>{t({canShow:e=>!(e||n)})}),(0,m.jsx)(ek.rq,{arrowPosition:eC.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,M.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.body"),isShowing:r,onClose:s,primaryCta:{label:(0,M.tx)("general.got_it"),type:"button",onClick:s,ctaTrackingDescriptor:eb.c.DONE},secondaryCta:{label:(0,M.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:eb.c.LEARN_MORE},shouldCenterArrow:eC.EL.FALLBACK,targetKey:ey.sm,title:(0,M.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.title"),trackingContextName:ey.o8,userFlagOnShow:eS})}var eO=r(798413),eP=r(613549),eL=r(138107);function eD({project:e}){let t=(0,ed.iZ)(),r=(0,eo.dq)(),s=(0,x.d4)(e=>e.currentTeamId),a="drafts"===e?r:e.team?.org?.id,i="drafts"===e?s:e.team?.id,n=(0,eL.vt)(i),o=(0,eP.jn)();return!(0,eO.R$)(t,a)&&!v.A.isAndroidOrIosMobileBrowserSmallScreen&&!(n||o)}var eM=r(434063),eU=r(2894),eB=r(442479),ez=r(985373),eW=r(773201);function eV(){let e=(0,x.wA)(),t=(0,eW.z3)();return(0,m.jsx)(eB.SidebarRow,{onClick:()=>{e(ez.sf({view:"recentsAndSharing"})),e(eU.Oe({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentsAndSharing"===t,icon:(0,m.jsx)(eM.l,{}),text:(0,M.t)("sidebar.recents"),wrapInListItem:!0})}var eG=r(154077),eH=r(317507),e$=r(110638),eq=r(925091),eK=r(487817),eY=r(818622),eJ=r(378291),eX=r(566950),eQ=r(63633),eZ=r(319652),e0=r(813621),e1=r(634193),e2=r(129416);function e4(e){let t=(0,m.jsx)("div",{className:B.s.h24.w24.$,children:(0,m.jsx)(e1.n,{})}),r=(0,m.jsx)(e5,{badge:e.badge}),s=(0,m.jsx)(eB.SidebarRow,{wrapInListItem:!1,icon:t,text:(0,M.t)("sidebar.admin_dashboard"),isSelected:e.isSelected,onClick:e.onClick,badge:r,dataTestId:e.dataTestId,includeBadgeInLabel:!0,"data-onboarding-key":e.dataOnboardingKey});return(0,m.jsx)("li",{className:"go_to_admin_row--goToAdminRow--TJjah",children:s})}function e5(e){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"go_to_admin_row--badgeContainer--LJ-CY",children:e.badge}),(0,m.jsx)("div",{className:"go_to_admin_row--iconContainer--Ni18o","aria-hidden":!0,children:(0,m.jsx)(e2.a,{})})]})}var e7=r(691950),e3=r(690880),e8=r(498253),e6=r(95803),e9=r(142696),te=r(915494),tt=r(547898),tr=r(877757);function ts(e){let t=(0,x.wA)(),r=e.orgUser.permission===eK._D.ADMIN,s=(0,e8.RG)(),a=(0,e8.MX)(),{groupsUserIsAdminOf:i}=(0,e8.EQ)(a,e.orgUser.userId,!r),n=(0,eQ.Xf)(e.org.id),o="loaded"===n.status?n.data?.invoices??[]:void 0;_.useEffect(()=>{t(e7.Jt({forceRefetch:!1}))},[t,e.org.id]);let{groupsToReview:l}=(0,e8.Cz)(i,o),d=i[0]?.id,c=e.org.bigma_enabled&&s&&!!d,u=(0,ec.NJ)(e.org.id).data??[],p=e.org.bigma_enabled&&u.length>0,f=(0,eZ.ZY)({isIntendedAudience:e.org.bigma_enabled&&!r});if(!(r||c||p))return null;let h=function(e){switch(e.view){case"orgAdminSettings":case"billingGroupDashboard":return!0;case"licenseGroup":return e.subView===te.GN.ADMIN;case"workspace":return e.subView===tr.V0.ADMIN;default:return!1}}(e.selectedView),g=(0,m.jsx)(e0.Mn,{org:e.org,orgUser:e.orgUser,selectedView:e.selectedView,isSelected:h});return(0,m.jsx)(e4,{badge:g,onClick:()=>{let e=o&&(0,e6.hX)(o);if(r){let e=tt.J7.DASHBOARD;t(ez.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:e})),t(eU.Oe({clickedResourceType:"orgAdminSettings"}))}else c?f?t(ez.sf({view:"billingGroupDashboard",selectedTab:e9.D.REQUESTS})):(t(ez.sf({view:"licenseGroup",subView:te.GN.ADMIN,licenseGroupId:e&&l.length>0?l[0].id:d,selectedTab:(0,e3.g)(e&&l.length>0?te.RM.MEMBERS:te.Uu["0"])})),t(eU.Oe({clickedResourceType:"licenseGroupAdminSettings"}))):p&&(t(ez.sf({view:"workspace",subView:tr.V0.ADMIN,workspaceId:u[0].id,selectedTab:tr._C})),t(eU.Oe({clickedResourceType:"workspaceAdminSettings"})))},dataTestId:"admin-settings-link",dataOnboardingKey:ey.sm,isSelected:h})}var ta=r(368932);function ti(e){let t=(0,x.d4)(e=>e.currentTeamId),r=(0,x.wA)();return t?(0,m.jsx)(eB.SidebarRow,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{r(L.dm(t)),r(eU.Oe({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:(0,m.jsx)(ta.t,{}),text:(0,M.t)("sidebar.all_projects"),wrapInListItem:!0}):null}var tn=r(208650),to=r(622531);function tl(){let e=(0,x.wA)(),t=(0,x.d4)(e=>"cms"===e.selectedView.view);return(0,m.jsx)(eB.SidebarRow,{isSelected:t,onClick:()=>{e(ez.sf({view:"cms",subView:"list"})),e(eU.Oe({clickedResourceType:"cms"}))},icon:(0,m.jsx)(to.v,{}),text:(0,m.jsxs)(m.Fragment,{children:[(0,M.t)("file_browser.payload.title"),"\xa0",(0,m.jsx)(tn.E,{children:(0,M.t)("file_browser.creation_buttons.alpha")})]}),wrapInListItem:!0})}var td=r(557998),tc=r(402631),tu=r(171020),tm=r(689738),t_=r(613629),tx=r(927243),tp=r(222094);function tf(e,t,r,s,a,i){let n=[],o=[];if(s.isFigFiles_DEPRECATED()){if(!(n=s.getData()))return}else if(s.isRepos_DEPRECATED()){let e=s.getReposData_DEPRECATED();e&&(n=e.files,o=e.repos)}else if(s.isTiles_DEPRECATED()){let e=s.getTilesData_DEPRECATED();e&&(n=e.files,o=e.repos)}e(n.some(e=>e.editor_type===eK._Y.FIGMAKE)&&!i?t_.F.enqueue({message:(0,M.t)("file_browser.file_move.paywall_team_tooltip"),error:!0}):tp.z({files:n,repos:o,folder:t,team:r,draftsMoveData:a?a(n,o):null,moveMethod:tx.fB.DROP_INTO_SIDEBAR_ROW}))}var th=r(459457),tg=r(133304),tv=r(324259),tb=r(483055);function tj(e){let t=e.isSelected,r=_.useRef(null),s=_.useCallback(e=>{t&&!e&&r.current?.scrollIntoView({block:"center"})},[r,t]);return(0,m.jsx)(th.bL,{className:tb.eg,"data-onboarding-key":e["data-onboarding-key"],"data-testid":e.dataTestId,children:(0,m.jsxs)("div",{className:ee()(tb.HT,{[tb.tr]:e.showGrabber,[tb.Pv]:e.isFavoritesToMove_DEPRECATED,[tb.Oh]:e.isFavoritesToMove_DEPRECATED,[tb.wz]:e.isSelected}),children:[(0,m.jsx)(th.O6,{className:tb.YX,onClick:e.onClick}),(0,m.jsx)(eh.a,{onInitialLoad:s}),(0,m.jsxs)("div",{className:tb.C$,children:[e.showGrabber&&(0,m.jsx)(tg.D,{}),e.icon&&(0,m.jsx)(tv.j,{children:e.icon}),(0,m.jsx)(th.hE,{as:"span",children:(0,M.tx)("sidebar.drafts")})]}),(0,m.jsx)(th.HG,{children:e.badge})]})})}var ty=r(324256),tw=r(115861),tE=r(452336),tT=r(128003),tI=r(644350),tk=r(331850),tC=r(533937);let tN=(0,eE.r1)("seen_dtm_deprecation_nav_to_plan_overlay");function tS(e){let t=(0,ev.md)(tN),{show:r,isShowing:s,complete:a}=(0,ew.e)({overlay:eN.xPo,priority:eI.N.DEFAULT_MODAL},[t]);(0,h.h)(()=>{r({canShow:e=>!e})});let i=(0,M.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here"),n=e.isOrg?(0,M.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash"):e.starterTeamCreated?(0,M.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_and_can_always_move_them_to_another_team_or_project"):(0,M.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash");return(0,m.jsx)(ek.rq,{arrowPosition:eC.F_.LEFT_TITLE,description:(0,m.jsx)("p",{children:n}),emphasized:!0,isShowing:s,onClose:a,primaryCta:{label:(0,M.tx)("file_browser.modal.got_it"),type:"button",onClick:()=>{a()},ctaTrackingDescriptor:eb.c.DONE},secondaryCta:{label:(0,M.tx)("file_browser.drafts_to_move.viewbar_learn_more_link"),type:"link",href:"https://help.figma.com/hc/articles/18409526530967",ctaTrackingDescriptor:eb.c.LEARN_MORE},targetKey:tm.uZ,title:i,trackingContextName:"Dtm Deprecation Nav To Plan Overlay",width:300,zIndex:tC.R.MODAL})}var tR=r(236849),tA=r(27261),tF=r(364810);function tO(e){let t=(0,tT.f)("file_browser_onboarded"),[r,s]=_.useState(!1),a=(0,tA.aI)(),i=(0,tk.S2)(),{dtmMigrationPlanName:n,starterTeamCreated:o,dtmPlanParentType:l}=(0,tE.V)((0,td.unwrap)(i.data)||void 0),{shouldShowFirstDtmPostMigrationOverlay:d,switchedFromDtmOnboarding:c}=function(){let e=(0,tk.S2)(),{isDraftsToMovePlan:t,dtmMigrationCompleted:r}=(0,tE.V)((0,td.unwrap)(e.data)||void 0),s=(0,E.bc)((0,tI.sMZ)({name:"switched_to_new_plan_from_dtm_deprecation_onboarding"})),a=!!s?.data?.currentUser?.userFlagByName&&(0,f.getFeatureFlags)().dtm_deprecation_post_migration_onboarding&&t;return{shouldShowFirstDtmPostMigrationOverlay:!a&&t&&r&&(0,f.getFeatureFlags)().dtm_deprecation_post_migration_onboarding,switchedFromDtmOnboarding:a}}();return(0,m.jsx)("li",{children:(0,m.jsxs)(tu.Y,{isDragTarget:e=>{let t=new ty.l(e);return!!(t.isFigFiles_DEPRECATED()||t.isRepos_DEPRECATED()||t.isPrototypes_DEPRECATED()||t.isTiles_DEPRECATED())},onTargetDragEnter:()=>{s(!0)},onTargetDragLeave:()=>{s(!1)},onTargetDrop:t=>{let r=new ty.l(t);tf(e.dispatch,e.folder,null,r,void 0,a),e.dispatch(tw.T()),s(!1)},draggable:!1,onMouseOver:()=>{s(!0)},onMouseLeave:()=>{s(!1)},children:[(0,m.jsx)(tj,{isSelected:"folder"===e.selectedView.view&&e.selectedView.folderId===e.folder.id,onClick:t=>{let r=e.folder;t.metaKey||t.ctrlKey||0!==t.button||(e.dispatch(L.gN(r.id)),e.dispatch(eU.Oe({clickedResourceType:"drafts",resourceIdOrKey:r.id})))},"data-onboarding-key":tm.uZ,icon:(0,m.jsx)(tc.p,{}),text:(0,M.t)("sidebar.drafts"),badge:e.shouldHideCreateFileButton?void 0:(0,m.jsx)(tF.iM,{folderId:e.folder.id,isContainerHovered:r}),wrapInListItem:!1}),d&&t&&(0,m.jsx)(tR.a,{entryPoint:"drafts_sidebar",planName:n,targetKey:tm.uZ,isOrg:"org"===l,starterTeamCreated:o??!1}),c&&t&&(0,m.jsx)(tS,{starterTeamCreated:o,planName:n??"",isOrg:"org"===l})]})})}var tP=r(594293),tL=r(843391),tD=r(466933),tM=r(96973),tU=r(732632),tB=r(695734);let tz="favorited_section--isDragTarget--ujQU-",tW="favorited_section--previewContainer--focY0 _overlayBase--_overlayBase--VoHJ7",tV="favorited_section--previewContainerNoDelay--lPf8y favorited_section--previewContainer--focY0 _overlayBase--_overlayBase--VoHJ7",tG="favorited_section--favoriteClickTarget--uT3R7",tH="favorited_section--thumbnailContainer--rEa3M",t$="favorited_section--lowerContainer--aAfLM",tq="favorited_section--lowerPartTitles--eCnaB",tK="favorited_section--title--hN-cA ellipsis--ellipsis--70pHK",tY="favorited_section--fileIconContainer--JXM6r";function tJ(){let e=(0,x.wA)(),t=(0,x.d4)(eY.wA);return t?(0,m.jsxs)("div",{className:"favorited_section--customSectionsEmptyStateContent--7aDDm",children:[(0,M.tx)("sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"),(0,m.jsx)(tU.$n.Link,{onClick:()=>{e(ez.sf({view:"org",orgId:t.id,orgViewTab:tB.X.HOME}))},children:(0,M.tx)("sidebar.browse_org_custom_sections")})]}):null}function tX(){return(0,m.jsx)("div",{className:"favorited_section--customSectionsEmptyState--42ZbW favorited_section--customSectionsEmptyStateContent--7aDDm",children:(0,m.jsx)(tJ,{})})}var tQ=r(442549),tZ=r(198788),t0=r(714693),t1=r(753166),t2=r(188807),t4=r(539215),t5=r(422840),t7=r(390852),t3=r(552500),t8=r(147911),t6=r(497817),t9=r(15369),re=r(383416),rt=r(717437),rr=r(53620),rs=r(993207),ra=r(216233),ri=r(416815),rn=r(133960),ro=r(936652);let rl=(0,ro.Ju)(function(e){let t=(0,x.wA)(),r=(0,m.jsx)("span",{...ex.xk(ri.g.textBodyMediumStrong),children:e.sectionName});return(0,m.jsx)(rn.R,{open:e.open,onClose:e.onClose,onConfirm:()=>{t(eG.de({sidebarSectionId:e.sectionId}))},title:(0,M.t)("sidebar.delete_section"),confirmText:(0,M.t)("sidebar.delete"),destructive:!0,children:(0,M.tx)("sidebar.delete_section_confirmation",{section:r,count:e.count})})},"CONFIRM_SECTION_DELETE_MODAL",ro.ZU.YES);var rd=r(38900);function rc({customSectionId:e,customSectionName:t,favoritesCount:r,manager:s,setRenamingSectionId:a}){let i=(0,x.wA)();return(0,m.jsx)(t8.bL,{manager:s,children:(0,m.jsxs)(t8.mc,{children:[(0,m.jsx)(t8.q7,{onClick:()=>{a(e)},onPointerUp:p.lQ,children:(0,M.t)("sidebar.rename_section")}),(0,m.jsx)(t8.q7,{onClick:()=>{0===r?i(eG.de({sidebarSectionId:e})):i((0,rd.to)({type:rl,data:{sectionId:e,sectionName:t,count:r}}))},children:(0,M.t)("sidebar.delete_section")})]})})}var ru=r(129862),rm=r(506213);function r_({orderedFavoriteIds:e,sectionId:t,indexWithinSection:r,fileBrowserPrefsId:s,children:a}){let{canDropBefore:i,canDropAfter:n,onDropBefore:o,onDropAfter:l}=rx({orderedFavoriteIds:e,sectionId:t,indexWithinSection:r,fileBrowserPrefsId:s});return(0,m.jsx)(t1.T,{dropAround:{canDropBefore:i,canDropAfter:n,onDropBefore:o,onDropAfter:l,hoverDropTargetBeforeStylex:rf.hoverDropTargetBefore,hoverDropTargetAfterStylex:rf.hoverDropTargetAfter},children:a})}let rx=({orderedFavoriteIds:e,sectionId:t,indexWithinSection:r,fileBrowserPrefsId:s})=>{let{canDrop:a,onDrop:i}=rp({dropBefore:!0,orderedFavoriteIds:e,sectionId:t,indexWithinSection:r,fileBrowserPrefsId:s}),{canDrop:n,onDrop:o}=rp({dropBefore:!1,orderedFavoriteIds:e,sectionId:t,indexWithinSection:r,fileBrowserPrefsId:s});return _.useMemo(()=>({canDropBefore:a,canDropAfter:n,onDropBefore:i,onDropAfter:o}),[a,n,i,o])},rp=({dropBefore:e,orderedFavoriteIds:t,sectionId:r,indexWithinSection:s,fileBrowserPrefsId:a})=>{let i=(0,x.wA)(),{Sprig:n}=(0,tZ.A)(),o=(0,eW._6)(),{canDrop:l,onDrop:d}=(0,t2.X)({onDrop:l=>{let d=l.resources,c=s;if(e||(c+=1),d.length+t.length>ei.fy)return i(t_.F.enqueue({message:(0,M.t)("tile.favoriting.max_favorites",{maxFavorites:ei.fy})})),!1;let u=(0,t0.n)(d);i(eG.zG({resources:u,sectionId:r,insertAtIndex:c,orderedFavoriteIds:t,entrypoint:"sidebar",selectedView:o.view,fileBrowserPrefsId:a,Sprig:n}))}});return _.useMemo(()=>({canDrop:l,onDrop:d}),[l,d])},rf={hoverDropTargetBefore:{kVAEAm:"x1n2onr6",kgeoSG:"x1cpjm7i",kEoFBp:"x1hmns74",k96MEf:"x1r60q8r",kOlAkY:"x1rmj1tg",kgzTxl:"xuuc98b",kLkRvE:"x11bckx6",$$css:!0},hoverDropTargetAfter:{kVAEAm:"x1n2onr6",k5JduY:"x1s928wv",ks3ayO:"xqb2uzs",k4zj60:"x3cntg4",k8Iv0R:"x1te75w5",kwXMNM:"x1j6awrg",kkgrvl:"x4eaejv",$$css:!0}};var rh=r(801236),rg=r(18518);r(947169);let rv=({rowPresentationalContent:e})=>function(t){return(0,m.jsx)("div",{...{className:"xb3r6kr x4pvk5x x17dzmu4 x1vjfegm x1dqkvzg x4zv5z4 x1j0aogd"},children:(0,m.jsx)("div",{className:tb.HT,style:{width:"calc(100% - 2*var(--fileBrowserSidebarRowVerticalMarginCondensed))",boxSizing:"border-box"},children:e})})};var rb=r(108430),rj=r(235532),ry=r(83522),rw=r(886213),rE=r(633015),rT=r(282008),rI=r(701156),rk=r(394390),rC=r(109095),rN=r(907988);let rS="sidebar context menu";function rR(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.selectedView),s=(0,rk.p)(),a=e.favorite.file,i=(0,tA.aI)(),{Sprig:n}=(0,tZ.A)();if(null==a)return null;let o=a.editorType===eK._Y.FIGMAKE&&!i;return(0,m.jsxs)(t8.mc,{children:[(0,m.jsxs)(t8.YJ,{children:[(0,m.jsx)(t8.q7,{onClick:()=>{(0,rs.DF)("open"),(0,rs.LP)(a.key,eK.bk.FILE,e.favorite?.sidebarSectionId??void 0,rS,a.editorType??void 0),(0,rT.Tq)({dispatch:t,fileResult:a,sprig:n})},children:(0,M.t)("tile.dropdown.open")}),!j.eD&&!(0,b.ce)()&&(0,m.jsx)(t8.q7,{onClick:()=>{(0,rT.nz)((0,ry.jN)({file:a,allowDefaulting:!0}),a.key,r,t,n),(0,rs.LP)(a.key,eK.bk.FILE,e.favorite?.sidebarSectionId??void 0,rS,a.editorType),(0,rs.DF)("open_in_new_tab")},children:(0,M.t)("tile.dropdown.open_new_tab")})]}),(0,m.jsx)(rE.b,{resourceId:e.favorite.file.key,resourceType:eK.bk.FILE,orderedSidebarSections:e.orderedSidebarSections,setFavorite:({sectionId:r})=>{t(eG.V1({sectionId:r,favoriteId:e.favorite.id,resourceType:eK.bk.FILE})),(0,f.getFeatureFlags)().file_browser_sentiment_survey&&n("setAttribute","fb_file_organized",!0)},removeFavorite:()=>{t(eG.qP({file:a,repoId:a.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id})),(0,f.getFeatureFlags)().file_browser_sentiment_survey&&n("setAttribute","fb_file_organized",!0)},userHasMaxFavorites:!1,favoriteId:e.favorite.id,currentSectionId:e.favorite.sidebarSectionId}),(0,m.jsxs)(t8.YJ,{children:[(0,m.jsx)(t8.q7,{onClick:()=>{t(tx.S({fileKey:a.key,url:(0,ry.jN)({file:a,attributionContext:(0,rC.b)(s,rC.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:rC.d.FAVORITED_FILE_CONTEXT_MENU}))},children:(0,M.t)("file_browser.copy_link")}),!o&&(0,m.jsx)(t8.q7,{onClick:()=>{(0,rs.DF)("share"),t((0,rd.to)({type:rN.g_,data:{fileKey:a.key,source:rI.nk.fileBrowserFavoritedContextMenu}}))},children:(0,M.t)("sidebar.share")}),null!==a.folderId&&(0,m.jsx)(rA,{favorite:e.favorite,folderId:a.folderId})]})]})}function rA({favorite:e,folderId:t}){let r=(0,x.wA)(),s=e.file?.project?.canView;return null==rw.M4.useFile(e.file?.key).data?null:(0,m.jsx)(t8.q7,{onClick:()=>{(0,rs.DF)("show_in_project"),r(ez.sf({view:"folder",folderId:t}))},disabled:!s,children:(0,M.t)("tile.dropdown.show_in_project")})}var rF=r(590893);function rO({rowText:e,fallbackIcon:t}){let r=(0,rF.AE)(e);return r?(0,m.jsx)("div",{className:"favorited_section--emojiIcon--xV5-V",children:r}):t}function rP({rowText:e,fallbackText:t}){let r=(0,rF.AE)(e),s=r?(0,rF.Nn)(e,r):e;return""===s?t??"":s}function rL({favorite:e}){let t=(0,rh.NN)(),r=e.file.name,s=t(e.file);return(0,m.jsx)(rO,{rowText:r,fallbackIcon:(0,m.jsx)(rh.w4,{size:16,type:s})})}function rD(e){return rP({rowText:e.file.name,fallbackText:function(e){switch(e.file.editorType){case"whiteboard":return(0,M.t)("sidebar.fig_jam_file");case"slides":return(0,M.t)("sidebar.slides_file");case"design":default:return(0,M.t)("sidebar.design_file");case"sites":return(0,M.t)("sidebar.site_file");case"cooper":return(0,M.t)("sidebar.buzz_file");case"figmake":return(0,M.t)("sidebar.make_file")}}(e)})}function rM({favorite:e}){return(0,m.jsx)(eB.t,{icon:(0,m.jsx)(rL,{favorite:e}),text:rD(e)})}function rU(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.currentUserOrgId),s=(0,x.d4)(e=>e.currentTeamId),a=e.favorite.file,i=rw.M4.useFile(a.key).data,n=(0,rh.NN)(),{Sprig:o}=(0,tZ.A)(),{getContextMenuTriggerProps:l,manager:d}=t8.b(),{onDragStart:c,onDragEnd:u}=(0,rb.i)({renderDragImage:rv({rowPresentationalContent:(0,m.jsx)(rM,{favorite:e.favorite})}),dragResource:{resourceType:t7.pX.FILE,resourceIdOrKey:e.favorite.file.key,favoriteId:e.favorite.id}}),p=e.onDragStart,f=e.onDragEnd;tQ.v.getFeatureGate("file_browser_drag_and_drop_revamp")&&(p=c,f=u);let h=_.useCallback(()=>{i||t(tx.yJ({file:{key:a.key,team_id:a.teamId,file_repo_id:a.fileRepoId,folder_id:a.folderId,library_key:a.libraryKey}}))},[t,a,i]),g=(0,ry.jN)({file:a,allowDefaulting:!0}),v=n(e.favorite.file),b=(0,rh.Ag)(v),j=rD(e.favorite),y=e.favorite.file.project?.path,E=(0,rj.S)(y),T=E?tK:"favorited_section--titleWithoutSubtitle--2nD-E ellipsis--ellipsis--70pHK",{onContextMenu:I,...k}=l();return(0,m.jsxs)(t8.bL,{manager:d,children:[(0,m.jsxs)("div",{className:tG,children:[(0,m.jsx)(eB.SidebarRow,{ariaDescription:(0,M.t)("file_browser.file_type_icon_aria_label",{fileType:b}),dragKey:e.dragKey,icon:(0,m.jsx)(rL,{favorite:e.favorite}),isDragTarget:e.isDragTarget,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isSelected:e.isSelected,onClick:()=>{var r;return r=e.favorite,void((0,rs.LP)(r.file.key,eK.bk.FILE,r.sidebarSectionId??void 0,rs.vg,r.file.editorType??void 0),r.file&&(w.Ay.redirect(g,"_blank"),t(L.UN({fileKey:r.file.key,entrypoint:rs.vg,sprig:o}))))},onContextMenu:e=>{I(e),h()},...k,onDragDrop:e.onDragDrop,onDragEnd:f,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:p,showGrabber:e.showGrabber,text:j,wrapInListItem:!1}),(0,m.jsxs)("div",{className:e.showPreviewDelay?tW:tV,style:{transform:`translateY(${-e.previewYOffset}px)`},children:[(0,m.jsx)("div",{className:tH,children:(0,m.jsx)(rg.NM,{file:a,noBorder:!0})}),(0,m.jsxs)("div",{className:t$,children:[(0,m.jsx)("div",{className:tY,children:(0,m.jsx)(rh.w4,{size:16,type:v})}),(0,m.jsxs)("div",{className:tq,children:[(0,m.jsx)("div",{className:T,children:e.favorite.file.name}),E&&(0,m.jsx)("div",{className:"favorited_section--subtitle--oB5UB ellipsis--ellipsis--70pHK",children:E})]})]})]})]}),(null!==r||!!s)&&a.folderId&&(0,m.jsx)(rR,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}var rB=r(611100),rz=r(689024),rW=r(328403),rV=r(904511),rG=r(590281);function rH(e){let t=(0,x.wA)();return(0,m.jsxs)(t8.mc,{children:[(0,m.jsx)(rE.b,{resourceId:e.favorite.project.id,resourceType:eK.bk.FOLDER,setFavorite:({sectionId:r})=>{t(eG.Mv({entrypoint:"sidebar",sectionId:r,folder:e.favorite.project,favoriteId:e.favorite.id}))},removeFavorite:()=>{t(eG.jv({entrypoint:"sidebar",folderId:e.favorite.project.id,favoriteId:e.favorite.id}))},userHasMaxFavorites:!1,favoriteId:e.favorite.id,orderedSidebarSections:e.orderedSidebarSections,currentSectionId:e.favorite.sidebarSectionId}),(0,m.jsx)(t8.YJ,{children:(0,m.jsx)(t8.q7,{onClick:()=>{let r=(0,rG.EE)(e.favorite.project.id,e.favorite.orgId);t(rV.S({url:r}))},children:(0,M.t)("file_browser.copy_link_to_project")})})]})}function r$({favorite:e}){let t=e.project;return(0,m.jsx)(rO,{rowText:t.path,fallbackIcon:(0,m.jsx)(rB.e,{})})}function rq(e){return rP({rowText:e.project.path,fallbackText:(0,M.t)("file_browser.project_capitalized")})}function rK(e){let t=e.favorite.project.activeProjectResourceConnections?.[0];return t?(0,m.jsx)(rz.W,{hostPlanName:t.hostPlanName,connectedPlanName:t.connectedPlanName}):(0,m.jsx)(m.Fragment,{})}function rY({favorite:e}){return(0,m.jsx)(eB.t,{icon:(0,m.jsx)(r$,{favorite:e}),text:rq(e),badge:(0,m.jsx)(rK,{favorite:e})})}function rJ(e){let{getContextMenuTriggerProps:t,manager:r}=t8.b(),s=(0,rW.EB)(),a=_.useCallback((e,t)=>{(0,rs.LP)(t.project?.id,eK.bk.FOLDER,t.sidebarSectionId??void 0,rs.vg),s(t.resourceId,e)},[s]),{onDragStart:i,onDragEnd:n}=(0,rb.i)({renderDragImage:rv({rowPresentationalContent:(0,m.jsx)(rY,{favorite:e.favorite})}),dragResource:{resourceType:t7.pX.FOLDER,resourceIdOrKey:e.favorite.project.id,favoriteId:e.favorite.id}}),o=e.onDragStart,l=e.onDragEnd;return tQ.v.getFeatureGate("file_browser_drag_and_drop_revamp")&&(o=i,l=n),(0,m.jsxs)(t8.bL,{manager:r,children:[(0,m.jsx)(eB.SidebarRow,{ariaDescription:(0,M.t)("file_browser.project_capitalized"),badge:(0,m.jsx)(rK,{favorite:e.favorite}),dragKey:e.dragKey,icon:(0,m.jsx)(r$,{favorite:e.favorite}),isDragTarget:e.isDragTarget,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isSelected:e.isSelected,onClick:t=>a(t,e.favorite),...t(),onDragDrop:e.onDragDrop,onDragEnd:l,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:o,showGrabber:e.showGrabber,text:rq(e.favorite),wrapInListItem:!1}),(0,m.jsx)(rH,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}var rX=r(866817),rQ=r(427368),rZ=r(203574),r0=r(567584);function r1({thumbnailUrl:e,isLocked:t,...r}){return t?(0,m.jsx)(rQ.N,{thumbnailType:r0.F.PROTOTYPE,...r}):(0,m.jsx)(rZ.V,{thumbnailUrl:e,thumbnailType:r0.F.PROTOTYPE,...r})}var r2=r(141363);function r4(e){let t=(0,x.wA)();return(0,m.jsxs)(t8.mc,{children:[(0,m.jsx)(rE.b,{resourceId:e.favorite.prototype.id,resourceType:eK.bk.PROTOTYPE,setFavorite:({sectionId:r})=>{t(eG.V1({sectionId:r,favoriteId:e.favorite.id,resourceType:eK.bk.PROTOTYPE}))},removeFavorite:()=>{t(eG.X7({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:e.favorite.id}))},userHasMaxFavorites:!1,favoriteId:e.favorite.id,orderedSidebarSections:e.orderedSidebarSections,currentSectionId:e.favorite.sidebarSectionId}),(0,m.jsx)(t8.YJ,{children:(0,m.jsx)(t8.q7,{onClick:()=>{let r=(0,r2._3)(e.favorite.prototype.fileKey,e.favorite.prototype.file?.name,e.favorite.prototype.pageId);t(rV.S({url:r}))},children:(0,M.t)("file_browser.copy_link")})})]})}function r5(){return(0,m.jsx)(rX.F,{})}function r7(e){return e.prototype.file?.name}function r3({favorite:e}){return(0,m.jsx)(eB.t,{icon:(0,m.jsx)(r5,{}),text:r7(e)})}function r8(e){let{getContextMenuTriggerProps:t,manager:r}=t8.b(),{onDragStart:s,onDragEnd:a}=(0,rb.i)({renderDragImage:rv({rowPresentationalContent:(0,m.jsx)(r3,{favorite:e.favorite})}),dragResource:{resourceType:t7.pX.PROTOTYPE,resourceIdOrKey:e.favorite.prototype.id,favoriteId:e.favorite.id,prototype:{pageId:e.favorite.prototype.pageId,fileKey:e.favorite.prototype.fileKey}}}),i=e.onDragStart,n=e.onDragEnd;tQ.v.getFeatureGate("file_browser_drag_and_drop_revamp")&&(i=s,n=a);let o=(0,r2._3)(e.favorite.prototype.fileKey,e.favorite.prototype.file?.name,e.favorite.prototype.pageId);return(0,m.jsxs)(t8.bL,{manager:r,children:[(0,m.jsxs)("div",{className:tG,children:[(0,m.jsx)(eB.SidebarRow,{ariaDescription:(0,M.t)("general.file_type.prototype"),dragKey:e.dragKey,icon:(0,m.jsx)(r5,{}),isDragTarget:e.isDragTarget,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isSelected:e.isSelected,onClick:()=>{var t;return t=e.favorite,void((0,rs.LP)(t.prototype.fileKey,eK.bk.PROTOTYPE,t.sidebarSectionId??void 0,rs.vg),w.Ay.redirect(o,"_blank"))},...t(),onDragDrop:e.onDragDrop,onDragEnd:n,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:i,showGrabber:e.showGrabber,text:r7(e.favorite),wrapInListItem:!1}),(0,m.jsxs)("div",{className:e.showPreviewDelay?tW:tV,style:{transform:`translateY(${-e.previewYOffset}px)`},children:[(0,m.jsx)("div",{className:tH,children:(0,m.jsx)(r1,{isLocked:!!e.favorite.prototype.file?.hasProtoLinkPassword&&e.favorite.prototype.file?.hasProtoLinkPassword,thumbnailUrl:e.favorite.prototype.thumbnailUrl,noBorder:!0})}),(0,m.jsxs)("div",{className:t$,children:[(0,m.jsx)("div",{className:tY,children:(0,m.jsx)(rX.F,{})}),(0,m.jsx)("div",{className:tq,children:(0,m.jsx)("div",{className:tK,children:e.favorite.prototype.file?.name})})]})]})]}),(0,m.jsx)(r4,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}var r6=r(686280),r9=r(412427),se=r(652462),st=r(385990),sr=r(852734),ss=r(694151),sa=r(177277);function si(e){let t=(0,x.wA)();return(0,m.jsxs)(t8.mc,{children:[(0,m.jsx)(rE.b,{resourceId:e.favorite.team.id,resourceType:eK.bk.TEAM,setFavorite:({sectionId:r})=>{t(eG.DN({entrypoint:"sidebar",sectionId:r,team:sa.w.toSinatra(e.favorite.team),favoriteId:e.favorite.id}))},removeFavorite:()=>{t(eG.ox({entrypoint:"sidebar",team:e.favorite.team,favoriteId:e.favorite.id}))},userHasMaxFavorites:!1,favoriteId:e.favorite.id,orderedSidebarSections:e.orderedSidebarSections,currentSectionId:e.favorite.sidebarSectionId}),(0,m.jsx)(t8.YJ,{children:(0,m.jsx)(t8.q7,{onClick:()=>{let r=(0,sr.bL)(e.favorite.team.id,e.favorite.orgId);t(rV.S({url:r}))},children:(0,M.t)("file_browser.copy_link_to_team")})})]})}var sn=r(587304);function so({favorite:e}){return(0,m.jsx)(eB.t,{icon:(0,m.jsx)(sd,{favoritedTeam:e}),text:e.team.name})}function sl(e){let t=(0,x.wA)(),{getContextMenuTriggerProps:r,manager:s}=t8.b(),{onDragStart:a,onDragEnd:i}=(0,rb.i)({renderDragImage:rv({rowPresentationalContent:(0,m.jsx)(so,{favorite:e.favorite})}),dragResource:{resourceType:t7.pX.TEAM,resourceIdOrKey:e.favorite.team.id,favoriteId:e.favorite.id}}),n=e.onDragStart,o=e.onDragEnd;tQ.v.getFeatureGate("file_browser_drag_and_drop_revamp")&&(n=a,o=i);let l=_.useCallback((e,r)=>{(0,rs.LP)(r.team.id,eK.bk.TEAM,r.sidebarSectionId??void 0,rs.vg);let s=(0,sr.bL)(r.resourceId,r.orgId);(0,q.oJ)(e)?(w.Ay.redirect(s,"_blank"),e.stopPropagation()):(t(L.dm(r.resourceId)),e.preventDefault())},[t]);return(0,m.jsxs)(t8.bL,{manager:s,children:[(0,m.jsx)(eB.SidebarRow,{ariaDescription:(0,M.t)("file_browser.team_capitalized"),dragKey:e.dragKey,icon:(0,m.jsx)(sd,{favoritedTeam:e.favorite}),isDragTarget:e.isDragTarget,isSelected:e.isSelected,onClick:t=>l(t,e.favorite),onDragDrop:e.onDragDrop,onDragEnd:o,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:n,showGrabber:e.showGrabber,text:e.favorite.team.name,wrapInListItem:!1,...r()}),(0,m.jsx)(si,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}function sd({favoritedTeam:e}){let t=(0,tk.No)().unwrapOr(null),r=(0,st.y)(t?.planRecordId);return e.team.imgUrl?(0,m.jsx)("div",{className:B.s.colorIcon.$,children:(0,m.jsx)(r9.nl,{shape:"ROUNDED_SQUARE",size:{imgSize:r9.Pf.SMALL,fallbackSize:r9.Pf.SMALL},fallbackDisplay:se.U.HIDDEN,team:{...e.team,imgUrl:e.team.imgUrl},fallbackSvg:sn.A})}):r?(0,m.jsx)(ss.CH,{shape:"ROUNDED_SQUARE",hideFallbackInitial:!0,entity:{...e.team,imgUrl:void 0},size:{imgSize:r9.Pf.SMALL,fallbackSize:r9.Pf.SMALL}}):(0,m.jsx)(r6.U,{})}var sc=r(702531);function su(e){let t=(0,x.wA)();return(0,m.jsxs)(t8.mc,{children:[(0,m.jsx)(rE.b,{resourceId:e.favorite.workspace.id,setFavorite:({sectionId:r})=>{t(eG.ZW({entrypoint:"sidebar",workspace:e.favorite.workspace,sectionId:r,favoriteId:e.favorite.id}))},removeFavorite:()=>{t(eG.if({entrypoint:"sidebar",workspace:e.favorite.workspace,favoriteId:e.favorite.id}))},userHasMaxFavorites:!1,favoriteId:e.favorite.id,orderedSidebarSections:e.orderedSidebarSections,currentSectionId:e.favorite.sidebarSectionId,resourceType:eK.bk.WORKSPACE}),(0,m.jsx)(t8.YJ,{children:(0,m.jsx)(t8.q7,{onClick:()=>{if(null!==e.favorite.orgId){let r=(0,sc.fO)(e.favorite.workspace.id,e.favorite.orgId);t(rV.S({url:r}))}},children:(0,M.t)("file_browser.copy_link_to_workspace")})})]})}function sm({favorite:e}){return(0,m.jsx)(ss.z6,{entity:e.workspace,size:16})}function s_(e){return e.workspace.name}function sx({favorite:e}){return(0,m.jsx)(eB.t,{icon:(0,m.jsx)(sm,{favorite:e}),text:s_(e)})}function sp(e){let t=(0,x.wA)(),{getContextMenuTriggerProps:r,manager:s}=t8.b(),{onDragStart:a,onDragEnd:i}=(0,rb.i)({renderDragImage:rv({rowPresentationalContent:(0,m.jsx)(sx,{favorite:e.favorite})}),dragResource:{resourceType:t7.pX.WORKSPACE,resourceIdOrKey:e.favorite.workspace.id,favoriteId:e.favorite.id}}),n=e.onDragStart,o=e.onDragEnd;tQ.v.getFeatureGate("file_browser_drag_and_drop_revamp")&&(n=a,o=i);let l=_.useCallback((e,r)=>{(0,rs.LP)(r.workspace.id,eK.bk.WORKSPACE,r.sidebarSectionId??void 0,rs.vg),t(ez.sf({view:"workspace",subView:tr.V0.DIRECTORY,workspaceId:r.workspace.id,selectedTab:tr.dN.TEAMS}))},[t]);return(0,m.jsxs)(t8.bL,{manager:s,children:[(0,m.jsx)(eB.SidebarRow,{ariaDescription:(0,M.t)("file_browser.workspace_capitalized"),dragKey:e.dragKey,icon:(0,m.jsx)(sm,{favorite:e.favorite}),isDragTarget:e.isDragTarget,isSelected:e.isSelected,onClick:t=>l(t,e.favorite),onDragDrop:e.onDragDrop,onDragEnd:o,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:n,showGrabber:e.showGrabber,text:s_(e.favorite),wrapInListItem:!1,...r()}),(0,m.jsx)(su,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}function sf(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.dragState),s=(0,x.d4)(e=>e.currentUserOrgId),{hasPendingRequest:a,getUpgradePathway:i,getUpgradeEligibility:n,getPlanAndPlanUser:o,getHasProvisionalAccess:l,getShouldShowCurf:d,getShouldShowScim:c,getIsUpgradeHandlerLoading:u,getIsEligibleForProvisionalAccess:p}=(0,rm.wH)({folderId:e.favorite.resourceType===eK.bk.FOLDER?e.favorite.resource.project?.id??null:null,isDraftsMove:!0}),f=(0,ru.f4)((0,ev.md)(ru.yH)),[h,g]=_.useState(!1),v=e.favorite.resourceType,b=(0,eW._6)(),{Sprig:j}=(0,tZ.A)(),[y,w]=_.useState(!1),E=e.rearrangeDragState?.draggedOverFavoriteId===e.favorite.resource.id&&!y,[T,I]=_.useState(!1),k=_.useRef(null),C=(0,tA.aI)(),N=e.isSelected||(()=>{switch(v){case eK.bk.FOLDER:return"folder"===b.view&&b.folderId===e.favorite.resource.resourceId;case eK.bk.TEAM:return"team"===b.view&&b.teamId===e.favorite.resource.resourceId;case eK.bk.WORKSPACE:return"workspace"===b.view&&b.subView===tr.V0.DIRECTORY&&b.workspaceId===e.favorite.resource.resourceId;default:return!1}})(),S=r=>{let s,a;r.dataTransfer.effectAllowed="move";let i=new ty.l(r.dataTransfer);i.setArbitraryData(e.favorite.resource.id);let n=r.currentTarget;if(!n)return;let o=n.getBoundingClientRect(),l=r.clientX-o.left,d=r.clientY-o.top;s=n.cloneNode(!0),(a=document.createElement("div")).className="favorited_generic_row--favorite--Hv-Fo favorited_generic_row--_favorite--bgYvF sidebar--sidebarSection--iAFAy text--fontPos11--rO47d text--_fontBase--VaHfk",Object.assign(a.style,{position:"absolute",top:"-100%",left:"-100%",width:`${n.clientWidth}px`,height:`${n.clientHeight}px`,overflow:"hidden",zIndex:-1}),s.style.overflow="hidden",s.classList.add("favorited_generic_row--draggable--zPakC"),s.classList.add(B.s.colorText.$),a.appendChild(s),document.body.appendChild(a),k.current=a,i.setDragImage(k.current,l,d),t(tw.v({type:eX.$.Favorite,data:e.favorite}))},R=(t,s)=>{let a=new ty.l(t),i=!1;(r.type===eX.$.Favorite||a.isFigFiles_DEPRECATED()||a.isRepos_DEPRECATED()||a.isPrototypes_DEPRECATED()||a.isTiles_DEPRECATED())&&((a.isFigFiles_DEPRECATED()||a.isRepos_DEPRECATED()||a.isTiles_DEPRECATED())&&(i=e.favorite.resourceType===eK.bk.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:i?s.upperQuarter:s.upper,dropInto:i&&s.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),I(i))},A=t=>{let s=new ty.l(t);(r.type===eX.$.Favorite||s.isFigFiles_DEPRECATED()||s.isRepos_DEPRECATED()||s.isPrototypes_DEPRECATED()||s.isTiles_DEPRECATED()&&E)&&(e.clearRearrangeDragState(e.favorite.resource.id),I(!1))},F=(t,r)=>{let s=u();return(0,ru.Zm)({files:t,repos:r,isDestinationDrafts:e.favorite.resourceType===eK.bk.FOLDER&&e.favorite.resource.project?.path==="",enabledForOrgOnly:!1,originFolderIdToPath:f,hasPendingRequest:a,getUpgradePathway:i,getUpgradeEligibility:n,getPlanAndPlanUser:o,getHasProvisionalAccess:l,getShouldShowCurf:d,getShouldShowScim:c,loading:s,getIsEligibleForProvisionalAccess:p})},O=s=>{let a=new ty.l(s);if(e.rearrangeDragState?.dropInto&&e.favorite.resourceType===eK.bk.FOLDER&&e.favorite.resource.project)tf(t,e.favorite.resource.project,e.favorite.resource.project.team,a,F,C),t(tw.T());else if(a.isFigFiles_DEPRECATED()||a.isRepos_DEPRECATED()||a.isPrototypes_DEPRECATED()||a.isTiles_DEPRECATED())e.onSetResourceFavoriteDragDrop(s);else if(r.type===eX.$.Favorite&&E){let s=r.data;e.reorderOrInsertFavorite(s.resource.id,s.resourceType,j),t(tw.T())}e.clearRearrangeDragState(e.favorite.resource.id),I(!1)},P=r=>{k.current&&k.current.remove(),t(tw.T()),e.clearRearrangeDragState(e.favorite.resource.id),I(!1)},L=t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:T?t.upperQuarter:t.upper,dropInto:T&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},U=e=>{let t=new ty.l(e);return w(t.isFile_DEPRECATED()),r.type!==eX.$.SidebarSection&&!t.isFile_DEPRECATED()},z=(0,m.jsx)("div",{onMouseEnter:()=>{e.preventHoverStyle||g(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),g(!1)},draggable:!e.isFavoritesToMove_DEPRECATED,children:(0,m.jsxs)("div",{className:"favorited_generic_row--rowWithMoveButtons--9v0-H",children:[(0,m.jsx)("div",{className:"favorited_generic_row--rowContentContainer--x18bw",children:(()=>{switch(v){case eK.bk.FILE:if(!e.favorite.resource.file)return null;return(0,m.jsx)(rU,{dragKey:`FavoritedFile_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isHover:h,isSelected:N,onDragDrop:O,onDragEnd:P,onDragEnter:R,onDragLeave:A,onDragQuadrantUpdate:L,onDragStart:S,orderedSidebarSections:e.orderedSidebarSections,previewYOffset:e.previewYOffset,showGrabber:!1,showPreviewDelay:e.showPreviewDelay});case eK.bk.PROTOTYPE:if(!e.favorite.resource.prototype)return null;return(0,m.jsx)(r8,{dragKey:`FavoritedPrototype_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isHover:h,isSelected:N,onDragDrop:O,onDragEnd:P,onDragEnter:R,onDragLeave:A,onDragQuadrantUpdate:L,onDragStart:S,orderedSidebarSections:e.orderedSidebarSections,previewYOffset:e.previewYOffset,showGrabber:!1,showPreviewDelay:e.showPreviewDelay});case eK.bk.FOLDER:if(!e.favorite.resource.project)return null;return(0,m.jsx)(rJ,{dragKey:`FavoritedProject_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isHover:h,isSelected:N,onDragDrop:O,onDragEnd:P,onDragEnter:R,onDragLeave:A,onDragQuadrantUpdate:L,onDragStart:S,orderedSidebarSections:e.orderedSidebarSections,showGrabber:!1});case eK.bk.TEAM:if(!e.favorite.resource.team||!s)return null;return(0,m.jsx)(sl,{dragKey:`FavoritedTeam_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isHover:h,isSelected:N,onDragDrop:O,onDragEnd:P,onDragEnter:R,onDragLeave:A,onDragQuadrantUpdate:L,onDragStart:S,orderedSidebarSections:e.orderedSidebarSections,orgId:s,showGrabber:!1});case eK.bk.WORKSPACE:if(!e.favorite.resource.workspace||!s)return null;return(0,m.jsx)(sp,{dragKey:`FavoritedWorkspace_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isHover:h,isSelected:N,onDragDrop:O,onDragEnd:P,onDragEnter:R,onDragLeave:A,onDragQuadrantUpdate:L,onDragStart:S,orderedSidebarSections:e.orderedSidebarSections,orgId:s,showGrabber:!1});default:(0,D.xb)(v)}})()}),(0,m.jsxs)("div",{className:"favorited_generic_row--moveButtons--emibA visually_hidden--visuallyHidden--sMum-",children:[(0,m.jsx)(em.K,{"aria-label":(0,M.t)("favorited_resources.move_down"),onClick:()=>{e.keyboardMoveFavorite(e.favorite.resource.id,tm.Mc.Down)},disabled:!e.canMoveWithinSection?.(e.favorite.resource.id,tm.Mc.Down),children:(0,m.jsx)(re.t,{})}),(0,m.jsx)(em.K,{"aria-label":(0,M.t)("favorited_resources.move_up"),onClick:()=>{e.keyboardMoveFavorite(e.favorite.resource.id,tm.Mc.Up)},disabled:!e.canMoveWithinSection?.(e.favorite.resource.id,tm.Mc.Up),children:(0,m.jsx)(rt.G,{})})]})]})});return tQ.v.getFeatureGate("file_browser_drag_and_drop_revamp")?(0,m.jsx)(r_,{orderedFavoriteIds:e.orderedFavoriteIds,sectionId:e.sectionId,indexWithinSection:e.indexWithinSection,fileBrowserPrefsId:e.fileBrowserPreferences?.id??"",children:(0,m.jsx)("li",{children:z})}):(0,m.jsx)("li",{className:E?e.rearrangeDragState?.dropBefore?"favorited_generic_row--dropBefore--a28Og sidebar--dropBefore--qkRdi":e.rearrangeDragState?.dropInto?"favorited_generic_row--dropInto--1-Yd1":"favorited_generic_row--dropAfter--vlF1F sidebar--dropAfter--KKT1q":void 0,children:z})}var sh=r(834595);function sg(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.currentTeamId),s=(0,eo.dq)()??null,a=(0,ei.sb)(e.favorites,e.order),i=(0,eW._6)(),[n,o]=_.useState(!1),l=(0,x.d4)(e=>e.favorites.movingResource),d=(0,x.d4)(e=>e.favorites.collapsedCustomSections),{Sprig:c}=(0,tZ.A)(),u=e.section?!d.has(e.section?.id):!d.has("favorited"),[p,h]=_.useState(!1),[v,b]=_.useState(),[j,y]=_.useState(),w=(0,x.d4)(e=>e.dragState),E=(0,g.ZC)(w);_.useEffect(()=>{w.type===eX.$.None&&E&&E.type!==eX.$.None&&y(void 0)},[w,E]),_.useEffect(()=>{!e.isCurrentHoveredSection_DEPRECATED&&w.type===eX.$.SidebarSection&&j&&y(void 0)},[e.isCurrentHoveredSection_DEPRECATED,j,w]);let[T,I]=_.useState(void 0),[k,C]=_.useState(!0);_.useEffect(()=>{T===j?.draggedOverFavoriteId&&y(void 0),I(void 0)},[j,y,T,I]);let N=_.useCallback(r=>{e.section?.id&&(r.dataTransfer.effectAllowed="move",new ty.l(r.dataTransfer).setArbitraryData(e.section.id),t(tw.v({type:eX.$.SidebarSection,data:e.section.id})))},[t,e.section]),S=_.useCallback(()=>{(0,rs.xs)(!u);let r=new Set(d);e.section?(sh.Fp({type:"topLevel",id:"custom",orgId:s,sectionId:e.section?.id},!u),u?r.add(e.section.id):r.delete(e.section.id)):(sh.Fp({type:"topLevel",id:"favorited",orgId:s},!u),u?r.add("favorited"):r.delete("favorited")),t(eG.U6({collapsedCustomSections:r}))},[u,s,e.section,d,t]),R=(r,s)=>{let i,n=a.map(e=>e.resource.id);if(!j?.draggedOverFavoriteId)return n;let o=-1!==n.indexOf(r);if(o)i=(0,tP.Pe)(n,r,j.draggedOverFavoriteId,j.dropBefore);else{let e=n.indexOf(j.draggedOverFavoriteId);j.dropBefore||(e+=1),i=[...n.slice(0,e),r,...n.slice(e)]}((0,rs.hp)(),b(r),(0,f.getFeatureFlags)().file_browser_sentiment_survey&&c("setAttribute","fb_file_organized",!0),e.section?.id)?o?t(eG.vg({sectionId:e.section.id,orderedFavoriteIds:i})):t(eG.V1({favoriteId:r,sectionId:e.section.id,resourceType:s,orderedFavoriteIds:i})):(o||t(eG.V1({favoriteId:r,sectionId:void 0,resourceType:s})),t(er.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:i,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0})))},A=(e,t)=>{let r=a.map(e=>e.resource.id);return(0,t3.KY)(r,e,t)},F=(r,s)=>{let i=a.map(e=>e.resource.id),n=(0,t3.$e)(i,r,s);(0,rs.hp)(),e.section?.id?t(eG.vg({sectionId:e.section?.id,orderedFavoriteIds:n})):t(er.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:n,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},O=_.useCallback(e=>{e.stopPropagation(),v&&b(void 0)},[v]),P=_.useCallback(()=>{C(!0)},[]),L=_.useCallback(e=>{let t=new ty.l(e);return o(t.isFile_DEPRECATED()),t.isFigFiles_DEPRECATED()||t.isRepos_DEPRECATED()||t.isPrototypes_DEPRECATED()||t.isTiles_DEPRECATED()},[]),D=n=>{let o=new ty.l(n),l=[],d=[],u=[];if(h(!1),o.isFigFiles_DEPRECATED()){if(!(l=o.getData()))return!1}else if(o.isPrototypes_DEPRECATED()){if(!(u=o.getData()))return!1}else if(o.isRepos_DEPRECATED()){let e=o.getReposData_DEPRECATED();if(!e)return!1;d=e.repos}else if(o.isTiles_DEPRECATED()){let e=o.getTilesData_DEPRECATED();if(!e)return!1;l=e.files,d=e.repos,u=e.prototypes}l=l.filter(e=>!e.is_favorited),d=d.filter(e=>!e.is_favorited),u=u.filter(e=>!e.is_favorited);let m=a.map(e=>e.resource.id);if(l.length+d.length+u.length+a.length>ei.fy)return t(t_.F.enqueue({message:(0,M.t)("tile.favoriting.max_favorites",{maxFavorites:ei.fy})})),!1;let _=null;return j&&(_=m.indexOf(j.draggedOverFavoriteId)+ +!j.dropBefore),t(eG.N9({files:l,repos:d,prototypes:u,orgId:s,teamId:r,selectedView:i.view,entrypoint:"sidebar",insertAtIndex:_,orderedFavorites:m,sectionId:e.section?.id,fileBrowserPrefs:e.fileBrowserPreferences})),(0,f.getFeatureFlags)().file_browser_sentiment_survey&&c("setAttribute","fb_file_organized",!0),!0},U=_.useCallback(()=>{h(!0)},[]),z=_.useCallback(()=>{h(!1)},[]),W=ee()(B.s.relative.$,p||j?.draggedOverSectionId&&e.section&&!n&&j.draggedOverSectionId===e.section.id?tz:""),{getTriggerProps:V,manager:G}=t8.b(),{getContextMenuTriggerProps:H,manager:$}=t8.b(),q=G.isOpen,K=e.isCreatingNewSection||e.isRenaming,Y=e.section?.name===void 0?(0,M.t)("sidebar.new_section"):(0,ei.R3)(e.section)?(0,M.t)("sidebar.starred"):e.section.name,J=!!s,X=e.section&&e.setRenamingSectionId&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(rc,{manager:G,customSectionId:e.section.id,customSectionName:e.section.name,favoritesCount:a.length,setRenamingSectionId:e.setRenamingSectionId}),(0,m.jsx)(t6.d,{"aria-label":(0,M.t)("favorited_resources.settings_tooltip"),...V(),children:(0,m.jsx)(t9.J,{})})]}),Q=H(),Z=e.section&&e.setRenamingSectionId&&J&&(0,m.jsx)(rc,{manager:$,customSectionId:e.section.id,customSectionName:e.section.name,favoritesCount:a.length,setRenamingSectionId:e.setRenamingSectionId}),et=(0,m.jsx)("div",{...{0:{className:"x1n2onr6 xllavft x1ee41r2 xm7qe6o xhx6fvi"},2:{className:"x1n2onr6 xllavft x1ee41r2 xm7qe6o xhx6fvi xlyh1x3 xzssux2"},1:{className:"x1n2onr6 xllavft x1ee41r2 xm7qe6o xhx6fvi xfm57zq"},3:{className:"x1n2onr6 xllavft x1ee41r2 xm7qe6o xhx6fvi xfm57zq"}}[!!(q&&!K)|!K<<1],children:(0,m.jsxs)(tL.bL,{isOpen:u,toggle:S,...Q,children:[(0,m.jsxs)(tL.Y9,{children:[e.isRenaming&&(0,m.jsx)(ra.p,{...{className:"x10l6tqk x13vifvy x1qpfodn xn5hqff x10w6t97 x4zv5z4"},inputId:`section-name-input-${e.section?.id}`,hiddenLabelText:(0,M.t)("sidebar.section_name_aria_label"),placeholderValue:Y,submit:r=>{e.isCreatingNewSection?(l?t(eG.yH({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.orderedSidebarSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:l})):t(eG.YI({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.orderedSidebarSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(t(eG.vg({sectionId:e.section.id,name:r.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),l&&t(eG.to({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}),(0,m.jsx)(tL.JU,{truncate:!0,draggable:!0,onDragStart:e.onDragStart??N,onDragEnd:e.onDragEnd,"data-onboarding-key":1===e.orderedSidebarSections.length?null:"FAVORITES_ONBOARDING_KEY",children:sv(e.section)}),J&&(0,m.jsx)(tL.X0,{children:(0,m.jsxs)("div",{...{className:"x1hp4vcz x1euntei x78zum5 x6s0dn4"},children:[(0,m.jsx)("div",{...{className:"x12w5q5g x4oz5gu"},children:(0,m.jsx)(em.K,{"aria-label":e.section?.name===""||e.section?.name===void 0?(0,M.t)("favorited_resources.starred_section_move_down"):(0,M.t)("favorited_resources.custom_section_move_down",{sectionName:e.section?.name}),onClick:()=>{e.keyboardMoveSection?.(e.section?.id??"",tm.Mc.Down)},disabled:!e.canKeyboardMoveSection?.(e.section?.id??"",tm.Mc.Down),children:(0,m.jsx)(re.t,{})})}),(0,m.jsx)("div",{...{className:"x12w5q5g x4oz5gu"},children:(0,m.jsx)(em.K,{"aria-label":e.section?.name===""||e.section?.name===void 0?(0,M.t)("favorited_resources.starred_section_move_up"):(0,M.t)("favorited_resources.custom_section_move_up",{sectionName:e.section?.name}),onClick:()=>{e.keyboardMoveSection?.(e.section?.id??"",tm.Mc.Up)},disabled:!e.canKeyboardMoveSection?.(e.section?.id??"",tm.Mc.Up),children:(0,m.jsx)(rt.G,{})})}),X,(0,m.jsx)(sb,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})]})})]}),Z,(0,m.jsx)(tL.UC,{children:0===a.length?1===e.orderedSidebarSections.length&&(0,ei.R3)(e.orderedSidebarSections[0])&&!e.isCreatingNewSection?(0,m.jsx)(tJ,{}):(0,m.jsx)(m.Fragment,{}):(0,m.jsx)("ol",{onMouseMove:O,onMouseLeave:P,children:a.map((t,r)=>{let s=v===t.resource.id;return(0,m.jsx)(sf,{canMoveWithinSection:A,clearRearrangeDragState:I,favorite:t,fileBrowserPreferences:e.fileBrowserPreferences,indexWithinSection:r,isSelected:s,keyboardMoveFavorite:F,onSetResourceFavoriteDragDrop:D,orderedFavoriteIds:a.map(e=>e.resource.id),orderedSidebarSections:e.orderedSidebarSections,preventHoverStyle:void 0!==v,previewYOffset:e.previewYOffset,rearrangeDragState:j,reorderOrInsertFavorite:R,sectionId:e.section?.id,setShowPreviewDelay:C,showPreviewDelay:k,updateRearrangeDragState:y},t.resource.resourceId)})})})]})});return tQ.v.getFeatureGate("file_browser_drag_and_drop_revamp")?et:(0,m.jsx)(tu.Y,{className:W,isDragTarget:L,draggable:!1,onTargetDrop:D,onTargetDragEnter:U,onTargetDragLeave:z,children:et})}function sv(e){return e?.name===""||e?.name===void 0?(0,M.tx)("sidebar.starred"):e?.name}function sb(e){return(0,m.jsx)("div",{className:"favorited_section--dialogTriggerButtonContainer--gJ-Rf",children:(0,m.jsx)(em.K,{"aria-label":(0,M.t)("favorited_resources.create_a_new_section_tooltip"),"data-tooltip":(0,M.t)("favorited_resources.create_a_new_section_tooltip"),"data-tooltip-type":"text",onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)},children:(0,m.jsx)(rr.e,{})})})}function sj(e){let{onDragStart:t,onDragEnd:r}=(0,t4.r)({renderDragImage:()=>(0,m.jsx)(sk,{section:e.section}),dragResource:{resourceType:t7.pX.SIDEBAR_SECTION,resourceIdOrKey:e.section.id}});return tQ.v.getFeatureGate("file_browser_drag_and_drop_revamp")?(0,m.jsx)(sT,{sectionId:e.section.id,fileBrowserPrefsId:e.fileBrowserPreferences?.id??"",orderedFavoriteIds:e.order??[],children:(0,m.jsx)(sy,{sectionId:e.section.id,fileBrowserPreferences:e.fileBrowserPreferences,children:(0,m.jsx)(sg,{onDragStart:t,onDragEnd:r,...e})})}):(0,m.jsx)(sg,{...e})}function sy({sectionId:e,fileBrowserPreferences:t,children:r}){let{canDropBefore:s,canDropAfter:a,onDropBefore:i,onDropAfter:n}=sw({sectionId:e,fileBrowserPreferences:t});return(0,m.jsx)(t1.T,{dropAround:{canDropBefore:s,canDropAfter:a,onDropBefore:i,onDropAfter:n,hoverDropTargetBeforeStylex:sC.hoverDropTargetBefore,hoverDropTargetAfterStylex:sC.hoverDropTargetAfter},children:r})}let sw=({sectionId:e,fileBrowserPreferences:t})=>{let{canDrop:r,onDrop:s}=sE({sectionId:e,fileBrowserPreferences:t,dropBefore:!0}),{canDrop:a,onDrop:i}=sE({sectionId:e,fileBrowserPreferences:t,dropBefore:!1});return _.useMemo(()=>({canDropBefore:r,canDropAfter:a,onDropBefore:s,onDropAfter:i}),[r,a,s,i])},sE=({sectionId:e,fileBrowserPreferences:t,dropBefore:r})=>{let s=(0,x.wA)(),{canDrop:a,onDrop:i}=(0,t5.W)({onDrop:a=>{if(!t)return;let i=a.resources.map(e=>e.resourceIdOrKey),n=(0,t3.u_)(t.orderedSidebarSections??[],i,e,r);s(er.yJ({prefs:{id:t.id||"optimistic-id",orderedFavoritedResourceIds:t.orderedFavoritedResourceIds,orderedTeamIds:t.orderedTeamIds,orderedLicenseGroupIds:t.orderedLicenseGroupIds,orderedSidebarSections:n},userInitiated:!0}))}});return _.useMemo(()=>({canDrop:a,onDrop:i}),[a,i])};function sT({sectionId:e,fileBrowserPrefsId:t,orderedFavoriteIds:r,children:s}){let{canDrop:a,onDrop:i}=sI({sectionId:e,fileBrowserPrefsId:t,orderedFavoriteIds:r});return(0,m.jsx)(t1.T,{dropInto:{canDropInto:a,onDropInto:i,hoverDropTargetIntoStylex:sC.hoverDropTargetInto},children:s})}let sI=({sectionId:e,fileBrowserPrefsId:t,orderedFavoriteIds:r})=>{let s=(0,x.wA)(),{Sprig:a}=(0,tZ.A)(),i=(0,eW._6)(),{canDrop:n,onDrop:o}=(0,t2.X)({onDrop:n=>{let o=n.resources;if(o.length+r.length>ei.fy)return s(t_.F.enqueue({message:(0,M.t)("tile.favoriting.max_favorites",{maxFavorites:ei.fy})})),!1;let l=(0,t0.n)(o);s(eG.zG({resources:l,sectionId:e,orderedFavoriteIds:r,entrypoint:"sidebar",selectedView:i.view,fileBrowserPrefsId:t,Sprig:a}))}});return _.useMemo(()=>({canDrop:n,onDrop:o}),[n,o])};function sk(e){return(0,m.jsx)("div",{...{className:"x16grhtn x1yjdb4r x1r36162 x1gskr33 x1ihwiht x192jxwq xb3r6kr xlyipyv xuxw1ft xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:sv(e.section)})}let sC={hoverDropTargetBefore:{kVAEAm:"x1n2onr6",kgeoSG:"x1cpjm7i",kEoFBp:"x1hmns74",k96MEf:"xxkv6xi",kOlAkY:"x1rmj1tg",kgzTxl:"xuuc98b",kLkRvE:"x11bckx6",$$css:!0},hoverDropTargetAfter:{kVAEAm:"x1n2onr6",k5JduY:"x1s928wv",ks3ayO:"xqb2uzs",k4zj60:"x3cntg4",k8Iv0R:"x1irnqdy",kwXMNM:"x1j6awrg",kkgrvl:"x4eaejv",$$css:!0},hoverDropTargetInto:{kI3sdo:"xe3ag1v",kjBf7l:null,k3XXqK:null,kMeerF:null,kInvED:"x2ssjo2",$$css:!0}};function sN(e){let t=(0,ei.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,null,null);return(0,m.jsx)(sg,{favorites:t,order:e.fileBrowserPreferences?.orderedFavoritedResourceIds??void 0,fileBrowserPreferences:e.fileBrowserPreferences,orderedSidebarSections:[],sectionIndex:0,previewYOffset:e.previewYOffset})}function sS(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.dragState),s=(0,x.d4)(e=>e.favorites.newCustomSectionIndex),a=(0,x.d4)(e=>e.favorites.favoritesCount),i=(0,ei.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[n,o]=_.useState(),[l,d]=_.useState(),[c,u]=_.useState(!1),p=_.useMemo(()=>(0,ei.t$)(e.userSidebarSections??[],e.fileBrowserPreferences?.orderedSidebarSections??void 0),[e.userSidebarSections,e.fileBrowserPreferences?.orderedSidebarSections]);_.useMemo(()=>{a&&a<15&&i.length>=15&&(0,tD.YQ)({id:tM.L}),t(eG.lF({favoritesCount:i.length}))},[a,i.length,t]);let f={},h=[];i.forEach(e=>{e.resource.sidebarSectionId?f[e.resource.sidebarSectionId]?f[e.resource.sidebarSectionId].push(e):f[e.resource.sidebarSectionId]=[e]:h.push(e)});let g=_.useCallback(()=>r.type===eX.$.Favorite||r.type===eX.$.SidebarSection,[r]),v=_.useCallback(e=>{r.type===eX.$.SidebarSection&&u(e.upper)},[r]),b=_.useCallback(()=>{let s="starred"===n?void 0:n;if(r.type===eX.$.Favorite){let e=r.data;t(eG.V1({favoriteId:e.resource.id,sectionId:s,resourceType:e.resourceType}))}else if(r.type===eX.$.SidebarSection&&s){let a=p.map(e=>e.id)??[],i=(0,tP.Pe)(a,r.data,s,c);t(er.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:e.fileBrowserPreferences?.orderedFavoritedResourceIds,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds,orderedSidebarSections:i},userInitiated:!0}))}u(!1),o(void 0),t(tw.T())},[n,t,r,c,p,e.fileBrowserPreferences]),j=_.useCallback(e=>()=>{o(e)},[]),y=_.useCallback(()=>{o(void 0)},[]),w=_.useCallback(e=>{t(eG.pS({newCustomSectionIndex:e}))},[t]),E=_.useCallback((e,t)=>{let r=p.map(e=>e.id)??[];return(0,t3.KY)(r,e,t)},[p]),T=_.useCallback((r,s)=>{let a=p.map(e=>e.id)??[],i=(0,t3.$e)(a,r,s);t(er.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:e.fileBrowserPreferences?.orderedFavoritedResourceIds,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds,orderedSidebarSections:i},userInitiated:!0}))},[t,e.fileBrowserPreferences,p]);if(0===p.length&&void 0===s)return(0,m.jsx)(tX,{});let I=(0,m.jsx)("div",{className:B.s.mb8.$,children:(0,m.jsx)(sg,{canKeyboardMoveSection:E,favorites:[],fileBrowserPreferences:e.fileBrowserPreferences,isCreatingNewSection:!0,isRenaming:!0,keyboardMoveSection:T,order:[],orderedSidebarSections:p,previewYOffset:e.previewYOffset,sectionIndex:s||0,setNewCustomSectionIndex:w,setRenamingSectionId:d})});return(0,m.jsx)("div",{className:B.s.mt8.$,children:(0,m.jsxs)(tL.YJ,{"aria-label":(0,M.t)("sidebar.starred"),children:[0===s&&I,p.map((t,a)=>{let i=r.type===eX.$.Favorite?tz:c?"favorited_section--dropBefore--mQnaJ sidebar--dropBefore--qkRdi":"favorited_section--dropAfter--20vRs sidebar--dropAfter--KKT1q",o=ee()(n===t.id?i:"",B.s.mb8.$);return(0,m.jsxs)("div",{children:[(0,m.jsx)(tu.Y,{className:o,isDragTarget:g,draggable:!1,onTargetDragQuadrantUpdate:v,onTargetDrop:b,onTargetDragEnter:j(t.id),onTargetDragLeave:y,children:(0,m.jsx)(sj,{canKeyboardMoveSection:E,favorites:f[t.id]??[],fileBrowserPreferences:e.fileBrowserPreferences,isCurrentHoveredSection_DEPRECATED:n===t.id,isRenaming:l===t.id,keyboardMoveSection:T,order:t.orderedFavoritedResourceIds??[],orderedSidebarSections:p,previewYOffset:e.previewYOffset,section:t,sectionIndex:a,setNewCustomSectionIndex:w,setRenamingSectionId:d})}),s===a+1&&I]},t.id)})]})})}var sR=r(623620),sA=r(523340),sF=r(824234),sO=r(328151),sP=r(113641),sL=r(921424),sD=r(862963),sM=r(205126),sU=r(392255),sB=r(657049);let sz=(0,ro.Ju)(function(e){let[t,r]=(0,_.useState)(null),s=(0,x.wA)(),a=(0,ed.TA)(),i=(0,x.d4)(e=>e.teamUserByTeamId),n=(0,x.d4)(e=>a?e.authedUsers.byId[a]?.plans?.filter(e=>!e.is_org):null),o=(0,M.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),l=()=>s(rd.Ce()),d={};return a&&(0,sM._)(i,a).forEach(e=>{e.drafts_folder_id&&(d[e.team_id]=e.drafts_folder_id)}),(0,m.jsx)(sU.OJ,{title:o,fixedTop:!0,minWidth:480,maxWidth:480,onClose:l,truncateTitleText:!0,children:(0,m.jsxs)("div",{className:"move_favorites_modal--modalBody--FnDdW",children:[n&&(0,m.jsx)(ef.P,{width:480,children:(0,m.jsx)("div",{className:B.s.pl8.pr8.$,children:n.map(e=>(0,m.jsx)(sW,{planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:t?.plan_id===e.plan_id,onSelect:()=>r(t?.plan_id===e.plan_id?null:e)},e.plan_id))})}),(0,m.jsxs)("div",{className:"move_favorites_modal--footer--UstYc",children:[(0,m.jsx)(sL.nR,{onClick:l,children:(0,M.tx)("modal.cancel")}),(0,m.jsx)(sL.vd,{disabled:!t,onClick:()=>{var r;let a=t?.is_org?null:t?.plan_id,i={},n=e.favorites.filter(e=>!(e.resourceType===eK.bk.FILE&&e.resource.file?.key)||!i[e.resource.file?.key]).map(e=>e.resource.id);s(eG.Ic({favoriteIds:n,teamId:a})),a&&(r=d[a],r&&s(sD.Cy({files:[],isDraftsToMove:!0,fromFileModal:!0,moveMethod:tx.fB.MOVE_FAVORITES_MODAL,destinationFolder:{id:r,path:"",teamId:a}}))),l()},children:(0,M.t)("modal.confirm")})]})]})})},"MoveFavoritesModal");function sW(e){return(0,m.jsxs)("button",{"data-testid":`${e.name}-button`,className:ee()("move_favorites_modal--teamRow--w-t-T",e.checked?B.s.colorBgSelected.$:""),onClick:e.onSelect,children:[(0,m.jsx)("div",{className:"move_favorites_modal--iconContainer--JLuaJ",children:e.checked?(0,m.jsx)(sF.B,{className:B.s.colorIcon.$,svg:sB.A}):(0,m.jsx)(r9.nl,{size:r9.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:se.U.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})}),(0,m.jsx)("div",{className:"move_favorites_modal--teamName--cblZ8 ellipsis--ellipsis--70pHK",children:(0,m.jsx)("span",{className:"move_favorites_modal--destinationHeading--q-z5l",children:e.name})})]})}var sV=r(225622),sG=r(334272),sH=r(984201);let s$="favorited_drafts_to_move";function sq(e){let t=(0,x.wA)(),[r,s]=_.useState(!0),a=(0,ed.TA)(),i=(0,x.d4)(e=>e.favorites.collapsedCustomSections),n=e.teamUser?.planlessFavoritedFiles?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFilesKeySet.has(t.resourceId)),o=e.teamUser?.planlessFavoritedPrototypes?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedPrototypesIdSet.has(t.resourceId)),l=e.teamUser?.planlessFavoritedProjects?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFoldersIdSet.has(t.resourceId)),d=(0,ei.ds)(n,o,l),c=!i.has(s$),u=_.useCallback(()=>{sh.Fp({type:"topLevel",id:s$,orgId:null},!c),c?i.add(s$):i.delete(s$),t(eG.U6({collapsedCustomSections:i}))},[c,i,t]),f=_.useCallback(()=>{t(eG.vr({favoriteIds:d.map(e=>e.id)}))},[t,d]);if(0===d.length)return(0,m.jsx)(m.Fragment,{});let h=d.map((t,a)=>(0,m.jsx)(sf,{clearRearrangeDragState:p.lQ,favorite:t,fileBrowserPreferences:null,indexWithinSection:a,isFavoritesToMove_DEPRECATED:!0,isSelected:!1,keyboardMoveFavorite:p.lQ,onSetResourceFavoriteDragDrop:p.lQ,orderedFavoriteIds:d.map(e=>e.resource.id),orderedSidebarSections:[],preventHoverStyle:!1,previewYOffset:e.previewYOffset,rearrangeDragState:void 0,reorderOrInsertFavorite:p.lQ,sectionId:void 0,setShowPreviewDelay:s,showPreviewDelay:r,updateRearrangeDragState:p.lQ},t.resource.resourceId));return(0,m.jsx)(U.fu,{name:sP.e0.FAVORITES_TO_MOVE_SECTION,properties:{userId:a,numFiles:d.length},children:(0,m.jsxs)("div",{className:ee()("favorited_section--moveFavoritesContainer--WhMM9",B.s.pt4.pb4.ml8.mr8.mb8.$),children:[(0,m.jsxs)("div",{className:ee()(B.s.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--ZdCoX favorited_section--sectionHeaderContainer--eUlVH sidebar--sectionHeaderContainer--h8sCQ sidebar--sectionHeaderName--hVHne sidebar--sectionName--w6YCg sidebar--sectionText--NNbnc sidebar--sectionContent--ydL-l ellipsis--ellipsis--70pHK"),children:[(0,m.jsxs)("div",{onClick:u,className:B.s.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0,children:[(0,m.jsx)(sF.B,{className:ee()(B.s.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems---Cvgi"),svg:c?sV.A:sG.A}),(0,M.tx)("sidebar.move_these_starred_items"),(0,m.jsx)(sF.B,{svg:sH.A,className:ee()("favorited_section--helpIcon--Kk9pv",B.s.flex.itemsBaseline.ml4.$),"data-tooltip-type":sO.Ib.TEXT,"data-tooltip":(0,M.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})]}),c?null:(0,m.jsx)(sR.Ex,{text:d.length>99?"99+":`${d.length}`,color:sR.zE.DEFAULT,className:B.s.mr8.colorText.colorBgSelectedSecondary.$})]}),c?(0,m.jsxs)("div",{className:"favorited_section--favoritesToMoveContentContainer--lbuEW",children:[(0,m.jsx)("ol",{children:h}),(0,m.jsxs)("div",{className:B.s.flex.justifyBetween.m8.h24.$,children:[(0,m.jsx)(sA.$$,{className:"favorited_section--favoritesToMoveActionButtons--v7S67",onClick:()=>{t(rd.to({type:sz,data:{favorites:d}}))},children:(0,M.tx)("file_browser.planless_favorites.add_to_sidebar")}),(0,m.jsx)(sA.nR,{className:"favorited_section--unstarAllButton--TOsLD favorited_section--favoritesToMoveActionButtons--v7S67",onClick:f,children:(0,M.tx)("file_browser.planless_favorites.unstar_all")})]})]}):null]})})}function sK(e){let t=(0,x.d4)(e=>e.currentTeamId),r=(0,x.wA)();return t?(0,m.jsx)(eB.SidebarRow,{isSelected:e.selectedView&&"limitedTeamSharedProjects"===e.selectedView.view,onClick:()=>{r(L.eP()),r(eU.Oe({clickedResourceType:"limitedTeamSharedProjects"}))},icon:(0,m.jsx)(ta.t,{}),text:(0,M.t)("sidebar.all_shared_projects"),wrapInListItem:!0}):null}var sY=r(649743),sJ=r(181645);function sX({hasProjects:e}){let t=(0,x.wA)(),r=_.useCallback(()=>{sJ.az.trackDefinedEvent("litmus.sidebar.click",{}),t(ez.sf({view:"litmus",subView:"projects"}))},[t]),{view:s}=(0,eW._6)();if(!tQ.v.getFeatureGate("dt_litmus"))return null;let a="litmus"===s;return e||a?(0,m.jsx)(eB.SidebarRow,{isSelected:a,onClick:r,icon:(0,m.jsx)(sY.K,{}),text:(0,m.jsxs)(m.Fragment,{children:[(0,M.t)("litmus.sidebar.title"),"\xa0",(0,m.jsx)(tn.E,{children:(0,M.t)("litmus.sidebar.alpha")})]}),wrapInListItem:!0}):null}function sQ(e){return e?(0,M.t)("sidebar.browse.all_workspaces"):(0,M.t)("sidebar.browse.all_teams")}function sZ(){let e=(0,x.d4)(e=>e.currentUserOrgId),t=(0,x.d4)(t=>e?t.orgById[e]:null),r=(0,ec.c4)(e).data??!1;return t&&e?(0,m.jsx)(m.Fragment,{children:sQ(r)}):null}function s0({hasWorkspaces:e}){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.currentUserOrgId),s=(0,x.d4)(e=>e.selectedView),a=(0,x.d4)(e=>r?e.orgById[r]:null),i="org"===s.view&&s.orgId===r,n=sQ(e);return a&&r&&n?(0,m.jsx)(eB.SidebarRow,{isSelected:i,onClick:()=>{t(ez.sf({view:"org",orgId:r,orgViewTab:tB.X.HOME})),t(eU.Oe({clickedResourceType:"org",resourceIdOrKey:r}))},icon:(0,m.jsx)(ta.t,{className:B.s.colorIcon.$}),text:n,wrapInListItem:!0}):null}var s1=r(397383),s2=r(431104),s4=r(72216);function s5({monthlyUsed:e,monthlyLimit:t,dailyUsed:r,dailyLimit:s}){return(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1pulhmw"},children:[(0,m.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1qughib xh8yej3"},children:[(0,m.jsxs)("div",{...{className:"x78zum5 x6s0dn4 xg2d0mh"},children:[(0,m.jsx)(s2.j,{}),(0,m.jsx)("span",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1akne3o"},children:(0,M.t)("plan_panel.ai_credits")})]}),(0,m.jsxs)("span",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x3vvef7"},children:[(0,m.jsx)("span",{...{0:{},1:{className:"x1akne3o"}}[e<t|0],children:e}),"/",t]})]}),(0,m.jsx)(s4.yB,{monthlyUsed:e,monthlyLimit:t,dailyUsed:r,dailyLimit:s})]})}var s7=r(765326);function s3({teamFileCountResult:e,planUserBalanceResult:t}){let a=(0,x.wA)(),i=(0,x.d4)(e=>e.currentTeamId),n=null!=t.data,o=t.data?.monthly_summary.total??0,l=Math.max(0,o-(t.data?.monthly_summary.available??0)),d=t.data?.daily_summary?.total??0,c=Math.max(0,d-(t.data?.daily_summary?.available??0));return(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1xvsi7n xjtplnu x1vamu9a x87ps6o x1i71x30"},children:[(0,m.jsxs)(s1.Y,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"center",width:"fill-parent",children:[(0,m.jsx)("span",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,M.tx)("plan_panel.your_starter_plan")}),(0,m.jsx)(eg.$z,{variant:"secondary",size:"md",onClick:()=>{i&&a((0,rd.to)({type:s??=(0,ro.Ju)(s7.A.createLazyComponent(()=>Promise.all([r.e("905"),r.e("5493"),r.e("1617"),r.e("826"),r.e("7205"),r.e("7840"),r.e("7606"),r.e("5830"),r.e("8916"),r.e("5639"),r.e("8701"),r.e("1366"),r.e("8783"),r.e("1904"),r.e("9387"),r.e("907"),r.e("2749"),r.e("5693"),r.e("9931"),r.e("8162"),r.e("3416"),r.e("6467"),r.e("3582"),r.e("4395"),r.e("3278")]).then(r.bind(r,494227)).then(e=>e.PlanInfoModal),(0,ro.Ij)("PlanInfoModal")),"PLAN_INFO_MODAL"),data:{teamId:i}}))},children:(0,M.tx)("plan_panel.view_usage")})]}),n&&(0,m.jsx)(s5,{monthlyUsed:l,monthlyLimit:o,dailyUsed:c,dailyLimit:d})]})}var s8=r(753369),s6=r(578064),s9=r(962954);let ae="seen_team_admin_moved_unassigned_drafts_onboarding",at=(0,eE.r1)(ae);function ar(){let e=(0,ev.md)(at),{show:t,isShowing:r,complete:s}=(0,ew.e)({overlay:eN.tZO,priority:eI.N.DEFAULT_MODAL},[e]);return(0,h.h)(()=>{t({canShow:e=>!e})}),(0,m.jsx)(ek.rq,{arrowPosition:eC.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,M.tx)("team_admin.onboarding.unassigned_drafts.description"),isShowing:r,onClose:s,primaryCta:{label:(0,M.tx)("general.got_it"),type:"button",onClick:s,ctaTrackingDescriptor:eb.c.DONE},secondaryCta:{label:(0,M.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:eb.c.LEARN_MORE},shouldCenterArrow:eC.EL.FALLBACK,targetKey:aa,title:(0,M.tx)("team_admin.onboarding.unassigned_drafts.title"),trackingContextName:s9.o8,userFlagOnShow:ae})}var as=r(3273);let aa="PRO_ADMIN_SETTINGS_LINK_ONBOARING_KEY";function ai(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.currentTeamId),s=(0,tk.px)(),a=(0,tk.W8)(s).unwrapOr(!1),i=(0,tk.No)(),n=(0,_.useMemo)(()=>i.transform(({tier:e})=>({isProTeam:e===eK.Ag.PRO,hasProAccess:e===eK.Ag.PRO||e===eK.Ag.STUDENT})),[i]);if("loaded"!==n.status)return null;let o=n.data;if(!r||!a||!o.hasProAccess)return null;let l=e.selectedView&&"teamAdminConsole"===e.selectedView.view,d=(0,m.jsx)(e0.e9,{planType:eZ.ps.TEAM,planId:r,isSelected:l,isDataLoaded:!0,isOrgAdmin:!1});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(e4,{badge:o.isProTeam?d:void 0,isSelected:l,dataTestId:"admin-settings-link",dataOnboardingKey:aa,onClick:()=>{t(ez.sf({view:"teamAdminConsole",teamId:r,isProTeam:o.isProTeam,teamAdminConsoleViewTab:o.isProTeam?as.Iv.DASHBOARD:as.Iv.MEMBERS})),t(eU.Oe({clickedResourceType:"teamAdminSettings",resourceIdOrKey:r}))}}),(0,m.jsx)(ar,{})]})}var an=r(697651),ao=r(712796),al=r(472847),ad=r(539554);function ac(){let e=(0,x.wA)(),t=(0,al.Om)(),r=(0,al.tv)(),s=(0,ao.Rd)(al.au)?.tab??null;return t&&r?(0,m.jsx)(eB.SidebarRow,{onClick:()=>{w.Ay.push(new al.au({...t,tab:ad.N$.COMMUNITY},r).href),e(eU.Oe({clickedResourceType:"resourceHubCommunity"}))},"data-onboarding-key":ad.Pm,isSelected:s===ad.N$.COMMUNITY,icon:(0,m.jsx)(an.N,{}),text:(0,M.t)("sidebar.community"),wrapInListItem:!1}):(0,m.jsx)(m.Fragment,{})}var au=r(544858);function am(){let e=(0,x.wA)(),t=(0,al.Om)(),r=(0,al.tv)(),s=(0,ao.Rd)(al.au)?.tab??null;return(0,m.jsx)(eB.SidebarRow,{onClick:()=>{w.Ay.push(new al.au({...t,tab:ad.N$.INTERNAL},r).href),e(eU.Oe({clickedResourceType:"resourceHubInternal"}))},"data-onboarding-key":ad.d6,isSelected:s===ad.N$.INTERNAL,icon:(0,m.jsx)(au.Q,{}),text:(0,M.t)("sidebar.resources"),wrapInListItem:!1})}var a_=r(227031),ax=r(90670),ap=r(195772),af=r(435326),ah=r(614743),ag=r(901805),av=r(406995),ab=r(458983),aj=r(242661),ay=r(558920),aw=r(383177),aE=r(705828),aT=r(397219);let aI=(0,U.tf)(ay.k),ak=(0,U.tf)(aw.l);function aC(){return(0,m.jsx)("div",{className:ee()("base_upgrade_section--divider--bxYWV sidebar--divider--u8375",ex.Ay.classNames(aS.divider))})}function aN(e){return(0,m.jsx)(U.fu,{name:e.trackingContext,properties:e.trackingProperties,children:(0,m.jsxs)("div",{className:ee()({"base_upgrade_section--content--bQ9MJ":!e.demure,"base_upgrade_section--contentCollapsible---7-sN base_upgrade_section--contentMindful--3kLR7 base_upgrade_section--content--bQ9MJ":e.demure&&e.collapsible,"base_upgrade_section--contentMindful--3kLR7 base_upgrade_section--content--bQ9MJ":e.demure&&!e.collapsible}),children:[e.onDismiss&&(0,m.jsx)(aE.Jn,{className:"base_upgrade_section--closeButton--h7cxn base_upgrade_section--actionButton--eW8a9",onClick:e.onDismiss,trackingProperties:{trackingDescriptor:eb.c.CLOSE}}),e.header&&(0,m.jsxs)("div",{className:B.s.wFull.if(e.demure,B.s.font13.lh24,B.s.mb12).$,children:[(0,m.jsxs)("div",{...{className:"x78zum5 x1qughib x6s0dn4"},children:[(0,m.jsx)("h3",{className:"base_upgrade_section--header--8OJVW",children:e.header}),e.collapsible&&(0,m.jsx)("div",{className:"base_upgrade_section--actionButton--eW8a9",children:e.isCollapsed?(0,m.jsx)(aI,{"aria-label":(0,M.t)("base_upgrade_section.expand"),onClick:()=>e.setIsCollapsed(!1),trackingProperties:{action:"expand"}}):(0,m.jsx)(ak,{"aria-label":(0,M.t)("base_upgrade_section.collapse"),onClick:()=>e.setIsCollapsed(!0),trackingProperties:{action:"collapse"}})})]}),(!e.demure||e.collapsible&&!e.isCollapsed)&&(0,m.jsx)(aC,{})]}),!!e.icon&&e.icon,e.countDownDaysLeft&&(0,m.jsx)("div",{className:"base_upgrade_section--countdownTicker--HlSNx",children:(0,m.jsx)(z.E,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})}),!(e.collapsible&&e.isCollapsed)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:e.demure?"base_upgrade_section--textContainerMindful--HfVaU base_upgrade_section--baseTextContainer--mfsJF":"base_upgrade_section--textContainer--Nakg5 base_upgrade_section--baseTextContainer--mfsJF",children:[e.titleText&&(0,m.jsx)("p",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:e.titleText}),(0,m.jsx)("p",{children:e.bodyText})]}),(0,m.jsx)(aT.hK,{height:12}),(0,m.jsx)(eg.$z,{onClick:e.onClickCTA,"data-testid":e.ctaDataTestId,disabled:e.disabled,trackingProperties:e.ctaTrackingProperties,width:"fill",children:e.ctaText}),e.footerText&&(0,m.jsx)("div",{className:"base_upgrade_section--footerText--yU-ag",children:e.footerText})]})]})})}let aS={divider:{koQZXg:"x18wv8x9",km5ZXQ:"x1wdly0x",keTefX:null,k71WvV:null,kzqmXN:"x1xirlz",$$css:!0}},aR="upgrade_section--upgradeTextEmphasized--n1ecr";var aA=((i=aA||{})[i.UPGRADE=0]="UPGRADE",i[i.CREATE=1]="CREATE",i);function aF(e){let t=(0,x.wA)(),r=e.type,s=(0,m.jsx)("span",{className:aR,children:(0,M.t)("edu.sidebar_section.verified")});return(0,m.jsx)(aN,{trackingContext:0===r?"Edu Upgrade Section":"Edu Create Section",icon:(0,m.jsx)(ax.d,{}),bodyText:(0,m.jsxs)(m.Fragment,{children:[s," ",0===r?(0,M.t)("edu.sidebar_section.upgrade"):(0,M.t)("edu.sidebar_section.create_team")]}),ctaText:0===r?(0,M.t)("edu.choose_team"):(0,M.t)("edu.create_free_team"),onClickCTA:0===r?()=>{t((0,rd.to)({type:ah.q}))}:()=>{t(L.Dw({isEduTeam:!0}))},onDismiss:()=>{t(eH.b({dismissed_edu_sidebar:!0}))},ctaDataTestId:"edu-upgrade-cta"})}function aO({daysLeft:e}){let t=(0,ab.cD)(),r=(0,E.Rs)((0,tI.UpR)({})),s=(0,E.Rs)((0,tI.FA_)({teamId:t}),{enabled:!!t}),a=r.data?.currentUser?.eduPeriodEnd,i="loaded"===s.status&&!s.data?.team?.canEdit;return(0,ag.l)(a)?(0,m.jsx)(aP,{daysLeft:e}):(0,m.jsx)(aL,{daysLeft:e,isViewerOnCurrentTeam:i})}function aP({daysLeft:e}){let t=(0,x.wA)(),r=(0,ag.lr)(),s=()=>{w.Ay.redirect("/education/apply",v.A.isIpadNative?void 0:"_blank")},a=(0,m.jsx)(eg.rb,{onClick:()=>{t?.((0,rd.to)({type:aj.Z}))},children:(0,M.tx)("edu.banner.learn_more")});return e>0?(0,m.jsx)(aN,{trackingContext:"Universal Upgrade Section Education Plan Countdown New Reverification",countDownDaysLeft:e,titleText:(0,M.tx)("edu.sidebar_section.education_status_expires_in_days",{daysLeft:e}),bodyText:(0,M.tx)("edu.sidebar_section.all_education_accounts_must_reverify",{offboardingDate:r,linkLearnMore:a}),ctaText:(0,M.tx)("edu.offboarding_modal.verify_your_status"),onClickCTA:s}):(0,m.jsx)(aN,{trackingContext:"Universal Upgrade Section Education Plan Expired New Reverification",icon:(0,m.jsx)(ap.n,{}),titleText:(0,M.tx)("edu.sidebar_section.education_status_expired"),bodyText:(0,M.tx)("edu.sidebar_section.all_education_accounts_are_required",{linkLearnMore:a}),ctaText:(0,M.tx)("edu.offboarding_modal.verify_your_status"),onClickCTA:s})}function aL({daysLeft:e,isViewerOnCurrentTeam:t}){let r=(0,x.wA)(),s=!!(0,tT.f)("edu_hide_verification"),a=t?(0,M.tx)("edu.banner.learn_more"):(0,M.tx)("upgrade.upgrade_to_professional"),i=()=>{t?r((0,rd.to)({type:aj.Z})):r((0,rd.to)({type:af.V,data:{entrypoint:av.C.SIDEBAR_EDU_UNIVERSAL_UPGRADE_BUTTON}}))},n=(0,m.jsx)(sL.eM,{onClick:()=>w.Ay.redirect("/education/apply",v.A.isIpadNative?void 0:"_blank"),children:(0,M.tx)("edu.sidebar_section.verify_your_education_status")});return e>0?(0,m.jsx)(aN,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:(0,M.tx)("edu.sidebar_section.education_status_expires_in_days",{daysLeft:e}),bodyText:s?(0,M.tx)("edu.sidebar_section.bootcamp_users_after_that_you_ll_need_to_upgrade_your_team"):(0,M.tx)("edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",{verify:n}),ctaText:a,onClickCTA:i}):(0,m.jsx)(aN,{trackingContext:"Universal Upgrade Section Education Plan Expired",icon:(0,m.jsx)(ap.n,{}),titleText:(0,M.tx)("edu.sidebar_section.education_status_expired"),bodyText:s?(0,M.tx)("edu.sidebar_section.bootcamp_users_to_keep_editing_upgrade_your_team"):(0,M.tx)("edu.sidebar_section.to_keep_editing_upgrade_your_team",{verify:n}),ctaText:a,onClickCTA:i})}var aD=r(863825),aM=r(977289),aU=r(145334);let aB="dismissed_limited_team_space_uub";function az(e){let t=(0,x.wA)(),[r,s]=_.useState(!1),a=(0,E.bc)(tI.qOl,{teamId:e.team.id}),i=(0,ed.iZ)(),n="loaded"===a.status&&(0,td.unwrap)(a.data?.teamRoleRequest),o=!!n&&"pending"===n.status,l=!!n&&"approved"===n.status,d=!!n&&"denied"===n.status;if(_.useEffect(()=>{o&&s(!0)},[o]),"loaded"!==a.status||l||d)return null;let c=async()=>{try{await aU.$.requestTeamRole({teamId:e.team.id}),t(t_.F.enqueue({message:(0,M.t)("view_permissions.request_sent"),type:"request-team-membership"})),(0,ea.u)("limited_team_plan_request_upgrade_clicked",i,{teamId:e.team.id}),s(!0)}catch(e){t(aD.s.error("Failed to request team role",e))}};return(0,m.jsx)(aN,{bodyText:(0,M.tx)("upgrade.to_get_unlimited_files_must_be_member",{currentTeamName:e.team.name}),ctaText:r?(0,M.tx)("upgrade.access_requested"):(0,M.tx)("upgrade.request_full_access"),ctaTrackingProperties:{},demure:"very",disabled:o||r,header:(0,M.tx)("upgrade.limited_access_in_this_team"),onClickCTA:c,onDismiss:()=>{t(aM.bE({all_team_flags:[{team_id:e.team.id,flags:{[aB]:!0}}]}))},trackingContext:"Limited Team Space Dismissable Upgrade Section",trackingProperties:{teamId:e.team.id}})}var aW=r(778466),aV=r(658403),aG=r(102644),aH=r(238535);function a$(){let e=(0,x.wA)(),t=(0,m.jsx)("span",{...{className:"xkezfkh"},children:(0,M.tx)("upgrade.upgrade_to_an_organization_plan")}),r=(0,M.tx)("upgrade.upgrade_to_an_organization_plan_to_access_cross_team_design_libraries_sso_and_more",{upgradeToAnOrganizationPlan:t}),s=(0,m.jsx)(sL.Us,{onClick:()=>e((0,rd.to)({type:aV.lk,data:{source:aG.B.ORG_UPGRADE_SECTION}})),trackingProperties:{trackingDescriptor:eb.c.CONTACT_SALES},trusted:!0,children:(0,M.tx)("upgrade.contact_sales")}),a=(0,M.tx)("upgrade.or_contact_sales",{contactSalesLink:s});return(0,m.jsx)(aN,{trackingContext:"DismissibleOrgUpgradeSection",ctaTrackingProperties:{trackingDescriptor:eb.c.VIEW_PLANS},icon:(0,m.jsx)(aW.A,{}),bodyText:r,ctaText:(0,M.tx)("upgrade.view_plans"),onClickCTA:()=>{e((0,rd.to)({type:af.V,data:{entrypoint:av.C.SIDEBAR_PRO_UNIVERSAL_UPGRADE_BUTTON}}))},onDismiss:()=>e((0,aH.CJ)()),ctaDataTestId:"org-upgrade-cta",footerText:a})}var aq=r(803925),aK=r(336134),aY=r(640818);let aJ="dismissed_paid_free_space_uub";function aX(e){let t=(0,x.wA)(),r=aK.h.useTrackingContext({trigger:aY.b.UNIVERSAL_UPGRADE_SECTION}),{open:s}=(0,aq.O)(),a=(0,m.jsx)(sL.eM,{onClick:()=>{s()},trackingProperties:{trackingDescriptor:eb.c.WORK_IN_ONE_OF_YOUR_PAID_TEAMS},children:(0,M.tx)("upgrade.work_in_one_of_your_paid_teams")}),i=(0,M.tx)("upgrade.to_get_unlimited_files_and_features_link_switch_teams_or_upgrade_this_team_s_plan",{linkSwitchTeams:a});return(0,m.jsx)(aN,{trackingContext:"Paid Free Space Dismissible Upgrade Section",trackingProperties:{teamId:e.team.id,...r},header:(0,M.tx)("upgrade.this_team_is_on_a_free_plan"),bodyText:i,ctaText:(0,M.tx)("upgrade.view_all_plans"),onClickCTA:()=>{t((0,rd.to)({type:af.V,data:{entrypoint:av.C.FILE_BROWSER_UNIVERAL_UPGRADE_BUTTON}}))},ctaTrackingProperties:{trackingDescriptor:eb.c.VIEW_ALL_PLANS},onDismiss:()=>{t(aM.bE({all_team_flags:[{team_id:e.team.id,flags:{[aJ]:!0}}]}))},demure:"very"})}var aQ=r(90242),aZ=r(703903),a0=r(517436);function a1({loading:e,data:t}){let r=(0,x.wA)(),s=(0,aZ.R)(),[a,i]=(0,aQ.Vc)("resubscription_section_collapsed",!1);if(e)return null;let{cancellationDate:n,team:o,annualSubscription:l,monthlySubscription:d,currency:c}=t,u=Math.max(Math.ceil((n.getTime()-s.getTime())/864e5),0),_=(0,m.jsx)("p",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,f.getFeatureFlags)().one_click_resubscribe_uub_copy_changes?(0,M.tx)("resubscription_section.header_text_with_countdown",{countdown:u}):(0,M.tx)("resubscription_section.header_text")}),p=(0,m.jsx)(a0.Ph,{href:"https://help.figma.com/hc/articles/360040328273-Figma-plans-and-features",trackingProperties:{trackingDescriptor:eb.c.MORE},newTab:!0,children:(0,M.tx)("resubscription_section.link_so_much_more")});return(0,m.jsx)(aN,{bodyText:(0,f.getFeatureFlags)().one_click_resubscribe_uub_copy_changes?(0,M.tx)("resubscription_section.body_text_with_date",{boldedDate:(0,m.jsx)("b",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,M.tx)("resubscription_section.body_text_date",{date:n})}),linkSoMuchMore:p}):(0,M.tx)("resubscription_section.body_text",{linkSoMuchMore:p}),collapsible:!0,ctaDataTestId:"user-churning-cta",ctaText:(0,M.tx)("resubscription_section.cta_text"),ctaTrackingProperties:{trackingDescriptor:eb.c.REACTIVATE_YOUR_PROFESSIONAL_PLAN},demure:"very",header:_,isCollapsed:a,onClickCTA:()=>{r((0,rd.to)({type:aV.U6,data:{upsellSource:aY.b.RESUBSCRIBE_SECTION,nextBillDate:n,team:o,annualSubscription:l,monthlySubscription:d,currency:c}}))},setIsCollapsed:i,titleText:(0,f.getFeatureFlags)().one_click_resubscribe_uub_copy_changes?void 0:(0,M.tx)("resubscription_section.title_text",{teamName:o.name,date:n}),trackingContext:"Resubscribe UUB"+(a?" - collapsed":"")})}var a2=r(507755);function a4({onTeam:e,hitFileLimit:t}){let r=(0,x.wA)(),s=aK.h.useTrackingContext({trigger:aY.b.UNIVERSAL_UPGRADE_SECTION}),a=t?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:aR,children:(0,M.tx)("upgrade.running_out_of_files_in_your_free_team")})," ",(0,M.tx)("upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits")]}):(0,M.tx)("upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features");return(0,m.jsx)(aN,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t,...s},icon:(0,m.jsx)(aW.A,{}),bodyText:a,ctaText:(0,M.tx)("upgrade.view_plans"),ctaTrackingProperties:{trackingDescriptor:eb.c.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{r((0,rd.to)({type:af.V,data:{entrypoint:av.C.FILE_BROWSER_UNIVERAL_UPGRADE_BUTTON}}))}})}var a5=r(194535),a7=r(779757),a3=r(828205),a8=r(487216),a6=r(473397),a9=r(171310),ie=r(220807),it=r(523454),ir=r(888034),is=r(812921);let ia=(0,ev.eU)(e=>{let t=e(ii);return!!t&&[eK.P4.FILES_LIMITED,eK.P4.FILES_LIMITED_LEGACY,eK.P4.WHITEBOARD_FILES_LIMITED,eK.P4.WHITEBOARD_FILES_LIMITED_BETA,eK.P4.SLIDE_FILES_LIMITED,eK.P4.SLIDE_FILES_LIMITED_BETA,eK.P4.GLOBAL_FILES_LIMITED_LEGACY,eK.P4.GLOBAL_FILES_LIMITED].some(e=>t?.restrictions_list?.includes(e))}),ii=(0,is.bt)(e=>{let t=e.currentTeamId;return t?e.teams[t]:null});function io(){return(0,m.jsx)(a_.u9,{label:"UpgradeSection",children:(0,m.jsx)(il,{})})}function il(){let e=ic();return null===e?null:(0,m.jsx)(J.tH,{boundaryKey:"SidebarUpgradeSection",fallback:J.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:Q.FigmaTeam.UPGRADES},children:(0,m.jsx)(id,{...e})})}function id(e){switch(e.type){case a2.m.RESUBSCRIPTION:return(0,m.jsx)(a1,{...e.props});case a2.m.EDU_EXPIRY:return(0,m.jsx)(aO,{daysLeft:e.props.daysLeft});case a2.m.EDU_UPGRADE:return(0,m.jsx)(aF,{type:e.props.type});case a2.m.ORG_UPGRADE:return(0,m.jsx)(a$,{});case a2.m.PAID_FREE_SPACE:return(0,m.jsx)(aX,{team:e.props.team});case a2.m.LIMITED_TEAM_SPACE:return(0,m.jsx)(az,{team:e.props.team});case a2.m.UNIVERSAL:default:return(0,m.jsx)(a4,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}function ic(){let e,t,r,s,a,i,n,o,l,d,c,u,m,_,p,h,g,v,b,j,y,w,T,I,C,N=function(){var e;let t,r,s=(0,f.getFeatureFlags)().can_one_click_resubscribe,a=(0,a6.bV)(),i=(0,tk.S2)().unwrapOr(null),n=(0,tk.px)(),o=(0,tk.W8)(n).unwrapOr(!1),l=(0,aZ.R)(),d=(0,k.bY)("one_click_resubscribe_overrides").getDynamicConfig(),c=s&&i&&i.type===eK.OL.TEAM&&i.tier===eK.Ag.PRO&&o,[u,m]=(0,rw.IT)((0,ir.i)(i?.planRecordId??""),{enabled:!!c}),_={type:a2.m.RESUBSCRIPTION,overrideLocation:a2.P.IN_FOOTER};if(!c)return null;if("loading"===u.status)return{..._,props:{loading:!0,data:null}};let x=u.data;if(!x)return null;let p=(0,a8.j)(x,l);if(!p)return null;let h=!!x.annual_subscription;return(e={annualDays:d.get("annual_days",30),monthlyDays:d.get("monthly_days",14)},t=h?e?.annualDays??30:e?.monthlyDays??14,(r=new Date(l.getTime())).setDate(r.getDate()+t),p>=l&&p<=r&&a())?{..._,props:{loading:!1,data:{cancellationDate:p,team:{id:i.key.parentId,name:i.name},annualSubscription:x.annual_subscription,monthlySubscription:x.monthly_subscription,currency:x.currency}}}:null}(),S=function(){let e=(0,ed.iZ)(),t=(0,ab.ol)(),r=(0,e$.FC)(),s=(0,E.bc)(tI.UpR,{}),a=s.data?.currentUser?.eduPeriodEnd,i=(0,x.d4)(e=>e.userFlags),n=(0,tk.D6)("useEduUpgradeSectionProps"),o=(0,tk.fh)(n).unwrapOr(!1);if(!e||"loaded"!==s.status)return null;let l=(0,a3.cl)(a),d=t&&(0,it.oc)(t.id,r),c=(0,a3.oM)(a,(0,a3.cn)(e),t?.student_team_state,!!d);if(c.showExpiringSoon||c.showExpired)return{type:a2.m.EDU_EXPIRY,props:{daysLeft:l}};if(!i.dismissed_edu_sidebar&&(0,a3.cn)(e)&&!o){let e=(0,it.Kg)(r).length>0;return{type:a2.m.EDU_UPGRADE,props:{type:e?aA.UPGRADE:aA.CREATE}}}return null}(),R=(e=(0,ed.iZ)(),t=(0,x.d4)(e=>e.teams),r=(0,ab.ol)(),s=(0,ev.md)(ia),a=(0,ev.md)(a9.Lm),i=(0,E.bc)(tI.kQI,{id:r?.id??""},{enabled:!!r}),n=(0,eL.vt)(),o=(0,eP.jn)(),e&&r&&"loaded"===i.status&&i.data.team?.hasPermission&&"loaded"===a.status&&a.data?!r||(0,a3.cn)(e)||(0,it.w5)(t[r.id])||n||o?null:{type:a2.m.UNIVERSAL,props:{onTeam:Object.keys(t).length>0,hitFileLimit:s}}:null),A=(l=(0,x.d4)(e=>e.userFlags),d=(0,e$.FC)(),c=(0,a5.R)(e=>({orgUsersByOrgId:e.orgUsersByOrgId,user:e.user,userFlags:e.userFlags,teams:e.teams,currentTeamId:e.currentTeamId})),u=(0,E.bc)((0,tI.yQw)(c.currentTeamId?{teamId:c.currentTeamId}:null)),m=c.currentTeamId?u.transform(({team:e})=>(0,aH.Kz)(c,d,e)):a7.Qw.loaded((0,aH.Kz)(c,d,null)),_=(0,aH.j)(l),m.transform(e=>e&&!_?{type:a2.m.ORG_UPGRADE,props:void 0,overrideLocation:a2.P.IN_FOOTER}:null)),F=(p=(0,ed.iZ)(),h=(0,x.d4)(e=>e.teams),g=(0,ab.ol)(),v=(0,ev.md)(a9.Lm),b=(0,x.d4)(e=>e.userTeamFlags),j=(0,E.bc)(tI.kQI,{id:g?.id??""},{enabled:!!g}),y=(0,a6.Mi)(),!p||!g||"loaded"!==v.status||v.data||(0,a3.cn)(p)||(0,it.w5)(h[g.id])||"loaded"!==j.status||!j.data.team?.hasPermission||!y()||(0,ie.gY)(b,aJ,g.id,7776e6)?null:{type:a2.m.PAID_FREE_SPACE,props:{team:g},overrideLocation:a2.P.IN_FOOTER}),O=(w=(0,ed.iZ)(),T=(0,ab.ol)(),I=(0,eq.d)(),C=(0,x.d4)(e=>e.userTeamFlags),w&&T&&I?(0,ie.gY)(C,aB,T.id,7776e6)?null:{type:a2.m.LIMITED_TEAM_SPACE,props:{team:T},overrideLocation:a2.P.IN_FOOTER}:null);return null!==N?N:null!==O?O:null!==S?S:null!==R?R:"loaded"===A.status&&A.data?A.data:null!==F?F:null}var iu=r(859978),im=r(778503);let i_=(0,ev.eU)(!1);function ix(){let[e,t]=(0,ev.fp)(i_),r=(0,ev.md)(b.Bb);if(!r)return null;let s=async()=>{t(!0);let e=await r.prompt();"dismissed"===e.outcome&&t(!1),(0,sJ.sx)("add_to_chromebook_clicked",{installed:"accepted"===e.outcome})};return(0,m.jsxs)(iu.E,{...{0:{className:"xh8yej3 x78zum5 x6s0dn4 x1hc1fzr x12ulsxz xaope02 x167g77z x1icplyp"},1:{className:"xh8yej3 x78zum5 x6s0dn4 x12ulsxz xaope02 x167g77z x1icplyp xg01cxk x47corl x177bw73"}}[0|!!e],onClick:s,children:[(0,m.jsx)("span",{...{className:"x2lah0s"},children:(0,m.jsx)(im.z,{})}),(0,m.jsx)(z.E,{truncate:!0,color:"default",children:(0,m.jsx)("span",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},children:(0,M.tx)("file_browser.tool_bar.add_to_chromebook")})})]})}function ip(e){let t,r,s=(t=(0,b.lH)(),r=(0,ev.md)(b.Bb),!!v.A.chromeos&&!!v.A.chrome&&!t&&!!r);return(0,m.jsxs)("div",{className:B.s.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,B.s.bt1.colorBorder.bSolid).$,children:[e.shouldShowUUBInFooter&&(0,m.jsx)("div",{className:B.s.pb10.pt12.$,children:(0,m.jsx)(io,{})}),s&&(0,m.jsx)(ix,{})]})}var ih=r(78732),ig=r(218430);function iv(e){return(0,m.jsxs)("div",{className:B.s.flex.flexColumn.colorBg.if(e.hasBottomBorder,B.s.bb1.colorBorder.bSolid).$,children:[(0,m.jsx)(ig.Xg,{}),(0,m.jsx)(ih.Z,{})]})}var ib=r(254691);function ij(e){let t=(0,x.wA)(),r="teamFeed"===(0,eW._6)().view;return(0,m.jsx)(eB.SidebarRow,{onClick:()=>{t(ez.sf({view:"teamFeed"})),t(eU.Oe({clickedResourceType:"teamFeed"}))},isSelected:r,icon:(0,m.jsx)(ib.h,{}),text:(0,M.t)("fig_feed.feed"),wrapInListItem:!0})}var iy=r(940188);function iw(){let e=(0,x.wA)(),t="deletedFiles"===(0,x.d4)(e=>e.selectedView).view;return(0,m.jsx)(eB.SidebarRow,{isSelected:t,onClick:()=>{e(ez.sf({view:"deletedFiles"})),e(eU.Oe({clickedResourceType:"deletedFiles"}))},icon:(0,m.jsx)(iy.i,{}),text:(0,M.t)("file_browser.tool_bar.trash"),wrapInListItem:!0})}let iE="sidebar--divider--u8375";function iT(e){let t,r,s=(0,x.wA)(),a=(0,eo.dq)(),i=(0,x.d4)(e=>e.currentTeamId),n=(0,x.d4)(e=>e.userFlags),o=(0,e$.FC)(),l=(0,eW._6)(),d=(0,x.d4)(e=>e.dragState),c=eD({project:"drafts"}),[u,p]=_.useState(0),[h,g]=_.useState(!1),[b,j]=_.useState(!1),[y,w]=_.useState(!1),E=()=>{s(eH.b({show_create_new_section_banner:!1}))},T=!!i,I=(0,eq.d)(),k=(0,eY.wA)(o),C=e.sidebarUser?.baseOrgUser,N=C?.permission,S=N&&N===eK._D.ADMIN,R=(0,eJ.eH)(),A=(0,eJ.mj)(),F=(0,ei.D6)(a),O=()=>R?(0,m.jsx)(am,{}):null,P=T?e.dataDriftCorrectedTeamResources?.favoritedFiles:e.sidebarUser?.favoritedFiles,L=T?e.dataDriftCorrectedTeamResources?.favoritedPrototypes:e.sidebarUser?.favoritedPrototypes,D=T?e.dataDriftCorrectedTeamResources?.favoritedProjects:e.sidebarUser?.favoritedProjects,U=ic(),B=(t=(0,a6.KJ)(),r=(0,tk.S2)().unwrapOr(null),(0,_.useMemo)(()=>!!r&&r.tier===eK.Ag.STARTER&&t(),[t,r])),{planUserBalanceResult:z,teamFileCountResult:W}=(0,s8.r)(B&&i?i:null),V=B?a2.P.IN_FOOTER:U?.overrideLocation??a2.P.BETWEEN_CONTENT,G=!!d.data&&(d.type===eX.$.Folder||d.type===eX.$.Team||d.type===eX.$.Favorite),H=!(e.showLoadingState||e.showingFileBrowserLoader);return(0,m.jsx)(ep.AV,{loadingElementId:"filebrowser-loading-sidebar",loaded:H,children:(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf xh8yej3"},children:[(0,m.jsx)(iv,{hasBottomBorder:y}),(0,m.jsxs)(ef.P,{className:"sidebar--sidebarScrollContainer--cSGnu",innerClassName:"sidebar--innerScrollContainer--FxojT",scrollingDisabled:!1,onScroll:e=>p(e),children:[(0,m.jsx)(eh.a,{onIntersectionChange:t=>{w(!t.isIntersecting),t.isIntersecting||h||(e.trackScroll(),g(!0))}}),(0,m.jsxs)("div",{className:ee()("sidebar--navContent--vCjqY",{"sidebar--grabbingCursor--ldTu3":G}),children:[(0,m.jsx)("div",{...{className:"x78zum5 x1iyjqo2 xdt5ytf"},children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("ul",{children:[(0,m.jsx)(eV,{}),A&&(0,m.jsx)(ac,{})]}),(0,m.jsx)("div",{className:iE}),(0,m.jsx)("div",{...{className:"x17qaar8 xr9ek0c xjpr12u"},children:(0,m.jsx)(s6.b,{})}),(0,f.getFeatureFlags)().xr_debounce_threshold&&k&&N&&N!==eK._D.GUEST?(0,m.jsx)(ij,{}):null,(0,m.jsxs)("ul",{children:[e.draftsProject&&(0,m.jsx)(tO,{folder:e.draftsProject,selectedView:l,dispatch:s,shouldHideCreateFileButton:!c}),T&&(0,m.jsx)(m.Fragment,{children:I?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(sK,{selectedView:l}),O(),(0,m.jsx)(sX,{hasProjects:e.hasLitmusProjects}),(0,m.jsx)(iw,{})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ti,{selectedView:l}),O(),(0,f.getFeatureFlags)().payloadcms&&(0,m.jsx)(tl,{}),(0,m.jsx)(sX,{hasProjects:e.hasLitmusProjects}),(0,m.jsx)(iw,{}),(0,m.jsx)(ai,{selectedView:l})]})})]}),V===a2.P.BETWEEN_CONTENT&&(0,m.jsxs)("div",{className:"sidebar--section---p3pW","data-testid":"upgrade-section-between-content",children:[!!U&&(0,m.jsx)("div",{className:"x7hzu26 x1ef8nbk xjm9jq1 x176lpz5"}),(0,m.jsx)(io,{})]}),B?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:iE}),(0,m.jsx)(s3,{teamFileCountResult:W,planUserBalanceResult:z})]}):null,k&&C&&(0,m.jsxs)("ul",{children:[(0,m.jsx)(s0,{hasWorkspaces:e.isOrgWithWorkspaces}),O(),(0,f.getFeatureFlags)().payloadcms&&(0,m.jsx)(tl,{}),(0,m.jsx)(sX,{hasProjects:e.hasLitmusProjects}),(0,m.jsx)(iw,{}),!v.A.mobile&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ts,{selectedView:l,org:k,orgUser:C}),S&&(0,m.jsx)(eF,{})]})]}),F&&(k&&n.show_create_new_section_banner?(0,m.jsxs)("div",{className:"sidebar--betaAnnouncementContainer--mS9nS",children:[(0,m.jsxs)("div",{className:"sidebar--betaAnnouncementHeader--WMxll",children:[(0,m.jsx)("div",{className:"sidebar--betaAnnouncementHeaderTitle--KhtSl",children:(0,M.tx)("favorited_resources.custom_sections_banner_header")}),(0,m.jsx)(em.K,{"aria-label":(0,M.t)("common.close"),onClick:E,children:(0,m.jsx)(e_.X,{})})]}),(0,m.jsxs)("div",{className:"sidebar--betaAnnouncementBodyContainer--OPxR-",children:[(0,m.jsx)("p",{children:(0,M.tx)("favorited_resources.custom_sections_banner_body")}),(0,m.jsx)("br",{}),(0,m.jsx)("p",{children:(0,m.jsx)(eg.$z,{variant:"secondary",onClick:()=>{s(eG.pS({newCustomSectionIndex:0})),E()},children:(0,M.tx)("favorited_resources.custom_sections_banner_create_new_section_button")})})]})]}):null),(0,m.jsx)("div",{className:iE}),(0,m.jsxs)("section",{"aria-labelledby":"favorites-heading",children:[a?(0,m.jsx)(sS,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:P,favoritedPrototypes:L,favoritedProjects:D,favoritedTeams:e.sidebarUser?.favoritedTeams??null,favoritedWorkspaces:e.sidebarUser?.favoritedWorkspaces??null,userSidebarSections:e.sidebarUser?.userSidebarSections?(0,et.oA)(e.sidebarUser.userSidebarSections):[],previewYOffset:u}):(0,m.jsx)(sN,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:P,favoritedPrototypes:L,favoritedProjects:D,previewYOffset:u}),T&&(0,m.jsx)(sq,{teamUser:e.sidebarUser?.currentTeamUser??null,dataDriftCorrectedTeamResources:e.dataDriftCorrectedTeamResources,previewYOffset:u})]})]})}),(0,m.jsx)(eh.a,{onInitialLoad:e=>{j(!e)},onIntersectionChange:e=>{j(!e.isIntersecting)}})]})]}),(0,m.jsx)(ip,{hasTopBorder:V===a2.P.BETWEEN_CONTENT&&(b||y),shouldShowUUBInFooter:V===a2.P.IN_FOOTER})]})})}let iI=(0,y.w)(function(e){let t=(0,ed.iZ)(),r=(0,eo.dq)(),s=(0,x.d4)(e=>e.currentTeamId),a=(0,x.wA)(),i=(0,eu.Q)({currentOrgId:r,currentTeamId:s||null}),n="loaded"===i.status?i.data:null,o="loaded"!==i.status;(0,I.WX)({markName:"Sidebar",isLoaded:!o});let l=(0,ed.TA)(),d=(0,x.d4)(e=>l?e.authedUsers.byId[l]?.plans:null),c=null,u=(0,_.useMemo)(()=>n?{...n.currentUser}:null,[n]),p=(0,ec.Zr)(n?.org??null),f=_.useMemo(()=>{if(u&&u.currentTeamUser&&s)return(0,ei.TF)({favoritedFiles:u.currentTeamUser.favoritedFiles,favoritedProjects:u.currentTeamUser.favoritedProjects,favoritedPrototypes:u.currentTeamUser.favoritedPrototypes,currentTeamId:s,plansForUser:d})},[u,s,d]),h=e.showingFileBrowserLoader;if(_.useEffect(()=>{if(s&&u&&u?.currentTeamUser){let e=u.currentTeamUser;!e.fileBrowserPreferences&&u.fileBrowserPreferences&&a(er.Sh({prefs:u.fileBrowserPreferences,orderedFolderSubscriptions:u.fileBrowserSectionPreferences?.filter(e=>e.teamId===s)[0]?.orderedFolderIds??[],teamUser:e}))}},[s,u,a]),u){if(r&&u.baseOrgUser){let e=u.baseOrgUser;u.fileBrowserPreferences=e.fileBrowserPreferences,u.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else s&&u.currentTeamUser&&(u.fileBrowserPreferences=u.currentTeamUser?.fileBrowserPreferences);s?c=u.currentTeamUser?.draftsProject??null:r&&(c=u.baseOrgUser?.draftsProject??null)}return(0,m.jsx)(iT,{dataDriftCorrectedTeamResources:f,draftsProject:c,hasLitmusProjects:(0,et.oA)(n?.litmusHasProjects,!1)??!1,isOrgWithWorkspaces:p,showLoadingState:o,showingFileBrowserLoader:h,sidebarUser:u,trackScroll:()=>(0,ea.u)("Sidebar Scrolled",t)})},"FileBrowserSidebar"),ik={FileBrowserSidebar:Q.FigmaTeam.WAYFINDING,AdminSettingsSidebar:Q.FigmaTeam.SCALE};function iC(e){let t=(0,x.d4)(e=>e.mobileNavShown),r=(0,el.n)()?"AdminSettingsSidebar":"FileBrowserSidebar";return(0,m.jsx)("nav",{className:ee()("sidebar--navDefault--Wtmsn",{"sidebar--showMobileNav--gK-aF":t}),"aria-label":(0,M.t)("sidebar.label"),children:(0,m.jsx)(J.tH,{sentryTags:{area:ik[r]},boundaryKey:r,fallback:(0,m.jsx)(es.R,{}),hasCustomWASMBuild:en.y4,children:"FileBrowserSidebar"===r?(0,m.jsx)(iI,{...e}):(0,m.jsx)(G.ay,{})})})}var iN=r(380628),iS=r(231484),iR=r(714405),iA=r(304948),iF=r(169984),iO=r(710383),iP=r(921326),iL=r(414196),iD=r(127880),iM=r(820703),iU=r(680047),iB=r(154386),iz=r(887089),iW=r(295815),iV=r(574113),iG=r(834305),iH=r(688357),i$=r(149778),iq=r(573598),iK=r(220459),iY=r(512396);let iJ=(0,ev.eU)(void 0),iX=(0,ev.eU)(!1),iQ=(0,iq.H0)("#2c2c2c");function iZ(e){let t=(0,ev.md)(iJ);if(!e||"unset"===t)return;let r=(e.colorConfig?.colors??[])[0];return t?String((0,i$.colorToHex)(t)):r}function i0(e){return!!e&&"unset"!==e}var i1=r(708822);function i2(e){return e.rightSideActions?(0,m.jsx)(i4,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function i4(e){return(0,m.jsxs)("div",{...{className:"x78zum5 x1qughib xh8yej3 x6s0dn4 x40hh3e"},children:[(0,m.jsx)("div",{...{className:"x2lah0s"},children:e.headerLabel}),(0,m.jsx)("div",{...{className:"x78zum5 x167g77z xeuugli"},children:e.rightSideActions})]})}function i5(e){let t=(0,eo.dq)(),r=(0,ec.P)(t,(0,x.d4)(i1.o)),s=iZ("Unassigned"===r.data?null:r.data);return(0,m.jsxs)("div",{...{0:{className:"x78zum5 x1q0g3np x2lah0s x167g77z x6s0dn4 xsdox4t x1tudf5h x1m2p0i2"},2:{className:"x78zum5 x1q0g3np x2lah0s x167g77z x6s0dn4 xsdox4t x1m2p0i2 x5tiur9"},1:{className:"x78zum5 x1q0g3np x2lah0s x167g77z x6s0dn4 xsdox4t x1tudf5h x1m2p0i2 xso031l x1q0q8m5 xertd99"},3:{className:"x78zum5 x1q0g3np x2lah0s x167g77z x6s0dn4 xsdox4t x1m2p0i2 x5tiur9 xso031l x1q0q8m5 xertd99"}}[!!e.showNavigationChevrons<<1|!!(e.pageHeaderContent&&!e.pageHeaderDividerHidden)],style:{backgroundColor:s},"data-testid":"file-browser-desktop-header",children:[e.showNavigationChevrons&&(0,m.jsx)(iz.J,{parentBackgroundColor:s}),e.pageHeaderContent&&(0,m.jsx)("span",{...{className:"xeuugli xh8yej3"},children:(0,m.jsx)(i2,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})})]})}r(526865);let i7=(0,iW.jz)("645px");function i3(e){let t,r;return e.pageHeaderContent?(t=(0,m.jsx)("span",{...{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm"},children:e.pageHeaderContent}),r=(0,m.jsx)(iG.i,{tabs:[(0,m.jsx)("h1",{...{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm"},children:e.pageHeaderContent},"mobilePageHeaderKey")]})):e.pageHeaderTitle&&(t=(0,m.jsx)("h1",{children:(0,m.jsx)("span",{...{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm"},children:e.pageHeaderTitle})}),r=(0,m.jsx)(iG.i,{tabs:[(0,m.jsx)("h1",{...{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm"},children:e.pageHeaderTitle},"mobilePageHeaderKey")]})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(iV.z,{query:`(min-width: ${i7}px)`,defaultClass:B.s.sticky.top0.colorBg.zIndexTopBar.$,children:(0,m.jsx)(i5,{pageHeaderContent:t,pageHeaderDividerHidden:e.pageHeaderDividerHidden,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})}),r]})}function i8(e){let t,r,s,a,i,n,o,l,d,c,u,p,h,g=_.useRef(null),v=(0,x.d4)(({selectedView:e})=>e),y=(0,iz.E)(),w=(0,iP.K)(),E=(0,eo.sZ)(),T=w&&E&&!iO.T8.includes(v.view),{shouldShow:I,team:k,onAccept:C,onDecline:N}=(t=(0,x.wA)(),r=(0,ed.iZ)(),s=(0,tk.S2)().unwrapOr(null),a=s?.key?.type===eK.OL.TEAM?s.key.parentId:null,i=_.useMemo(()=>a&&s&&s.key.type===eK.OL.TEAM?{id:a,name:s.name,img_url:s.imgUrl??null}:null,[a,s]),n=s?.key?.type===eK.OL.TEAM,o=(0,ev.md)(iL.z),l=(0,ev.Xr)(iL.z),d=_.useCallback(()=>{r&&(0,iD.b)(t,r.id,"[TOS FileBrowser]")},[r,t]),c=_.useCallback(()=>{l(!0)},[l]),u=_.useMemo(()=>!!(0,f.getFeatureFlags)().saml_user_team_tos&&!!r&&!!i&&!!a&&!0===r.should_show_standalone_team_tos&&!!n&&!o&&!0,[r,i,a,n,o]),p=_.useMemo(()=>u&&i?{id:i.id,name:i.name,img_url:i.img_url||null}:null,[u,i]),_.useMemo(()=>({shouldShow:u,team:p,onAccept:d,onDecline:c}),[u,p,d,c])),S=I&&k&&iO.U3.includes(v.view);h=(0,x.Pj)(),_.useEffect(()=>{let e=h.getState(),t=(0,iA.getPermissionsState)(e),r=(0,iR.vp)(t.user,t.currentUserOrgId,t.currentTeamId);r&&(0,iF.Y9)(r.userId,(0,iS.d9)(e.selectedView),r.orgId,void 0,r.teamId)},[h]);let R=(0,el.n)()||"litmus"===v.view,A=!e.showingFileBrowserLoader&&!R&&(!!j.eD||(0,b.ce)()||e.pageHeaderContent||e.pageHeaderTitle);_.useEffect(()=>{let e=e=>{e.keyCode===q.Uz.PERIOD&&document.activeElement?.tagName==="BODY"&&(0,f.getFeatureFlags)().internal_only_debug_tools&&(0,f.getFeatureFlags)().figment_debugger&&(0,$.Y)()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let{scrollPerformanceMonitorRef:F}=function({flowName:e,scrollStopDelay:t=150,context:r}){let s=(0,_.useRef)(null),a=(0,_.useRef)(!1),i=(0,_.useRef)(null),n=(0,_.useRef)(null),o=(0,_.useCallback)(()=>{a.current||(a.current=!0,s.current=Y.J.createVital(e,{level:K.$.INFO,description:"Logging scroll performance via useScrollPerformanceMonitor",context:r,trackFps:!0}),s.current.start()),i.current&&clearTimeout(i.current),i.current=window.setTimeout(()=>{a.current=!1,i.current=null,s.current?.stop()},t)},[t,e,r]);return(0,_.useEffect)(()=>{let e=n.current;if(e)return e.addEventListener("scroll",o),()=>{e.removeEventListener("scroll",o),i.current&&clearTimeout(i.current)}},[o]),{scrollPerformanceMonitorRef:n}}({flowName:"file_browser_main_body_scroll_performance",context:{selectedViewView:v.view}}),O=e.pageHeaderContent?{pageHeaderContent:e.pageHeaderContent}:{pageHeaderTitle:e.pageHeaderTitle};return(0,m.jsxs)("div",{className:B.s.flex.flexRow.flexGrow1.$,ref:g,children:[(0,m.jsx)(iC,{showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),(0,m.jsxs)("div",{className:"file_browser_layout--fileBrowserPageViewContainer--2Xs7w",ref:F,children:[A&&(0,m.jsx)(J.tH,{boundaryKey:"FileBrowserPageHeader",fallback:J.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:en.y4,children:(0,m.jsx)(i3,{pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:y,pageHeaderDividerHidden:e.pageHeaderDividerHidden,...O})}),(0,m.jsx)(J.tH,{boundaryKey:"FileBrowserLayout-content",fallback:(0,m.jsx)(es.R,{}),hasCustomWASMBuild:en.y4,children:!e.showingFileBrowserLoader&&(T?(0,m.jsx)(iM.H,{org:E,isInFileBrowser:!0}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(X.z,{layoutRef:g,children:e.children}),S&&k&&(0,m.jsx)(iB.Q,{dataFullscreenIntercept:!1,children:(0,m.jsx)(iU.A,{team:k,onAccept:C,onDecline:N})})]}))})]}),(0,m.jsx)(iN.G,{entryPoint:iN.Q.FILE_BROWSER})]})}var i6=r(485587),i9=r(21094),ne=r(158514),nt=r(450116),nr=r(472665),ns=r(194757),na=r(136366),ni=r(954007),nn=r(402713),no=r(636773),nl=r(262900),nd=r(489365),nc=r(621995),nu=r(20203);function nm({teams:e,emptyView:t,isLoadingNextPage:r=!1,tryFetchNextPage:s=p.lQ}){let a=(0,eo.dq)(),i=(0,eW._6)(),n=(0,x.wA)(),{showing:o,show:l,data:d}=(0,no.BK)(tm.RQ),c=_.useCallback((e,t)=>{l({data:{team:e[0],targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[l]),u=e=>{n(rd.to({type:nc.p,data:{teamId:e.id}}))},f=_.useCallback(e=>{n(rd.to({type:(0,nt.h)(),data:{team:e}}))},[n]),[h,g]=_.useState([]),v=(0,ne.dr)(h),b=d?.team?.id,j=b?v.teams.unwrapOr({})[b]:void 0,y=_.useCallback((e,t)=>{if((0,nn._)("file_browser_team_click",e,{selectedView:"recentsAndSharing"===i.view?i.tab:i.view,viewMode:"grid"}),(0,q.oJ)(t)){let r=(0,sr.bL)(e.id,a);w.Ay.redirect(r,"_blank"),t.stopPropagation();return}n(L.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),n(ez.sf({view:"team",teamId:e.id})),t.stopPropagation(),t.preventDefault()},[a,n,i]),E=_.useCallback(e=>{if(1!==e.length)return;let t=e[0];if(!v.teams.data?.[t.id]?.canAdmin)return;n(ez.oB());let r=!!t.org_id,s=e=>{n(rd.to({type:nd.H,data:{team:t,subscriptionStatus:e}}))};r?s(!0):aU.$.getSubscriptionStatus({teamId:t.id}).then(({data:e})=>{s(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{e.data?.message&&n(aD.s.error(e.data.message))})},[n,v]);return!e||Array.isArray(e)&&!e.length?(0,m.jsx)("div",{className:nu.d,children:t}):(0,m.jsxs)("div",{...{className:"xqui205 x78see x1iymm2a xv90nub"},children:[(0,m.jsx)(nr.B,{onShouldFetchNextPage:s,isFetchingNextPage:r,children:(0,m.jsx)(ns.A,{gridViewProps:{renderCard:({ref:e,item:t,isSelected:r,role:s,onFocus:a,onClick:i,onBlur:n})=>(0,m.jsx)(na.Gq,{ref:e,cardRole:s,isSelected:r,onBlur:n,onClick:i,onFocus:a,onLeave:u,team:t},`TeamGridCard-${t.id}`)},handleContextMenu:c,handleDeleteKey:E,handleOpenItem:y,isDraggable:!1,items:e,multiselectDisabled:!0,updateRenderedItems:g,viewType:nl.XU.GRID})}),o&&j&&(0,m.jsx)(ni.W,{team:d.team,onRenameClick:f,selectedTeamPermissions:j,overrideOpenAndInviteOptions:!1})]})}var n_=r(807945),nx=r(341549),np=r(335359);function nf(e){return(0,m.jsx)(a_.u9,{label:"OrgTeamsViewContent",children:(0,m.jsx)(nh,{...e})})}function nh({orgTeamsResult:e,workspaceId:t,isGuest:r,isLoadingNextPage:s,tryFetchNextPage:a}){let i=(0,x.wA)(),{orgId:n,orgName:o}=(0,a5.R)(e=>({orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name})),{canCreateTeam:l}=(0,ec.LM)(n?{id:n}:null,t),d="loaded"===e.status,c=_.useMemo(()=>{let t=e.data??[],r=t.length<tP.Tw;return(0,tP.KQ)(t,"name",{useExpensiveNaturalComparison:r}),t},[e]);return d?r?(0,m.jsx)(nm,{teams:c,emptyView:(0,M.t)("team_tile.guest.no_teams.info",{orgName:o}),isLoadingNextPage:s,tryFetchNextPage:a}):(0,m.jsx)("div",{className:B.s.mt24.$,children:(0,m.jsx)(n_.w,{teams:c,onCreateTeam:l?()=>{let e={workspaceId:t??nx.O};i(rd.to({type:np.Uc,data:e}))}:void 0,viewType:nl.XU.GRID,emptyView:t&&!l?(0,M.t)("team_tile.no_teams.empty_workspace"):void 0,isLoadingNextPage:s,tryFetchNextPage:a})}):(0,m.jsx)(i9.X,{isLoading:!0})}function ng(){return(0,x.d4)(e=>{let t=e.orgUsersByOrgId[e.currentUserOrgId]?.[e.user.id];return!!(t&&t.permission===eK._D.GUEST)})}function nv({children:e}){return(0,m.jsxs)("section",{"aria-label":(0,M.t)("file_browser.teams"),children:[(0,m.jsx)("h2",{className:B.s.mx32.textBodyLargeStrong.$,children:(0,M.t)("file_browser.teams")}),e]})}function nb({isLoaded:e,view:t,isPaginated:r}){(0,i6.I)(e,(e,s,a)=>{0===e||s||a||sJ.az.trackDefinedMetric("file_browser.teams_load_time",{durationMs:e,isPaginated:r,view:t})})}function nj({result:e,pageSize:t}){let r=_.useMemo(()=>e.transform(e=>(function(e){let t=[];for(let r of e)if(r.team){let e={...sa.w.toSinatra(r.team),pro_team:!1,org_team:!0,member_count:r.memberCount,license_group:null,last_upgraded_at:null,student_autoverifying_team_at:null,sanctioned_at:null,subscription_raw:null,license_group_id:null,legal_name:null};t.push(e)}return t})(e??[])),[e]),s=_.useCallback(()=>{e.data?.loadNext(t)},[e,t]);return _.useMemo(()=>({result:r,isLoadingNextPage:e.data?.isLoadingNextPage??!1,tryFetchNextPage:s,pageSize:t}),[r,e.data?.isLoadingNextPage,s,t])}var ny=r(660983),nw=r(827579);function nE({avatar:e,title:t,rightSideActions:r,rightSideOfTitleAction:s,pageHeaderIcon:a,textColor:i,badge:n}){return(0,m.jsx)("div",{className:ee()(B.s.mx32.mb20.$,"page_header--marginMobile--bn31d"),children:(0,m.jsxs)("div",{className:B.s.flex.mt8.itemsCenter.justifyBetween.$,children:[(0,m.jsxs)("div",{className:B.s.flex.itemsCenter.minH40.minW0.$,children:[e,(0,m.jsx)("div",{className:B.s.wFull.overflowHidden.$,style:ny.sx.if(e&&!a,ny.sx.ml16).$,children:(0,m.jsxs)("span",{className:B.s.flex.itemsCenter.$,children:[a,(0,m.jsx)("h1",{style:{wordBreak:"break-word"},children:(0,m.jsxs)(z.E,{color:i,fontSize:24,truncate:"line-clamp",lineClamp:2,children:[t," "]})}),(0,m.jsx)("div",{className:B.s.ml8.$,children:n}),s&&s.element]})})]}),(0,m.jsx)("div",{className:B.s.flex.ml16.gap8.$,children:r?.map(e=>(0,m.jsx)(nw.K,{action:e},e.key))})]})})}function nT(e){let{belowHeaderItem:t,...r}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(nE,{...r}),t]})}var nI=r(803105),nk=r(181714),nC=r(437031),nN=((n=nN||{}).NEW_FILE="NEW_FILE",n.NEW_RESOURCE="NEW_RESOURCE",n.PROJECT_OVERFLOW_MENU="PROJECT_OVERFLOW_MENU",n.NEW_TEAM="NEW_TEAM",n.NEW_PROJECT="NEW_PROJECT",n.IMPORT="IMPORT",n.INVITE="INVITE",n.SHARE="SHARE",n.FAVORITE="FAVORITE",n.LOG_OUT="LOG_OUT",n.CLAIM="CLAIM",n.NEW_WHITEBOARD_FILE="NEW_WHITEBOARD_FILE",n.VIEW_COMMUNITY_PROFILE="VIEW_COMMUNITY_PROFILE",n.REQUEST_TO_EDIT="REQUEST_TO_EDIT",n.JOIN_TEAM="JOIN_TEAM",n.UPGRADE_TO_TEAM_ADMIN="UPGRADE_TO_TEAM_ADMIN",n.DROPDOWN="DROPDOWN",n.VIEW_MEMBERS="VIEW_MEMBERS",n.TEAM_OVERFLOW_MENU="TEAM_OVERFLOW_MENU",n.VIEW_LIBRARIES="VIEW_LIBRARIES",n.NEW_SITE_FILE="NEW_SITE_FILE",n.NEW_SLIDES_FILE="NEW_SLIDES_FILE",n.NEW_FIGMAKE_FILE="NEW_FIGMAKE_FILE",n.GET_DESKTOP_APP="GET_DESKTOP_APP",n.ADD_TO_CHROMEBOOK="ADD_TO_CHROMEBOOK",n.REQUEST_SENT_DESIGN="REQUEST_SENT_DESIGN",n.REQUEST_SENT_WHITEBOARD="REQUEST_SENT_WHITEBOARD",n.REQUEST_SENT_ALL="REQUEST_SENT_ALL",n.SETTINGS="SETTINGS",n);function nS(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.currentUserOrgId),s=(0,eW._6)();return()=>{r?t(rd.to({type:np.Uc,data:{workspaceId:e??nx.O}})):t(L.Dw({previousView:s}))}}function nR({workspace:e,org:t,backgroundColorTheme:r}){let{canCreateTeam:s,cannotCreateTeamReason:a}=(0,ec.LM)(t,e?.id??null),i=nS(e?.id),n=(0,nC.NV)(5e3);return a===ec.z4.TEAM_CREATION_CONTROL?{kind:nw.A.CUSTOM,key:nN.NEW_TEAM,element:(0,m.jsx)(tU.$n,{size:"lg","data-tooltip-type":sO.Ib.TEXT,"data-tooltip":(0,M.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,"aria-label":(0,M.t)("license_group_view.toolbar.new_team_button_aria_label"),variant:"primary",disabled:!0,onMouseEnter:()=>{n("Disabled Team Creation Button Hovered",{placement:"workspace"})},iconPrefix:(0,m.jsx)(nk.$,{}),children:(0,M.t)("license_group_view.toolbar.new_team_button")})}:s?{kind:nw.A.CUSTOM,key:nN.NEW_TEAM,element:(0,m.jsx)(eg.$z,{size:"lg","aria-label":(0,M.t)("license_group_view.toolbar.new_team_button_aria_label"),variant:"dark"===r?"inverse":"primary",onClick:i,iconPrefix:(0,m.jsx)(nk.$,{}),children:(0,M.t)("license_group_view.toolbar.new_team_button")})}:null}function nA(){let e=(0,eo.sZ)(),t=nR({org:e,workspace:null}),r=ng(),{result:s,isLoadingNextPage:a,tryFetchNextPage:i,pageSize:n}=nF({orgId:e.id}),o="loaded"===s.status;return(0,I.kF)("OrgUnassignedTeams"),(0,I.WX)({markName:"MainBodyContent",isLoaded:o,contextArgs:{isGuest:r,isPaginated:!0,pageSize:n}}),nb({isLoaded:o,view:"OrgUnassignedTeams",isPaginated:!0}),(0,m.jsx)(nI.r,{header:(0,m.jsx)(nT,{title:(0,M.t)("license_group_view.meta.unassigned_title",{orgName:e.name}),rightSideActions:t?[t]:void 0}),content:(0,m.jsx)("div",{className:B.s.flex.flexColumn.my24.$,children:(0,m.jsx)(nv,{children:(0,m.jsx)(nf,{orgTeamsResult:s,isGuest:r,workspaceId:null,isLoadingNextPage:a,tryFetchNextPage:i})})})})}let nF=({orgId:e})=>{let[t]=(0,rw.IT)((0,tI.QTu)({orgId:e,firstPageSize:tm.L}));return nj({result:_.useMemo(()=>t.transform(e=>e.orgUnassignedTeams??null),[t]),pageSize:tm.L})};var nO=r(90550),nP=r(389137),nL=r(863088),nD=r(767713),nM=r(537228),nU=r(67548),nB=r(145906),nz=r(497544),nW=r(195784),nV=r(860920);function nG({buttonAriaLabel:e,menuGroups:t,dataOnboardingKey:r}){let{manager:s,getTriggerProps:a}=t8.b({initialPosition:"bottom"}),i=(0,U.j6)();return(0,m.jsx)("div",{...{className:"x1iog12x"},children:(0,m.jsxs)(t8.bL,{manager:s,children:[(0,m.jsx)(t6.d,{...a(),"aria-label":e,"data-onboarding-key":r,children:(0,m.jsx)(ay.k,{})}),(0,m.jsx)(nV.s,{groups:t,minItemContentWidth:192,trackedContext:sP.e0.PAGE_HEADER_DROPDOWN,onTrackedItemClick:e=>{(0,nW.Cu)({...i.properties,trackingContext:i.name,...e.trackingProperties})}})]})})}var nH=r(691933),n$=r(55081),nq=r(908272),nK=r(582032),nY=r(112573),nJ=r(138193);let nX=rw.M4.Mutation(async e=>{await nY.u.updateDescription(e)});function nQ({workspace:e}){let t=(0,x.wA)(),r=(0,rw.gY)(nX);return(0,m.jsx)(nJ.c,{title:(0,M.t)("workspace_view.description_modal.title"),subtitle:(0,m.jsx)("div",{className:B.s.mb16.$,children:(0,m.jsx)(z.E,{color:"secondary",children:(0,M.tx)("workspace_view.description_modal.subtitle",{allWorkspacesText:(0,m.jsx)("span",{className:B.s.fontSemiBold.$,children:(0,M.t)("sidebar.browse.all_workspaces")})})})}),initialName:e.description??"",placeholder:(0,M.t)("workspace_view.description.placeholder"),submitText:(0,M.t)("workspace_view.description.save"),onRename:s=>r({workspaceId:e.id,description:s}).then(()=>t(t_.F.enqueue({message:(0,M.t)("workspace_view.description_update_updated")})),()=>{let e=(0,M.t)("workspace_view.description_update_error");t(aD.s.error(e)),console.error(e)})})}let nZ=(0,ro.Ju)(function(e){return(0,m.jsx)(a_.u9,{label:"UpdateWorkspaceDescriptionModal",children:(0,m.jsx)(nQ,{...e})})},"UpdateWorkspaceDescriptionModal");function n0(){let e=(0,x.wA)(),t=(0,ed.TA)();return _.useCallback(r=>{let s=r.workspace.admins.some(e=>e.baseOrgUser?.user.id===t),a=[];s&&a.push({key:"admin",items:[{displayText:(0,M.t)("workspace_view.toolbar.admin_settings"),onClick:()=>{e(ez.sf({view:"workspace",subView:tr.V0.ADMIN,workspaceId:r.workspace.id,selectedTab:tr._C}))}}]});let i={key:"default",items:[]};return a.push(i),i.items.push({displayText:(0,M.t)("file_browser.copy_link"),onClick:()=>{let t=(0,sc.fO)(r.workspace.id,r.org.id);e(rV.S({url:t}))}}),r.workspace.canAdmin&&i.items.push({displayText:(0,M.t)("license_group_view.toolbar.change_icon"),onClick:()=>{e((0,nK.X)({entity:r.workspace,entityType:n$.c.WORKSPACE,shape:"SQUARE"}))}}),a},[e,t])}var n1=r(645724),n2=r(932630),n4=r(528442),n5=r(503938),n7=r(859631);function n3({selectedFillOption:e,onSelectFillOption:t}){let r={solid:(0,M.t)("workspace_view.toolbar.solid"),no_fill:(0,M.t)("workspace_view.toolbar.no_fill")};return(0,m.jsx)(n1.Ve,{className:B.s.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return(0,m.jsx)(n5.$n,{className:B.s.ml4.mr4.$,role:"combobox",onClick:t,caret:"down",children:(0,m.jsx)("span",{className:B.s.minW32.mr8.$,children:r[e]})})},dropdownOptionsClassName:B.s.mt4.$,options:["solid","no_fill"].map((e,s)=>(0,m.jsx)(n1.c$,{className:B.s.colorTextMenuSecondary.$,id:e,onClick:()=>{t(e)},children:r[e]},s)),optionsBelowSelector:!0,noBorder:!0})}let n8=rw.M4.Mutation(async e=>{await nY.u.updateColor(e)});function n6({workspace:e,onClose:t}){let r=(0,x.wA)(),s=(0,rw.gY)(n8),a=[{option:iQ},...(0,iY.TS)("base").filter(e=>!(0,iq.DA)(e,(0,iY.BV)(iH.daH.BLACK,"base"))).map(e=>({option:e})),...(0,iY.TS)("baseLight").map(e=>({option:e}))],i=_.useRef(null),[n,o]=_.useState(!1),l=(0,n2.DP)(),d=function(e){try{if(e)return(0,iq.H0)(e)}catch(e){console.error(e)}}((e?.colorConfig?.colors??[])[0]),[c,u]=_.useState(d?"solid":"no_fill"),[p,f]=(0,ev.fp)(iJ);return _.useEffect(()=>(f(d),()=>{f(void 0)}),[]),_.useEffect(()=>{if(!n){let e=e=>{"Escape"===e.key&&t()},r=e=>{i.current&&!i.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",r)}}},[n,t]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{role:"button","aria-label":(0,M.t)("common.close"),tabIndex:0,className:B.s.absolute.wFull.hFull.top0.left0.zIndexTertiaryModal.$,onClick:t}),(0,m.jsxs)("div",{className:B.s.absolute.flex.h40.justifyCenter.alignCenter.flexShrink0.bRadius4.colorBgMenu.elevation400.mt8.ml32.zIndexModal.$,ref:i,children:[(0,m.jsx)(n3,{selectedFillOption:c,onSelectFillOption:e=>{if(u(e),"solid"===e){let e="dark"===l?iQ:iq.UE;f(d??e)}else f("unset")}}),i0(p)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n5.wv,{}),(0,m.jsx)(n4.qW,{buttonClassName:B.s.ml2.mr2.$,buttonSize:"xsmall",dropperDisabled:!0,fixedNumColumns:9,hasNonWhiteboardColors:!0,isColorPopoverOpen:n,onColorChange:e=>{f(e.option)},optionSize:"medium",options:a,paletteType:"base",positionX:()=>0,positionY:(e,t)=>(0,n7.DH)(e,t,4),setIsColorPopoverOpen:o,shouldDisableDataTooltip:!0,value:{option:p}})]}),(0,m.jsx)(n5.wv,{}),(0,m.jsx)(n5.$n,{className:B.s.ml4.mr2.$,onClick:t,children:(0,m.jsx)("span",{className:B.s.mr1.colorTextToolbarSecondary.$,children:(0,M.t)("workspace_view.color.toolbar.cancel")})}),(0,m.jsx)(n5.$n,{className:B.s.mr8.$,onClick:()=>{s({workspaceId:e.id,colors:i0(p)?[(0,i$.colorToHex)(p)]:[],onfulfilled:()=>r(t_.F.enqueue({message:(0,M.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,M.t)("workspace_view.toolbar.workspace_color_update_error");r(aD.s.error(e)),console.error(e)}}),t()},children:(0,m.jsx)("span",{className:B.s.colorTextOnbrand.$,children:(0,M.t)("workspace_view.color.toolbar.save")})})]})]})}var n9=r(317875),oe=r(395227),ot=r(622063),or=r(71239),os=r(297151);function oa(e){let t=(0,ed.TA)(),r=e.members.length,s=e.membersToShow||3;return(0,m.jsxs)("div",{children:[!e.removeHeader&&(0,m.jsx)("h2",{...{className:"x1ef8nbk xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly"},children:e.label||(0,M.t)("file_browser.team_overview.member_label")}),(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf xg2d0mh"},children:[e.members.slice(0,s).map(r=>{let s=r.id===t,a=e.showAdminBadge&&e.showAdminBadge(r);return(0,m.jsx)(iu.E,{...{0:{className:"x1gskr33 x1ihwiht xilkfi8 x1bvt8p6 x12oqio5 xa2wbu8 xjbqb8w xv2f06h xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},1:{className:"x1gskr33 x1ihwiht xilkfi8 x1bvt8p6 x12oqio5 xa2wbu8 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xjbqb8w x1bldm2b"}}[0|!!e.useTransparentHover],onClick:t=>{e.onMemberClick?.(t,r)},children:(0,m.jsx)(ss.az,{size:24,entity:r,showIsMe:s,badge:a?{color:sR.zE.DEFAULT,text:(0,M.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:e.shouldIncludeUserEmailAddress})},r.id)}),r>s&&(e.customOverflowRow||(0,m.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x167g77z x1gskr33 x1ihwiht x1e38ib8"},children:[(0,m.jsx)(nD.j,{"aria-hidden":!0,className:"xe5c7bq"}),(0,m.jsx)("div",{...{className:"x98rzlu x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},children:(0,M.tx)("file_browser.team_overview.num_others",{numMembers:r-s})})]}))]})]})}var oi=r(440103),on=((o=on||{}).MEMBERS="MEMBERS",o.ADMINS="ADMINS",o);function oo(e){return(0,m.jsx)("div",{className:"workspace_members_modal--searchContainer--gWz-A modal--searchContainer--NKISf",children:(0,m.jsx)(n9.D,{"aria-label":(0,M.t)("workspace_view.members_modal.search_aria_label"),variant:"borderless",value:e.query,onChange:e.onChange,placeholder:(0,M.t)("workspace_view.members_modal.search_placeholder"),size:"lg","aria-description":(0,M.t)("general.search_will_update")})})}function ol(e){return(0,m.jsx)("div",{className:"workspace_members_modal--emptyContainer--lDjkw",children:(0,m.jsx)("div",{className:"workspace_members_modal--emptyState--t2FxX text--fontPos11--rO47d text--_fontBase--VaHfk",children:e.content})})}let od=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),oc=(0,ro.Ju)(function(e){let t=oe.hS({open:e.open,onClose:e.onClose}),[r,s]=(0,_.useState)(""),[a,i,n]=ot.t.useTabs({MEMBERS:!0,ADMINS:!0});_.useEffect(()=>{s("")},[s,n.activeTab]);let o=e.workspace.members.slice().sort(od),l=e.workspace.admins.slice().sort(od),d={};o.forEach(e=>{e.baseOrgUser&&(d[e.baseOrgUser.user.id]=e.permission)});let c=e=>d[e.id]===eK.bp.ADMIN&&"MEMBERS"===n.activeTab;return(0,m.jsx)(or.bL,{manager:t,width:"lg",height:"fixed",children:(0,m.jsxs)(os.vo,{children:[(0,m.jsxs)(os.Y9,{children:[(0,m.jsx)(os.r1,{children:(0,M.t)("workspace_view.members_modal.title")}),(0,m.jsxs)(ot.t.TabStrip,{manager:n,children:[(0,m.jsx)(ot.t.Tab,{...a.MEMBERS,children:(0,M.t)("workspace_view.members_modal.members")}),(0,m.jsx)(ot.t.Tab,{...a.ADMINS,children:(0,M.t)("workspace_view.members_modal.admins")})]})]}),(0,m.jsxs)(os.nB,{scrolling:"manual",padding:0,children:[(a.MEMBERS.display?o:l).length>0&&(0,m.jsx)(oo,{query:r,onChange:s}),(0,m.jsx)(ef.P,{className:"workspace_members_modal--outerContainer--Kyahh",innerClassName:"workspace_members_modal--membersContainer--azlNh",children:(0,m.jsxs)("div",{className:"workspace_members_modal--modalContainer--sWWyB",children:[(0,m.jsx)(ot.t.TabPanel,{...i.MEMBERS,children:0===o.length?(0,m.jsx)(ol,{content:(0,M.tx)("workspace_view.members_modal.no_members",{workspaceName:e.workspace.name})}):(0,m.jsx)(ou,{getShouldShowAdminBadge:c,query:r,users:o})}),(0,m.jsx)(ot.t.TabPanel,{...i.ADMINS,children:0===l.length?(0,m.jsx)(ol,{content:(0,M.tx)("workspace_view.members_modal.no_admins",{workspaceName:e.workspace.name})}):(0,m.jsx)(ou,{getShouldShowAdminBadge:c,query:r,users:l})})]})})]})]})})},"WORKSPACE_MEMBERS_MODAL",ro.ZU.YES);function ou({getShouldShowAdminBadge:e,query:t,users:r}){let s=(0,x.wA)(),a=_.useCallback((e,t)=>{s(ez.sf({view:"user",userId:t.id,userViewTab:oi.o.INTERNAL_PROFILE})),s(rd.Ce())},[s]),i=r.filter(e=>{let r=e.baseOrgUser?.user,s=t.toLocaleLowerCase();return!!r?.email?.toLocaleLowerCase().includes(s)||!!r?.handle.toLocaleLowerCase().includes(s)}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[];return 0===i.length?(0,m.jsx)(ol,{content:(0,M.tx)("workspace_view.members_modal.no_results",{query:t})}):(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf xnm25rq xyfqnmn x1y1aw1k"},children:(0,m.jsx)(oa,{members:i,showAdminBadge:e,membersToShow:i.length,onMemberClick:a,removeHeader:!0,shouldIncludeUserEmailAddress:!0})})}function om(e){let{workspace:t,org:r}=e,s=(0,x.wA)(),a=(0,x.d4)(e=>e.currentUserOrgId),i=(0,x.d4)(e=>e.avatarEditorState),n=t.canAdmin,[o,l]=(0,ev.fp)(iX),{canCreateTeam:d}=(0,ec.LM)(r,t.id),c=window.innerWidth<=(0,iW.hG)("645px"),u=t?t.id:nx.O,p=iZ(t),f=function(e){if(e&&"unset"!==e)return(0,iq.kx)(e)?"dark":"light"}(p),h=(t?.members||[]).length,g=(0,nU.G)(),v=nS(t.id),b=_.useCallback(({favoriteId:e,sectionId:r})=>{s(eG.ZW({workspace:t,entrypoint:"workspace_page_view",sectionId:r,favoriteId:e}))},[s,t]),j=_.useCallback(({favoriteId:e})=>{s(eG.if({workspace:t,entrypoint:"workspace_page_view",favoriteId:e}))},[s,t]),y={kind:nw.A.CUSTOM,key:nN.VIEW_MEMBERS,element:(0,m.jsx)(eg.$z,{variant:"secondary",onClick:()=>{s(rd.to({type:oc,data:{workspace:e.workspace,tab:on.MEMBERS}}))},iconPrefix:(0,m.jsx)(nD.j,{}),"data-tooltip-type":sO.Ib.TEXT,"data-tooltip":(0,M.t)("file_browser.view_members_with_count",{numMembers:h}),"aria-label":(0,M.t)("file_browser.view_members_with_count",{numMembers:h}),size:"lg",children:e.isWorkspaceMembersLoading?(0,m.jsx)(nz.k,{}):(0,m.jsx)(m.Fragment,{children:h.toString()})})},w=_.useMemo(()=>(0,m.jsx)(nH.i,{setFavorite:b,removeFavorite:j,favoriteType:eK.bk.WORKSPACE,resourceId:u,orgId:a,monochrome:!!p,size:"lg"}),[u,b,j,a,p]),E=function(){let e=n0(),t=(0,x.wA)(),[r,s]=(0,ev.fp)(iX);return _.useCallback(r=>{let a=e(r),i=a[a.length-1];return i||(i={key:"workspace-page-header-menu-items",items:[]},a.push(i)),r.workspace.canAdmin&&(i.items.push({displayText:(0,M.t)("workspace_view.toolbar.change_color"),onClick:()=>s(!0)}),i.items.push({displayText:(0,M.t)("workspace_view.description.title"),onClick:()=>{t(rd.to({type:nZ,data:{workspace:r.workspace}}))}})),a},[e,t,s])}(),T=t&&r?E({workspace:t,org:r}):d&&c?[{key:"mobile-workspace-page-header-menu-items",items:[{displayText:(0,M.t)("org_view.new_team"),onClick:v}]}]:void 0,I=[],k=nR({workspace:t,org:r,backgroundColorTheme:f});if(k&&I.push(k),e.showMembersButton&&I.push(y),t&&I.push({kind:nw.A.CUSTOM,key:nN.FAVORITE,element:w}),!t)return(0,m.jsx)(nT,{title:(0,M.t)("license_group_view.meta.unassigned_title",{orgName:r.name}),rightSideActions:I});let C=T?{kind:nw.A.CUSTOM,key:nN.DROPDOWN,element:(0,m.jsx)(nG,{buttonAriaLabel:(0,M.t)("org_view.page_header_dropdown_label"),menuGroups:T})}:void 0;return(0,m.jsx)("div",{"data-testid":"workspace-page-header",style:{backgroundColor:p},children:(0,m.jsx)(nB.J,{mode:p?f:g.color,children:(0,m.jsx)(nT,{avatar:n?(0,m.jsx)(nq.j,{avatarEditorState:i,entityType:n$.c.WORKSPACE,entity:t,dispatch:s,size:40}):(0,m.jsx)(ss.z6,{entity:t,size:40}),title:(0,m.jsx)("span",{className:"workspace_page_header--titleColorForBackground--v2D18",children:t.name}),badge:t.orgAccess===eK.bU.SECRET?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(nL.E,{children:(0,M.t)("workspace_table.secret_workspace_lock_sr_only_text")}),(0,m.jsx)(nM.M,{"data-tooltip-type":sO.Ib.TEXT,"data-tooltip":(0,M.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,M.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300,"aria-hidden":!0,className:"workspace_page_header--iconColorForBackground--NRYW0"})]}):void 0,rightSideActions:I,rightSideOfTitleAction:C,belowHeaderItem:o?(0,m.jsx)(n6,{workspace:t,onClose:()=>l(!1)}):void 0})})})}var o_=r(48584);function ox(e){let t=(0,x.wA)(),r=e.workspace.members,s=_.useMemo(()=>(0,o_.$)(r),[r]),a={};return s.forEach(e=>{e.baseOrgUser&&(a[e.baseOrgUser.user.id]=e.permission)}),(0,m.jsxs)("div",{className:B.s.my24.mr8.ml24.$,children:[(0,m.jsx)("h2",{className:"workspace_page_meta_content--membersHeader--BUVCW text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:(0,M.t)("workspace_view.sidebar.members")}),(0,m.jsx)(oa,{removeHeader:!0,members:s.map(e=>e.baseOrgUser?.user).filter(e=>!!e),onMemberClick:(e,r)=>{t(ez.sf({view:"user",userId:r.id,userViewTab:oi.o.INTERNAL_PROFILE})),Y.J.addAction("right_rail_org_member_clicked",Q.FigmaTeam.WAYFINDING,K.$.INFO,{sourceComponent:"members_preview",selectedView:"workspace"})},showAdminBadge:e=>a[e.id]===eK.bp.ADMIN,customOverflowRow:(0,m.jsx)(iu.E,{className:"workspace_page_meta_content--seeAllMembers--aMo4B text--fontPos11--rO47d text--_fontBase--VaHfk",onClick:()=>{t(rd.to({type:oc,data:{workspace:e.workspace,tab:on.MEMBERS}})),Y.J.addAction("right_rail_org_members_see_all_clicked",Q.FigmaTeam.WAYFINDING,K.$.INFO,{sourceComponent:"members_preview",selectedView:"workspace"})},children:(0,M.t)("workspace_view.sidebar.see_all_members")})})]})}var op=r(818381),of=r(955394),oh=r(848694),og=r(102959),ov=r(904788),ob=r(862681),oj=r(928397),oy=r(683579);function ow({thumbnail:e,title:t,subtitle:r,bottomLeftIcon:s,topLeftContent:a,topRightContent:i,bottomRightContent:n,isHovered:o,onFocus:l,onBlur:d}){return(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf"},onFocus:l,onBlur:d,children:[(0,m.jsxs)("div",{...{className:"x1n2onr6"},children:[e,(0,m.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1cy8zhl xou54vl x1qughib x10l6tqk xu96u03 x13vifvy x3m8u43 x1tamke2 xb3r6kr xeuugli x98rzlu x9f619"},children:[a?(0,m.jsx)("div",{className:"xs83m0k xb3r6kr xeuugli",children:a}):null,i?(0,m.jsx)("div",{className:"xs83m0k x13qp9f6",children:i}):null]})]}),(0,m.jsxs)("div",{...{0:{className:"x78zum5 x1q0g3np x6s0dn4 xnm25rq xyfqnmn xz9dl7a xsag5q8 x1v2ro7d x1yjdb4r x1y0btm7 x178xt8z x7z60cl"},1:{className:"x78zum5 x1q0g3np x6s0dn4 xnm25rq xyfqnmn xz9dl7a xsag5q8 x1v2ro7d x1y0btm7 x178xt8z x7z60cl x30nh5c"}}[0|!!o],children:[s,(0,m.jsxs)("div",{...{className:"x1iyjqo2 x1r8uery x78zum5 xdt5ytf x195vfkc xb3r6kr"},children:[(0,m.jsx)(z.E,{truncate:!0,color:"default",children:(0,m.jsx)("span",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:t})}),(0,m.jsx)(z.E,{truncate:!0,color:"secondary",children:(0,m.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:r})})]}),n]})]})}function oE({file:e,isDisabled:t,orgName:r}){let s=(0,rh.NN)();return(0,m.jsx)(ow,{thumbnail:(0,m.jsx)(rg.NM,{file:e,noBorder:!0}),bottomLeftIcon:(0,m.jsx)(rh.w4,{size:16,type:s(e)}),title:(0,m.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1jnr06f x1qughib x6s0dn4"},children:[(0,m.jsx)("span",{...{0:{className:"xuxw1ft xb3r6kr xlyipyv"},1:{className:"xuxw1ft xb3r6kr xlyipyv x1n0bwc9"}}[0|!!t],children:e.name}),t&&r&&(0,m.jsx)("span",{"data-tooltip-type":"text","data-tooltip":(0,M.t)("file_browser.pinning.choose_file_to_pin_modal.file_not_workspace_visible.tooltip",{orgName:r}),"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":500,children:(0,m.jsx)(oy.B,{className:"xmauxvm"})})]}),subtitle:e.project?.name})}let oT=(0,ro.Ju)(function({workspaceId:e,open:t,onClose:r}){let s=oe.hS({open:t,onClose:r}),a=(0,x.wA)(),i=(0,tk.T5)("ChooseFileToPinModal").unwrapOr(null),n=i?.name??null,[o,l]=_.useState(""),[d]=(0,of.A)(o,400),[c,u]=_.useState(null);(0,E.bc)(tI.wtK,{fileKey:c??""},{enabled:!!c});let p=function({searchQuery:e,workspaceId:t}){let r=a7.Qw.useTransformShallowEqual((0,E.bc)(tI.z07,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t}),s=function({searchQuery:e,workspaceId:t}){let r=(0,eo.dq)();(0,D.vA)(!!r,"currentUserOrgId must be defined in useSearchWorkspaceFilesQuery");let s=(0,E.bc)(tI.Imb,{query:e,workspaceId:t,orgId:r,sort:"relevancy",desc:"true"},{enabled:!!e});return a7.Qw.useTransformShallowEqual(s,e=>{let t=[];for(let r of e.searchWorkspaceFiles)r.file&&t.push(r.file);return t})}({searchQuery:e,workspaceId:t}),a="disabled"!==s.status?s:r;return(0,ov.z1)(a,t)}({searchQuery:d,workspaceId:e}),f=a7.Qw.useTransformShallowEqual(p,e=>e.map(e=>e.key)),h=(0,ov.H6)(f.unwrapOr([])),g=_.useCallback(()=>{c&&(r(),a(rd.to({type:(0,og.a)(),data:{fileKey:c,source:o?"add_file_modal_search":"add_file_modal_suggested"}})))},[a,o,r,c]);_.useEffect(()=>(a(oj.Dy({entryPoint:"file_browser:file_picker_modal"})),a(oj.Rz({workspaceFilter:e})),()=>{a(oj.Rz({workspaceFilter:null})),a(oj.ky())}),[a,l,e]);let v="loaded"!==h.status||"loaded"!==p.status;return(0,m.jsx)(or.bL,{manager:s,width:1024,height:"dynamic",children:(0,m.jsxs)(os.vo,{children:[(0,m.jsx)(os.Y9,{children:(0,m.jsx)(os.hE,{children:(0,M.t)("file_browser.pinning.pin_modal.pin_file_to_workspace")})}),(0,m.jsxs)(os.nB,{padding:0,scrolling:"manual",...{className:"x2xcw19 x78zum5 xdt5ytf"},children:[(0,m.jsx)(oh.IW,{...{className:"x1vvogim x1hr3lfm xso031l x1q0q8m5 xertd99 x1vqgdyp"},hasTransparentBackground:!0,placeholder:(0,M.t)("file_browser.choose_file_modal.search_for_a_file"),focusOnMount:!0,query:o,onChange:l,clearSearch:()=>l(""),withUI3Icon:!0,hideXIcon:!0}),v?(0,m.jsx)(ok,{}):0===p.data.length?(0,m.jsx)(oC,{query:d}):(0,m.jsx)(oI,{isSuggested:!d,files:p.data,orgName:n,setSelectedFileKey:u,shouldDisableTile:e=>{let t=h.data.get(e.key);return!!t&&!t?.canPinFileToWorkspace}})]}),(0,m.jsx)(os.wi,{children:(0,m.jsxs)(os.jk,{children:[(0,m.jsx)(eg.$z,{variant:"secondary",onClick:r,children:(0,M.t)("general.cancel")}),(0,m.jsx)(eg.$z,{variant:"primary",disabled:v||!c,onClick:g,children:(0,M.t)("general.next")})]})})]})})},"ChooseFileToPinModal");function oI({isSuggested:e,files:t,orgName:r,shouldDisableTile:s,setSelectedFileKey:a}){let i=_.useCallback(e=>{let t=e[0];t?a(t.key):a(null)},[a]);return(0,m.jsx)("div",{...{className:"x1rife3k"},children:(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1pulhmw x1xn8qrt x4l9tsp"},children:[e&&(0,m.jsx)("span",{...{className:"x1n0bwc9"},children:(0,M.t)("file_browser.pinning.suggested")}),(0,m.jsx)(ob.g,{canSelectItem:e=>!s(e),doNotFocusOnLoad:!0,getAriaLabel:e=>e.name,handleContextMenu:p.lQ,isDraggable:!1,items:t,keepSelectionOnFocusLost:!0,multiselectDisabled:!0,onSelection:i,renderTile:e=>(0,m.jsx)(oE,{file:e,orgName:r,isDisabled:s(e)}),renderTileFooter:()=>(0,m.jsx)(m.Fragment,{})})]})})}function ok(){return(0,m.jsx)("div",{...{className:"x78zum5 x6s0dn4 xl56j7k x98rzlu"},children:(0,m.jsx)(nz.k,{})})}function oC({query:e}){let t=e?(0,M.tx)("file_browser.workspace_pinning.no_files_matching_query",{searchQuery:(0,m.jsx)("div",{className:"x1akne3o xuxw1ft xb3r6kr xlyipyv xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:e})}):(0,M.t)("file_browser.workspace_pinning.no_suggested_files");return(0,m.jsx)("div",{className:"x78zum5 x1q0g3np x195vfkc x6s0dn4 xl56j7k x1n0bwc9 x98rzlu x2b8uid",children:t})}var oN=r(388565),oS=r(642135),oR=r(432348);let oA=_.forwardRef(function({thumbnail:e,title:t,subtitle:r,cardLabel:s,isSelected:a,onClick:i,cardRole:n,onFocus:o,onBlur:l,draggable:d,isHoverContentVisibleOverride:c},u){let _=(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1y1aw1k xlyipyv xuxw1ft xb3r6kr"},children:[(0,m.jsx)(oR.R.Title,{children:t}),(0,m.jsx)(oR.R.Subtitle,{children:r})]});return(0,m.jsx)(oR.R.Root,{ref:u,cardLabel:s,cardRole:n,draggable:d,footer:_,isHoverContentVisibleOverride:c,isSelected:!!a,onBlur:l,onClick:i,onFocus:o,children:(0,m.jsx)("div",{className:"x1n2onr6",children:e})})});var oF=r(738109),oO=r(643300),oP=r(121267),oL=r(181254),oD=r(358873),oM=r(830772),oU=r(735594);let oB={open:!0,showInFolder:!0,copyLink:!0,pinToWorkspace:!0};function oz({suggestedFiles:e}){let t=e.slice(0,8),r=(0,eW._6)(),{showing:s,show:a,data:i}=(0,oO.L)(),n=_.useCallback((e,t)=>{w.Ay.redirect((0,ry.r1)(e)),(0,oD.k1)(e.key,{selectedViewName:r.view,entrypoint:"suggested_files_empty_state"}),t.stopPropagation(),t.preventDefault()},[r.view]),o=_.useCallback((e,t)=>{n(e,t)},[n]),l=_.useCallback((e,t,r)=>{let s=e[0];s&&a({data:{tile:(0,ov.bn)(s),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[a]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{...{className:"x1n0bwc9 xlyipyv xuxw1ft xb3r6kr"},children:(0,M.t)("file_browser.pinning.suggested")}),(0,m.jsx)(ns.A,{items:t,multiselectDisabled:!0,isDraggable:!1,handleOpenItem:o,handleContextMenu:l,gridViewProps:{containerStyle:oV.grid,renderTile:e=>(0,m.jsx)("div",{...{className:"x1dmp6jm xkib98w xbyyjgo x12oqio5 xgk9eko xb3r6kr"},children:(0,m.jsx)(rg.NM,{file:e,noBorder:!0,size:r0.y.SMALL})}),tileBorderRadius:8,tileBorderStyle:"dashed",tileFooterPosition:"right",renderTileFooter:(e,{isSelected:t,isHovered:r})=>(0,m.jsx)(oW,{file:e,isHovered:r,isSelected:t})},viewType:nl.XU.GRID}),s&&i?.tile?(0,m.jsx)(oP.i,{tileActions:oB,openTile:e=>n(i.tile.file,e),tile:i.tile,selectedTiles:[i.tile],dropdownVisible:s}):null]})}function oW({file:e,isHovered:t,isSelected:r}){let s=(0,x.wA)(),{Sprig:a}=(0,tZ.A)(),i=_.useCallback(t=>{s(rd.to({type:(0,og.a)(),data:{fileKey:e.key,source:"suggested_files_empty_state"}})),(0,f.getFeatureFlags)().file_browser_sentiment_survey&&a("setAttribute","fb_file_organized",!0),t.stopPropagation(),t.preventDefault()},[s,e,a]),n=e.project?.name;return(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x195vfkc x1iyjqo2 xl56j7k xb3r6kr xq1n1xh"},children:[(0,m.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xlyipyv xuxw1ft xb3r6kr"},children:e.name}),t||r||v.A.mobile||v.A.tablet?(0,m.jsx)("div",{role:"button",tabIndex:0,...{className:"x1quhyk7 xlyipyv xuxw1ft xb3r6kr x1ypdohk"},onClick:i,children:(0,M.t)("file_browser.pinning.pin_file")}):n?(0,m.jsx)("div",{className:"x1n0bwc9 xlyipyv xuxw1ft xb3r6kr",children:n}):null]})}let oV={grid:{kumcoG:"xem2tbl",kOIVth:"xou54vl",khm7nJ:null,k1C7PZ:null,$$css:!0}};function oG({workspaceId:e}){let t,r,s=(r=a7.Qw.useTransformShallowEqual((0,E.bc)(tI.m28,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t}),(0,ov.z1)(r,e));return t="loaded"!==s.status?(0,m.jsx)("div",{className:B.s.py1.h20.wFull.$,children:(0,m.jsx)(nO.qc,{})}):s.data.length>0?(0,m.jsx)(oz,{suggestedFiles:s.data}):(0,m.jsx)("span",{className:B.s.colorTextSecondary.truncate.textBodyLarge.alignCenter.$,children:(0,M.t)("file_browser.pinning.no_pinned_files")}),(0,m.jsx)("div",{className:B.s.bRadius8.colorBgSecondary.px32.py24.flex.flexColumn.gap16.mt8.$,children:t})}var oH=r(805242),o$=r(950768),oq=r(266834),oK=r.n(oq),oY=r(30890),oJ=r(817527),oX=r(587047),oQ=r(883652),oZ=r(170589),o0=r(629239),o1=r(204736);function o2({pinnedFile:e}){let t=(0,ov.bn)(e.file),r=(0,oZ.l)(e.file.folderId),s=(0,o0.C)(t);return(0,m.jsxs)("div",{className:B.s.bRadius8.borderBox.p16.flex.flexColumn.gap16.colorBg.colorText.b1.bSolid.colorBorder.elevation300.flexGrow1.$,style:ny.sx.add({width:"422px",overflowY:"auto",overflowX:"hidden"}).$,children:[(0,m.jsxs)("div",{className:B.s.flex.flexRow.gap16.$,children:[(0,m.jsx)("div",{className:B.s.flexBasisAuto.$,children:(0,m.jsx)(o1.e,{entity:{id:e.creator.id,img_url:e.creator.imgUrl,name:e.creator?.name??void 0,handle:e.creator?.handle}})}),(0,m.jsxs)("div",{className:B.s.flex.flexColumn.overflowHidden.$,children:[(0,m.jsxs)("div",{className:B.s.flex.flexRow.gap8.textBodyLarge.$,children:[(0,m.jsx)(z.E,{fontWeight:"semi-bold",truncate:!0,children:e.creator.name}),(0,m.jsx)("span",{className:B.s.flexBasisAuto.flexGrow1.flexShrink0.$,children:(0,m.jsx)(z.E,{color:"secondary",children:(0,m.jsx)(oQ.h1,{date:e.createdAt})})})]}),(0,m.jsx)("div",{className:B.s.textBodyLarge.overflowBreakWord.$,dangerouslySetInnerHTML:{__html:(0,oX.p)((0,oM.sP)(e.description))}})]})]}),(0,m.jsx)("div",{className:B.s.flex.flexColumn.$,children:(0,m.jsxs)("div",{className:B.s.bRadius8.b1.colorBorder.bSolid.wFull.overflowHidden.$,children:[(0,m.jsx)("div",{children:(0,m.jsx)(oN.e,{tile:t,noBorder:!0})}),(0,m.jsx)("div",{className:B.s.flex.flexRow.gap8.itemsCenter.bt1.bSolid.colorBorder.p16.$,children:(0,m.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1v2ro7d x6s0dn4"},children:[(0,m.jsx)(rh.w4,{size:16,type:s}),(0,m.jsxs)("div",{className:B.s.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$,children:[(0,m.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:e.file.name}),"loaded"===r.status&&r.data?(0,m.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},children:r.data}):null]})]})})]})})]})}let o4={width:0,height:0};function o5({pinnedFile:e,targetRef:t,shouldHide:r}){let s=(0,oJ.s)(t),[a,i]=(0,oJ.M)(),[n,o]=_.useState(o4),[l,d]=_.useState(!1),c=_.useCallback(()=>{if(!t.current)return;let e=(0,oY.E)(t.current.getBoundingClientRect()),r=window.innerWidth,s=window.innerHeight,a=s-e.top-8,i=a>100;if(r-e.right>438&&i)return void o({transform:`translate(${e.right+8}px, ${e.top}px)`,maxHeight:a});if(e.left>438&&i)return void o({transform:`translate(${e.left-430}px, ${e.top}px)`,maxHeight:a});let n=430-(r-e.left),l=s-e.bottom-16;if(l>100)return void o({transform:`translate(${(0,o$.qE)(e.left-n,0,e.left)}px, ${e.bottom+8}px)`,maxHeight:l});let d=e.top-16;o({top:"auto",bottom:"100vh",transform:`translate(${(0,o$.qE)(e.left-n,0,e.left)}px, ${e.top-8}px)`,maxHeight:d})},[t,o]),u=!r&&(s||i),x=(0,g.ZC)(u);if(_.useEffect(()=>{if(!x&&u)c();else if(x&&!u){d(!0);let e=setTimeout(()=>{d(!1)},(0,iW.XB)("150ms"));return()=>{clearTimeout(e)}}},[u,x,c]),_.useEffect(()=>{let e=oK()(c),t=()=>{u&&e()};return document.addEventListener("scroll",t,!0),()=>{document.removeEventListener("scroll",t,!0)}},[u,c]),!t.current)return null;let p=(0,m.jsx)("div",{className:"pinned_files_hover--hoverCardOverflowWrapper--k-ktq",children:(0,m.jsx)("div",{className:ee()("pinned_files_hover--hoverCard--4kp46",u&&"pinned_files_hover--makeVisible--R5-Sh"),style:n,ref:a,role:"tooltip",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},children:(u||l)&&(0,m.jsx)(o2,{pinnedFile:e})})});return oH.createPortal(p,document.body)}let o7={open:!0,showInFolder:!0,copyLink:!0,share:!0,duplicateToDrafts:!0,pinToWorkspace:!0,favoriteFile:!0,unfavoriteFile:!0},o3=[];function o8({workspace:e}){let t,r,s=(0,x.wA)(),a=(0,eW._6)(),i=(0,ed.TA)(),{showing:n,show:o,data:l}=(0,oO.L)(),d=(0,oF.v)(),c=_.useCallback((t,r,s,i)=>{d(t,s),(0,oL.E9)(oD.gH,r.file,{entrypoint:i,selectedView:a.view,resourceType:"workspace",resourceId:e.id,pinDescription:(0,oM._Z)(r.description)})},[d,a.view,e.id]),u=_.useCallback((e,t)=>{c((0,ov.bn)(e.file),e,t,"pinned files")},[c]),p=e.pinnedFiles??o3,f=_.useCallback(t=>{let r=t[0];r&&(e.canAdmin||r.creator?.id===i)&&s(rd.to({type:(0,oS.I)(),data:{pinnedFileId:r.id}}))},[e.canAdmin,i,s]),[h,g]=_.useState([]),v=_.useMemo(()=>h.filter(({file:e})=>!!e).map(e=>(0,ov.bn)(e.file)),[h]),b=_.useMemo(()=>p.sort((e,t)=>e.createdAt>t.createdAt?1:-1),[p]);return(0,m.jsxs)(m.Fragment,{children:[p.length>0?(0,m.jsx)(ns.A,{doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,gridViewProps:{containerStyle:lt.grid,renderCard:({ref:e,item:t,isSelected:r,role:s,onFocus:a,onClick:i,onBlur:o})=>(0,m.jsx)(le,{pinnedFile:t,isDropdownOpen:n,ref:e,isSelected:r,cardRole:s,onFocus:a,onClick:i,onBlur:o,draggable:!0}),renderTileDragImage:e=>(0,m.jsx)(rg.NM,{file:e.file,noBorder:!0})},handleContextMenu:(e,t,r)=>{let s=e.find(e=>null!==e.file)?.file;s&&o({data:{tile:(0,ov.bn)(s),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},handleDeleteKey:f,handleDragDataTransfer:(e,t)=>{t.setFigFilesData_DEPRECATED(e.map(e=>oU.F.toSinatra({...e.file})))},handleOpenItem:u,isDraggable:!0,items:b,onSelection:g,viewType:nl.XU.GRID}):(0,m.jsx)(oG,{workspaceId:e.id}),(t=l?.tile??null,r=l?.index??0,(0,m.jsx)(oP.i,{tile:t,selectedTiles:v,tileActions:o7,openTile:e=>{t&&c(t,p[r],e,"pinned files: context menu")},dropdownVisible:n}))]})}function o6({name:e}){return(0,m.jsx)("span",{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly xlyipyv xuxw1ft xb3r6kr",children:e})}function o9({pinnedFile:e}){return(0,m.jsx)(z.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary",children:(0,M.t)("tile.file_tile.pinned_by_user",{name:e.creator?.name??""})})}let le=_.forwardRef(function({pinnedFile:e,isSelected:t,isDropdownOpen:r,cardRole:s,onClick:a,onFocus:i,onBlur:n,draggable:o},l){let d=(0,ov.bn)(e.file),c=e.file.name,u=_.useRef(null);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o5,{pinnedFile:e,targetRef:u,shouldHide:r}),(0,m.jsx)("div",{ref:u,children:(0,m.jsx)(oA,{ref:l,cardLabel:c,cardRole:s,draggable:o,isSelected:t,onBlur:n,onClick:a,onFocus:i,subtitle:(0,m.jsx)(o9,{pinnedFile:e}),thumbnail:(0,m.jsx)(oN.e,{tile:d,noBorder:!0,size:r0.y.SMALL}),title:(0,m.jsx)(o6,{name:c})})})]})}),lt={grid:{kLKAdn:"xyamay9",kumcoG:"x1g5i94c",kfSwDN:"x87ps6o",$$css:!0}},lr=(0,ev.Iz)(e=>(0,ev.E2)(`file_browser.workspace.pinned_section_open.${e}`,!0,op.z.boolean()));function ls({workspace:e,isAssignedWorkspace:t}){let[r,s]=(0,ev.fp)(lr(e.id)),a=_.useCallback(()=>s(e=>!e),[s]),i=(0,x.wA)(),{Sprig:n}=(0,tZ.A)(),o=e.pinnedFiles?.length??0,l=t||e.canAdmin,d=o>=ov.D1,c=l||o>0,u=_.useCallback(()=>{i(rd.to({type:oT,data:{workspaceId:e.id}})),(0,f.getFeatureFlags)().file_browser_sentiment_survey&&n("setAttribute","fb_file_organized",!0)},[i,e.id,n]);return(0,m.jsx)(m.Fragment,{children:c&&(0,m.jsxs)(tL.bL,{isOpen:r,toggle:a,children:[(0,m.jsxs)(tL.Y9,{children:[(0,m.jsx)(tL.JU,{size:"lg",children:(0,M.t)("file_browser.pinning.pinned_files")}),(0,m.jsx)(tL.X0,{children:l&&(0,m.jsx)(tU.$n,{variant:"link",onClick:u,disabled:d,"data-tooltip":d?(0,M.t)("file_browser.pinning.max_files.add_button_tooltip",{maxPins:ov.D1}):void 0,"data-tooltip-type":sO.Ib.TEXT,"data-tooltip-show-above":!0,children:(0,M.t)("file_browser.pinning.add_file")})})]}),(0,m.jsx)(tL.UC,{children:(0,m.jsx)(o8,{workspace:e})})]})})}function la(e){return(0,m.jsx)(a_.u9,{label:"WorkspacePage",children:(0,m.jsx)(li,{...e})})}function li({workspaceId:e}){let t=(0,eo.sZ)(),[r]=(0,rw.IT)((0,tI.aON)({orgId:t.id,workspaceId:e})),[s]=(0,rw.IT)((0,tI.nD$)({workspaceId:e})),a=s.transform(e=>e.workspace?.members??null),{result:i,isLoadingNextPage:n,tryFetchNextPage:o,pageSize:l}=lo({workspaceId:e}),d="loaded"===i.status,c="loaded"===r.status&&d;if((0,I.kF)("Workspace"),(0,I.WX)({markName:"MainBodyContent",isLoaded:c,contextArgs:{numTeams:i.transform(e=>e.length).unwrapOr(null),isPaginated:!0,pageSize:l}}),nb({isLoaded:d,view:"Workspace",isPaginated:!0}),"loading"===r.status)return(0,m.jsx)(nO.qc,{});if("loaded"!==r.status)return(0,m.jsx)(nP.S,{resourceType:iO.Ft.WORKSPACE});let u=r.data.workspace;if(!u||!u.canView)return(0,m.jsx)(nP.S,{resourceType:iO.Ft.WORKSPACE});let _=(0,ec.eO)(r.data.currentUser)===u.id;return(0,m.jsx)(ln,{org:t,workspace:u,workspaceMembersResult:a,workspaceOrgTeamsResult:i,isAssignedWorkspace:_,isLoadingNextPage:n,tryFetchNextPage:o})}function ln({org:e,workspace:t,workspaceMembersResult:r,workspaceOrgTeamsResult:s,isAssignedWorkspace:a,isLoadingNextPage:i,tryFetchNextPage:n}){(0,rT.hL)(t.name);let o={...t,members:r.data??[]},l=r.transform(e=>!!e&&e.length>0),d=t.admins.length>0,c=l.transform(e=>e||d).unwrapOr(!0);return(0,m.jsx)(nI.r,{header:(0,m.jsx)(om,{workspace:o,org:e,isWorkspaceMembersLoading:"loading"===r.status,showMembersButton:c}),content:(0,m.jsxs)("div",{className:B.s.flex.flexColumn.gap24.my24.$,children:[(0,m.jsx)("section",{"aria-label":(0,M.t)("file_browser.pinning.pinned_files"),...{className:"xl8oe17 xbdeg4j"},children:(0,m.jsx)(ls,{workspace:t,isAssignedWorkspace:a})}),(0,m.jsx)(nv,{children:(0,m.jsx)(nf,{orgTeamsResult:s,workspaceId:t.id,isGuest:!1,isLoadingNextPage:i,tryFetchNextPage:n})})]}),metaContent:l.unwrapOr(!1)?(0,m.jsx)(ox,{workspace:o}):void 0})}let lo=({workspaceId:e})=>{let[t]=(0,rw.IT)((0,tI.QJZ)({workspaceId:e,firstPageSize:tm.L}));return nj({result:_.useMemo(()=>t.transform(e=>e.workspace?.activeTeams),[t]),pageSize:tm.L})};var ll=r(690538),ld=r(497935),lc=r(575024),lu=r(412955),lm=r(244411),l_=r(360214),lx=r(208806),lp=r(621071),lf=r(399853),lh=r(186396),lg=r(439036),lv=r(114847);function lb({buttonProps:e,image:t,title:r,author:s}){return(0,m.jsxs)(iu.E,{className:"home_shelf_resource_tile--resourceTileButton--NNuSy",...e,"data-testid":"home-shelf-resource-tile",children:[(0,m.jsxs)("div",{className:"home_shelf_resource_tile--homeShelfResourceTile--jlVQm",children:[(0,m.jsx)("div",{className:"home_shelf_resource_tile--homeShelfTileImageContainer--sssH-",children:t}),(0,m.jsx)("div",{className:"home_shelf_resource_tile--title--6ENUu",children:r})]}),s]})}function lj(){return(0,m.jsx)(lb,{buttonProps:{disabled:!0},image:(0,m.jsx)(l_.Qp,{className:"home_shelf_resource_tile--loadingImage--44jTW home_shelf_resource_tile--loadingColor--Akyob",animationType:l_.JR.NO_SHIMMER}),title:(0,m.jsx)(l_.Wi,{className:"home_shelf_resource_tile--loadingTitleText--NRKXx home_shelf_resource_tile--title--6ENUu home_shelf_resource_tile--loadingColor--Akyob",animationType:l_.JR.NO_SHIMMER}),author:(0,m.jsx)(l_.Wi,{className:"home_shelf_resource_tile--loadingAuthor--Ayj8g home_shelf_resource_tile--author--6D6fb home_shelf_resource_tile--loadingColor--Akyob",animationType:l_.JR.NO_SHIMMER})})}function ly({resource:e,isSelected:t,onFocus:r,onResourceClick:s,disableLazyLoading:a}){let i=(0,x.wA)(),n=(0,lf.Lj)(e),o=(0,_.useCallback)(()=>{(0,lv.FM)(i,e,{openInNewTab:!1,shouldUpdateUrl:!1}),s&&s(e)},[i,e,s]),l=_.useRef(null);_.useEffect(()=>{t&&l.current?.focus()},[t]);let d={onClick:o,"aria-label":e.name,"aria-current":t,onFocus:r,ref:l};return(0,m.jsx)(lb,{buttonProps:d,image:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(lp.i,{resource:e,isSelected:t,disableLazyLoading:a}),(0,m.jsx)("div",{className:"home_shelf_resource_tile--tileEditorIcon--J3sMN",children:(0,m.jsx)(lg.dn,{editorType:e.editor_types[0]})})]}),title:(0,m.jsx)("div",{className:"home_shelf_resource_tile--titleText--cjvM-",children:e.name}),author:(0,m.jsxs)("div",{className:"home_shelf_resource_tile--subtitle--IZzZd",children:[(0,m.jsx)("span",{className:"home_shelf_resource_tile--author--6D6fb",children:(0,M.tx)("community.resource_tiles.by_author",{author:n})}),"\xa0\xa0\xb7\xa0\xa0",(0,m.jsxs)("div",{className:"home_shelf_resource_tile--metrics--ktgfB",children:[(0,m.jsx)(lx.cz,{currentUserLiked:!1,likeCount:e.like_count,disableFontStyling:!0}),(0,m.jsx)(lx.i8,{usageCount:(0,lh.mk)(e),disableFontStyling:!0})]})]})})}let lw=211/244;var lE=r(797174),lT=r.n(lE),lI=r(338883),lk=r(663727),lC=r(669587);let lN=[lC.vt.FIGMAKE_TEMPLATE,lC.vt.SITE_TEMPLATE,lC.vt.COOPER_TEMPLATE_FILE,lC.vt.DESIGN_TEMPLATE,lC.vt.SLIDE_TEMPLATE,lC.vt.FIGJAM_TEMPLATE];var lS=((l=lS||{}).ROUND_ROBIN="ROUND_ROBIN",l.PRESERVE_ORDER="PRESERVE_ORDER",l);function lR(){let e=(0,x.d4)(e=>e.user?.drafts_folder_id)??null,{data:t}=(0,lI.nt)(e);return(0,_.useMemo)(()=>lN.filter(e=>{let r=(0,lk.J2)(e);return r&&t&&(0,lI.d6)(t,r)}),[t])}var lA=r(757253),lF=r(838719),lO=r(834116),lP=r(978271);function lL({href:e,onClick:t,label:r}){return(0,m.jsxs)(lA._,{href:e,onClick:t,...{className:"xh8yej3 x5yr21d x78zum5 xdt5ytf x6s0dn4 x1nhvcw1 x1v2ro7d x1ypdohk x1m44qbp x1hlypiz x14bshsj xj8kr5k x216ay5 xyhhrho xjlt9t"},"aria-label":r,children:[(0,m.jsxs)("div",{...{className:"x1lliihq x1n2onr6 x1vjfegm xh8yej3 x1mxnbhz x176lpz5 xb3r6kr xqcghcy x1klh5xi"},children:[(0,m.jsx)(lO.oW,{...{className:"x1vjfegm xxcbz4w xxil28c x10l6tqk xm6i5cn x2e2xj7 x19y5rnk xbngzmg xgk9eko"},src:(0,lF.staticAssetWithUploadsPath)("2f1ddf99a93705a145b3e9258c29994c2bcc3296"),alt:""}),(0,m.jsx)(lO.oW,{...{className:"xhtitgo xzc2ltc xkaoswt x10l6tqk xm6i5cn x2e2xj7 x19y5rnk xbngzmg xgk9eko"},src:(0,lF.staticAssetWithUploadsPath)("3b5e7024cc8ec5912d46ce4c4f555f79de8afa22"),alt:""}),(0,m.jsx)(lO.oW,{...{className:"xzkaem6 x156by65 xfaolkn x10l6tqk xm6i5cn x2e2xj7 x19y5rnk xbngzmg xgk9eko"},src:(0,lF.staticAssetWithUploadsPath)("1922e9623fd798bcb563e1f4e9ae105b54d904b4"),alt:""}),(0,m.jsx)(sF.B,{svg:lP.A,...{className:"x10l6tqk xoegz02 xh8yej3 xqmqy1e xb9t1mx"},svgWidth:"100%",svgHeight:"auto"})]}),(0,m.jsx)("span",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh xh8yej3 xdpxx8g x1quhyk7",children:r})]})}function lD({href:e,onClick:t,label:r}){return(0,m.jsx)(lA._,{href:e,onClick:t,className:"x1quhyk7 xt0e3qv x1gskr33 x1ihwiht x8rdmch xctkrei x19y5rnk xjbqb8w x1bldm2b x1hl2dhg xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:r})}var lM=((d=lM||{}).NAVIGATION_TILE="NAVIGATION_TILE",d.SEE_MORE="SEE_MORE",d),lU=((c=lU||{}).DEFAULT="default",c.BRAND="brand",c);function lB(){return(0,m.jsx)("div",{...{className:"x1cqoux5 xeuugli"},children:(0,m.jsx)("div",{className:"x186iv6y xh8yej3 x176lpz5 x19y5rnk xmkeg23 xbsl7fq x7z60cl"})})}function lz({resources:e,isLoading:t,sizingInfo:r,navigationTileProps:s,onResourceClick:a,disableLazyLoading:i}){let n=_.useRef(null),[o,l]=_.useState(null),[d,c]=_.useState(null),u=(0,_.useMemo)(()=>!t&&r.numberOfTiles>e.length?(0,o$.y1)(r.numberOfTiles-e.length).map(e=>(0,m.jsx)(lB,{},e)):[],[r.numberOfTiles,e.length,t]),x=t?(0,o$.y1)(r.numberOfTiles).map(e=>(0,_.createElement)("div",{className:"x1cqoux5 xeuugli",key:e},(0,m.jsx)(lj,{}))):e.map((e,t)=>(0,_.createElement)("div",{...{className:"x1cqoux5 xeuugli"},key:e.id},(0,m.jsx)(ly,{resource:e,isSelected:d===t,onFocus:()=>{l(t),c(t)},onResourceClick:a,disableLazyLoading:i})));return(0,m.jsxs)("div",{...{className:"x78zum5 x1665zp3"},children:[(0,m.jsxs)(lm.S.div,{role:"grid",tabIndex:0,style:{width:r.tileRowWidth},...{className:"x78zum5 x1665zp3 xh8yej3 x1qughib"},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onFocus:e=>{e.target===n.current&&null===d&&(c(0),l(0))},onBlur:e=>{e.relatedTarget&&n.current?.contains(e.relatedTarget)||c(null)},ref:n,onKeyDown:t=>{if("ArrowRight"===t.key){t.preventDefault(),t.stopPropagation();let r=Math.min((o??0)+1,e.length-1);l(r),c(r)}else if("ArrowLeft"===t.key){t.preventDefault(),t.stopPropagation();let e=Math.max((o??0)-1,0);l(e),c(e)}},children:[x,u]}),s&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"x1lliihq x1i1rx1s x1hyhr7 xe0pwq x19ypqd9 x1tcoidr"}),(0,m.jsx)("div",{style:{width:r.navigationSectionWidth},children:(0,m.jsx)(lL,{href:s.href,onClick:s.onClick,label:s.label})})]})]})}function lW({title:e,allResources:t,isLoading:r,onDismiss:s,onRefresh:a,navigation:i,minTilesToShow:n=2,refreshDisabled:o=!1,refreshLabel:l,dismissLabel:d,onVisibleResourcesChange:c,onResourceClick:u,orderingStrategy:x=lS.ROUND_ROBIN,variant:p="default",disableLazyLoading:f}){let h=function(e={}){let{includeNavigationTile:t=!0}=e,r=(0,_.useRef)(null),[s,a]=(0,_.useState)(0),[i,n]=(0,_.useState)(0),[o,l]=(0,_.useState)(0),d=(0,_.useCallback)(e=>{let r,s,i,o,d=e-48;if(t){if((r=Math.floor((d-24-244*lw)/268))<1){a(0),n(0),l(0);return}i=Math.floor((s=Math.floor((d-24-24*(r=Math.min(r,16)))/(r+lw)))*r+24*(r-1)),o=Math.floor(s*lw)}else{if((r=Math.floor((d+24)/268))<1){a(0),n(0),l(0);return}i=Math.floor((s=Math.floor((d-24*((r=Math.min(r,16))-1))/r))*r+24*(r-1)),o=0}a(r),n(i),l(o)},[t]);return(0,_.useLayoutEffect)(()=>{let e=r.current;if(!e)return;d(e.clientWidth);let t=new ResizeObserver(e=>{d(e[0]?.target.clientWidth??0)});return t.observe(r.current),()=>t.disconnect()},[r,d]),(0,_.useMemo)(()=>({tileRowWidth:i,navigationSectionWidth:o,numberOfTiles:s,sizeRef:r}),[i,o,s,r])}({includeNavigationTile:i?.style==="NAVIGATION_TILE"}),g=function(e,t,r){let{orderingStrategy:s}=r,a=lR();return(0,_.useMemo)(()=>{let r=e.filter(e=>a.includes(e.resource_type));switch(s){case"PRESERVE_ORDER":return r.slice(0,t);case"ROUND_ROBIN":return function(e,t,r){let s=t.slice(),a=lT()(e,e=>e.resource_type),i=[];for(let t=0;t<e.length+s.length&&i.length!==r&&0!==s.length;t++){let e=(a[s[t%s.length]]??[]).shift();e?i.push(e):s.splice(t%s.length,1)}return i}(r,a,t)}},[e,t,a,s])}(t,h.numberOfTiles,{orderingStrategy:x}),v=_.useRef("");_.useEffect(()=>{if(c){let e=g.map(e=>e.id).join(",");e!==v.current&&(v.current=e,c(g))}},[g,c]);let b=g.length<n,j=i?.style==="NAVIGATION_TILE"?i.props:void 0,y=i?.style==="SEE_MORE"?i.props:void 0;return(0,m.jsx)("div",{ref:h.sizeRef,className:"community_resources_shelf--homeShelfContainer--O-cDz",children:!b&&(0,m.jsxs)("div",{...{0:{className:"x2i9t41 xrxpjvj xexx8yu x8e5d8q x1l90r2v xd3ty66 x1mxnbhz x1sjmt1f"},1:{className:"x2i9t41 xrxpjvj xexx8yu x8e5d8q x1l90r2v xd3ty66 x1mxnbhz x1jgvi1y"}}["brand"===p|0],children:[(0,m.jsxs)("div",{...{className:"x78zum5 x1qughib x6s0dn4 x10dr8xq xnjsko4 xettwda"},children:[(0,m.jsx)("div",{className:"x1akne3o x1l3kr2 x1mnx3iv xo8tsow xeefxrb xdjnq2g",children:e}),(0,m.jsxs)("div",{...{className:"x78zum5 x1n2onr6 xncym2f x167g77z x6s0dn4"},children:[y&&(0,m.jsx)(lD,{...y}),a&&l&&(0,m.jsx)(em.K,{"aria-label":l,onClick:a,disabled:o,children:(0,m.jsx)(lc._,{})}),s&&d&&(0,m.jsx)(em.K,{"aria-label":d,onClick:s,children:(0,m.jsx)(lu.f,{})})]})]}),(0,m.jsx)(lz,{sizingInfo:h,resources:g,isLoading:r,navigationTileProps:j,onResourceClick:u,disableLazyLoading:f})]})})}var lV=r(551966),lG=r(563951),lH=r(267331),l$=r(786821),lq=r(934635),lK=r(646350),lY=r(824272),lJ=r(50751),lX=r(790174);function lQ({onSearchInCommunity:e,title:t=(0,M.t)("community.search.search_in_community_banner.title"),description:r=(0,M.t)("community.search.search_in_community_banner.description"),ctaText:s=(0,M.t)("community.search.search_in_community_banner.cta")}){return(0,m.jsx)("div",{...{className:"x19y5rnk xb3r6kr"},children:(0,m.jsxs)(lY.Cs,{variant:"brand",icon:(0,m.jsx)(an.N,{}),children:[(0,m.jsx)(lJ.Q,{title:t,children:r}),(0,m.jsx)(lX.v,{onClick:e,children:s})]})})}var lZ=r(288117);function l0(e){return lN.includes(e.resource_type)}var l1=r(519809);function l2(){let e=(0,_.useRef)(new Set);return{trackImpression:(0,_.useCallback)(t=>{let{isShown:r,reason:s,searchSessionId:a,searchQueryId:i,numResults:n,experimentGroup:o}=t,l=`${a}:${i}:${o}`;e.current.has(l)||(e.current.add(l),(0,sJ.sx)("community_shelf_impressed",{is_shown:r,shown_reason:s,tracking_session_id:a,search_query_id:i,num_resources:n,experiment_group:o}))},[])}}let l4=rw.M4.Query({fetch:async e=>{let t=performance.now(),r=await lK.$W.getResources({query:e.query,session_id:e.session_id,max_num_results:e.max_num_results,resource_type:[...e.resource_types],sort_by:lV.e.Search.RELEVANCY,caller:lG.z.FILE_BROWSER_SEARCH_PAGE}),s=Math.round(performance.now()-t);return{...r.data.meta,_latencyMs:s}}});function l5({query:e,teamId:t,searchResults:r,searchSessionId:s,searchQueryId:a,numResults:i,experimentGroup:n}){let[o,l]=(0,_.useState)(!1),d=(0,lq.BN)(lZ._),c=(d?.data??0)>=3,{trackImpression:u}=l2(),x=d?.status==="loading";_.useEffect(()=>{x||o||u({isShown:!c,reason:c?"permanently_dismissed":"visible",searchSessionId:s,searchQueryId:a,numResults:i,experimentGroup:n})},[u,x,c,o,s,a,i,n]);let p=(0,_.useMemo)(()=>({recommended_resources:r.results.map(e=>e.model).filter(l0),internal_resources:[]}),[r]),[f,h]=_.useState([]);!function({visibleResources:e,searchSessionId:t,searchQueryId:r}){let{trackResourceImpression:s}=(0,l1.GS)({extraProperties:{...t&&{search_session_id:t},...r&&{search_query_id:r}}});(0,_.useEffect)(()=>{e.forEach(e=>{s(e)})},[s,e])}({visibleResources:f,searchSessionId:s,searchQueryId:a});let g=(0,_.useMemo)(()=>new lH.bP({teamId:t},{query:e}).href,[t,e]),v=(0,_.useCallback)(()=>{w.Ay.push(g)},[g]),b=(0,_.useCallback)(e=>{e.preventDefault(),(0,nW.Cu)({trackingContext:sP.e0.COMMUNITY_SEARCH_SHELF,trackingDescriptor:eb.c.COMMUNITY_SEARCH_SHELF_ON_FB_SRP_SHELF_SEE_MORE_CLICKED,search_session_id:s,search_query_id:a}),v()},[v,s,a]),j=(0,_.useCallback)(()=>{l(!0),(0,nW.Cu)({trackingContext:sP.e0.COMMUNITY_SEARCH_SHELF,trackingDescriptor:eb.c.COMMUNITY_SEARCH_SHELF_ON_FB_SRP_SHELF_DISMISS_CLICKED,search_session_id:s,search_query_id:a}),(0,lq.FC)(lZ._)},[s,a]),y=(0,_.useCallback)(e=>{(0,lh.cB)(e.resource_type,e.id,void 0,s,a,sP.e0.COMMUNITY_SEARCH_SHELF,sP.e0.COMMUNITY_SEARCH_SHELF,eb.c.COMMUNITY_SEARCH_SHELF_ON_FB_SRP_TILE_CLICKED)},[s,a]);return c||o||d?.status==="loading"?null:(0,m.jsx)(U.fu,{name:sP.e0.COMMUNITY_SEARCH_SHELF,children:(0,m.jsx)(lW,{allResources:p.recommended_resources,disableLazyLoading:!0,dismissLabel:(0,M.t)("community.search_shelf.dismiss_label"),isLoading:!1,navigation:{style:lM.SEE_MORE,props:{href:g,label:(0,M.t)("community.search_shelf.see_more"),onClick:b}},onDismiss:j,onResourceClick:y,onVisibleResourcesChange:h,orderingStrategy:lS.PRESERVE_ORDER,title:(0,M.t)("community.search_shelf.related_results_from_community"),variant:lU.BRAND})})}function l7({query:e,teamId:t,searchSessionId:r,searchQueryId:s,numResults:a,experimentGroup:i}){let{trackImpression:n}=l2();_.useEffect(()=>{n({isShown:!0,reason:"visible",searchSessionId:r,searchQueryId:s,numResults:a,experimentGroup:i})},[n,r,s,a,i]);let o=(0,_.useMemo)(()=>new lH.bP({teamId:t},{query:e}).href,[t,e]),l=(0,_.useCallback)(()=>{(0,nW.Cu)({trackingContext:sP.e0.COMMUNITY_SEARCH_SHELF,trackingDescriptor:eb.c.COMMUNITY_SEARCH_SHELF_ON_FB_SRP_BANNER_SEE_MORE_CLICKED,search_session_id:r,search_query_id:s}),w.Ay.push(o)},[o,r,s]);return(0,m.jsx)("div",{className:"community_resources_search_shelf--bannerContainer--x3oma",children:(0,m.jsx)(lQ,{onSearchInCommunity:l,description:(0,M.t)("community.search.search_in_community_banner.description_with_results",{num_results:null==a?0:a<100?`${a}+`:100})})})}function l3({query:e,teamId:t,visibleResourceTypes:r}){let s=(0,x.d4)(e=>e.search.sessionId),a=(0,x.d4)(e=>e.search.queryId),i=(0,eW._6)(),n=(0,l$.IZ)(),o=(0,l$._k)(),l=n(),d=o(),c=(0,_.useMemo)(()=>l?"community_shelf_on_file_browser_search_result_page_resource_shelf":d?"community_shelf_on_file_browser_search_result_page_banner":"community_shelf_on_file_browser_search_result_page_control",[l,d]);(0,_.useEffect)(()=>{(0,oD.o5)(i,{session_id:s??void 0,experiment_group:c})},[i,s,c]);let u=(0,_.useMemo)(()=>({query:e,session_id:s??void 0,max_num_results:l?16:1,resource_types:r}),[e,s,l,r]),[p]=(0,rw.IT)(l4(u),{enabled:(l||d)&&u.resource_types.length>0}),{trackImpression:f}=l2(),h=p.data?.total_hits,g="loaded"===p.status,v=!!p.data,b=!h||h<20;return((0,_.useEffect)(()=>{if(!l&&!d||t&&!g)return;let e=t?v?b?"insufficient_results":null:"api_no_data":"no_team_id";e&&f({isShown:!1,reason:e,searchSessionId:s??void 0,searchQueryId:a??void 0,numResults:"insufficient_results"===e?h??0:0,experimentGroup:c})},[f,t,g,v,b,h,l,d,s,a,c]),(l||d)&&t&&"loaded"===p.status&&p.data&&h&&!(h<20))?l?(0,m.jsx)(l5,{experimentGroup:c,numResults:h,query:e,searchQueryId:a??void 0,searchResults:p.data,searchSessionId:s??void 0,teamId:t}):(0,m.jsx)(l7,{experimentGroup:c,numResults:h,query:e,searchQueryId:a??void 0,searchSessionId:s??void 0,teamId:t}):null}function l8(){let e,t,r,s,a,i,n,o,l=(0,x.d4)(e=>e.search.parameters.query??""),d=(0,x.d4)(e=>e.currentTeamId),c=(e=(0,x.d4)(e=>e.search.parameters.query??""),t=(0,tk.No)(),r=(0,tk.iW)(t),s=(0,x.d4)(e=>e.user?.drafts_folder_id)??null,a=(0,x.d4)(e=>e.currentTeamId),i=(0,x.d4)(e=>!!a&&(0,it.oc)(a,e)),n=(0,eL.vt)(),o=(0,eP.jn)(),!!(0,eJ.mj)()&&!(e.length<3)&&!!r.unwrapOr(!1)&&!v.A.mobile&&!!s&&!i&&!n&&!o&&!0),u=lR();return c?(0,m.jsx)(l3,{query:l,teamId:d,visibleResourceTypes:u}):null}var l6=r(943634),l9=r(140390),de=r(790645),dt=r(249318),dr=r(354504),ds=r(422642),da=r(1294);function di(e){_.useEffect(()=>{sJ.az.trackDefinedEvent("search_experience.dead_code",{userId:(0,lF.default)().user_data?.id,codeLocation:"search/views/search_bar.tsx"})},[]);let t=(0,x.d4)(e=>!!e.user),r=(0,x.d4)(e=>"search"===e.selectedView.view?e.search.parameters.query:""),s=(0,x.d4)(t=>void 0!==e.isFocusedOverride?e.isFocusedOverride:t.search.isFocused),a=_.useMemo(()=>e.query??r,[e.query,r]),i=(0,x.wA)(),{onFocusOverride:n,onBlurOverride:o,onQueryChanged:l}=e,{Sprig:d}=(0,tZ.A)(),c=(0,dt.y)(e.entryPoint,e.searchScope),u=(0,ev.md)(ds.BA),p=_.useCallback(()=>{if(i(oj.W0({entryPoint:e.entryPoint})),n)return n();i(oj.Z6({isFocused:!0}))},[i,e.entryPoint,n]),f=_.useCallback(()=>{if(o)return o();i(oj.Z6({isFocused:!1,persistAnalyticsSession:u}))},[i,o,u]),h=_.useCallback(t=>{l(t),e.disableSearchOnQueryChange||c(t,u,!1,!1)},[l,c,u,e.disableSearchOnQueryChange]),g=_.useCallback(t=>{"file_browser"===e.entryPoint&&d("track",dr.R),t.preventDefault(),c(a,u,!0,!0),document.activeElement&&v.A.isMobileBrowser&&document.activeElement.blur()},[e.entryPoint,c,a,u,d]),b=_.useCallback(()=>{l(""),i(oj._z({})),u&&history.go(-1)},[i,l,u]);return _.useEffect(()=>{let e=e=>{e.keyCode===q.Uz.FORWARD_SLASH&&document.activeElement?.tagName==="BODY"&&p()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p]),(0,m.jsx)("form",{onSubmit:g,className:B.s.wFull.$,children:t?e.useSidebarStyles?(0,m.jsx)(oh.Qv,{className:v.A.mobile?da.G1:void 0,clearSearch:b,focusOnMount:u,hideXIcon:!1,isFocused:s,onBlur:f,onChange:h,onFocus:p,onSubmit:g,placeholder:e.placeholder,query:a}):(0,m.jsx)(oh.IW,{className:v.A.mobile?da.G1:void 0,clearSearch:b,focusOnMount:u,hideXIcon:!1,isFocused:s,onBlur:f,onChange:h,onFocus:p,onSubmit:g,placeholder:e.placeholder,query:a}):(0,m.jsx)(oh.o_,{className:v.A.mobile?da.G1:void 0,clearSearch:b,focusOnMount:u,isFocused:s,onBlur:f,onChange:h,onFocus:p,onSubmit:g,placeholder:e.placeholder,query:a})})}function dn(){let e=(0,x.d4)(e=>e.search.parameters.searchScope),t=(0,x.d4)(e=>(0,iS.d9)(e.selectedView)),[r,s]=(0,_.useState)(null),a="community"===e?(0,M.t)("search.empty_state.search_placeholder_figma_community"):(0,M.t)("search.empty_state.search_placeholder"),i=(0,m.jsx)("div",{className:"search_page_mobile_top_bar--searchBar--TBow8",children:(0,m.jsx)(di,{query:r,onQueryChanged:e=>s(e),searchScope:e,entryPoint:t?"community":"file_browser",placeholder:a})});return v.A.mobile?(0,m.jsx)("div",{className:"search_page_mobile_top_bar--mobileToolBarSpacerContainer--IyU4Y",children:i}):(0,m.jsx)(de.W,{tabs:null,center:i,centerFullWidth:!0})}var dl=r(526267),dd=r(46714);class dc extends _.Component{constructor(e){super(e),this.onScroll=e=>{this.updateIsTop(e.target)},this.updateIsTop=e=>{this.props.setScrollTop(window.pageYOffset)},this.shouldScroll=()=>0!==this.props.searchScrollTop,this.getLoadingKey=()=>oj.$P.loadingKeyForPayload({parameters:this.props.parameters}),this.isLoading=()=>l6.VP(this.props.loadingState,this.getLoadingKey()),this.didSucceed=()=>l6.GH(this.props.loadingState,this.getLoadingKey()),this.didFail=()=>l6.aF(this.props.loadingState,this.getLoadingKey()),this.getFailedReason=()=>l6.Fl(this.props.loadingStateFailureReasons,this.getLoadingKey());const t=this.getFilteredResults(e.searchResults??[],e.sortFilterConfig);this.state={showContainer:!this.shouldScroll(),filteredFileResults:t}}componentDidMount(){window.addEventListener("scroll",this.onScroll,!0),this.shouldScroll()?setTimeout(()=>{window.scrollTo(0,this.props.searchScrollTop),this.setState({showContainer:!0})},0):this.updateIsTop({})}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll,!0)}componentDidUpdate(e){if(this.props.searchModelType===l9.uH.FILES){let t=e.searchResults??[],r=this.props.searchResults??[],s=t.length!==r.length;if(!s)for(let e=0;e<t.length;e++)(0,ld.c2)(t[e],r[e])||(s=!0);if(s){let e=this.getFilteredResults(r,this.props.sortFilterConfig);this.setState({...this.state,filteredFileResults:e})}}}getFilteredResults(e,t){return this.props.searchModelType===l9.uH.FILES?e.filter(e=>{let r=e.model;switch(t.filters.fileType){case nl.t2.ANY:return!0;case nl.t2.DESIGN:return"design"===r.editor_type;case nl.t2.FIGJAM:return"whiteboard"===r.editor_type;case nl.t2.SITES:return"sites"===r.editor_type;case nl.t2.SLIDES:return"slides"===r.editor_type;case nl.t2.COOPER:return"cooper"===r.editor_type;case nl.t2.MAKE:return"figmake"===r.editor_type;case nl.t2.PROTOTYPE:return!1;default:(0,D.xb)(t.filters.fileType)}}):e}render(){let e=this.props.searchResults??[],t=this.getFilteredResults(e,this.props.sortFilterConfig);return(0,m.jsx)(nI.r,{toolbar:v.A.mobile?(0,m.jsx)(dn,{}):void 0,viewbar:(0,m.jsx)(dd.ZG,{sortControlsDisabled:0===e.length}),viewBarSticky:!0,banner:this.props.searchModelType===l9.uH.FILES?(0,m.jsx)(l8,{}):void 0,content:(0,m.jsx)(dl.g,{didFail:this.didFail(),didSucceed:this.didSucceed(),failureMessage:this.getFailedReason(),isLoading:this.isLoading(),onChangeSortState:this.props.onChangeSortState,planFilter:this.props.parameters.planFilter,query:this.props.completedQuery,searchModelType:this.props.searchModelType,searchResults:t,searchScope:this.props.parameters.searchScope,sortState:this.props.parameters.sortState})},"unified-search")}}function du(){let e=(0,x.d4)(e=>e.search.parameters),t=e.facetFilters?.searchModelType?e.facetFilters.searchModelType:l9.uH.FILES,r=(0,x.wA)(),s=(0,x.d4)(e=>e.search.parameters),a=(0,x.d4)(e=>e.search.responses[t]?.results||null),i=(0,x.d4)(e=>e.search.completedQueries[t]),n=(0,x.d4)(e=>e.loadingState),o=(0,x.d4)(e=>e.loadingStateFailureReasons),l=(0,x.d4)(e=>e.search.searchScrollTop),d=(0,x.d4)(e=>e.tileSortFilterStateByView.search),c=_.useCallback(e=>{r(oj.qv({sortState:e}))},[r]),u=_.useCallback(e=>{r(oj.PP({top:e}))},[r]);return(0,m.jsx)(dc,{completedQuery:i,loadingState:n,loadingStateFailureReasons:o,onChangeSortState:c,parameters:s,searchModelType:t,searchResults:a,searchScrollTop:l,setScrollTop:u,sortFilterConfig:d})}dc.displayName="SearchPageView";var dm=r(271044),d_=r(309295),dx=r(153645),dp=r(645168),df=r(138247),dh=r(836570),dg=r(829235),dv=r(794060),db=r(578118),dj=r(716035),dy=r(487893),dw=r(46243),dE=r(220117),dT=r(170665),dI=r(132241),dk=r(365075),dC=r(313077);let dN={bannerHeaderText:{kMv6JI:"xor4psk",kGuDYH:"x1ncjjhx",k63SB2:"xaoa4km",kLWn49:"x2i041",kb6lSQ:"x14terfx",ks0D6T:"xw5ewwj",k9WMMc:"x2b8uid",$$css:!0},bannerContainer:{k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kGNEyG:"x6s0dn4",kjj79g:"xl56j7k",koQZXg:"x1qmclg5",km5ZXQ:"x6zwu1g",keTefX:null,k71WvV:null,kKwaWg:"x18klckb x9y3dz2",$$css:!0},contentContainer:{k1xSpc:"x78zum5",kXwgrk:"x1q0g3np",kGNEyG:"x6s0dn4",kjj79g:"xl56j7k",kVAEAm:"x1n2onr6",kZKoxP:"x1iu8u7t",kLKAdn:"x1y1aw1k",kGO01o:"xwib8y2",kzqmXN:"xh8yej3",ks0D6T:"xrlsmeg",k9g6sI:"x12h1iku",$$css:!0},iconContainer:{kzqmXN:"xrostsh",kZKoxP:"x5yr21d",kGNEyG:"x6s0dn4",k1xSpc:"x78zum5 x1mr30q6",$$css:!0},pluginIcon:{kVAEAm:"x10l6tqk",kzqmXN:"x1691je0",kZKoxP:"x90ne7k",kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kGVxlE:"xcnv1gw",$$css:!0},iconSetIcon:{kVAEAm:"x10l6tqk",kzqmXN:"x100vrsf",kZKoxP:"x1vqgdyp",kDwRjp:"xbh8q5q",kjVXCG:"x1ayoduh",kDd8S0:"x1g350g8",$$css:!0},libraryIcon:{kzqmXN:"x100vrsf",kZKoxP:"x1vqgdyp",kVAEAm:"x10l6tqk",kDd8S0:"x1g350g8",$$css:!0},categoryLink:{k1xSpc:"x1rg5ohu",kkrTdU:"x1ypdohk",$$css:!0},categoryLinkActive:{kMwMTN:"x1quhyk7",$$css:!0},fillAccent:{"--color-icon":"x1aue78i","--community-hero-illustrations-fill-opacity":"x1nru0vl",$$css:!0},typeIcon:{"--community-hero-illustrations-fill-opacity":"x1nru0vl",$$css:!0}};var dS=r(679697),dR=r(609916),dA=r(212926),dF=r(655972),dO=r(192e3),dP=r(472734),dL=r(191294),dD=r(467873),dM=r(241131),dU=r(402890),dB=r(898955),dz=r(505943),dW=r(956876),dV=r(122588);let dG=(0,lF.staticAssetWithUploadsPath)("4c694b59552bdaf728d6bbad5c5603c08e768dde"),dH=(0,lF.staticAssetWithUploadsPath)("65c3bfafc5758245135ea68c46bf8649e08fc682"),d$=(0,lF.staticAssetWithUploadsPath)("0d28516cbda0bfcf87b214c919c6ed52f3358efb"),dq=(0,lF.staticAssetWithUploadsPath)("34cf09b757fec1181abee8d8ece8a06ee0383408"),dK=(0,lF.staticAssetWithUploadsPath)("ebe89d33f7040c60d83a01887800a522babf7de7"),dY=(0,lF.staticAssetWithUploadsPath)("2a50b4b29af5a21bde6c7b4ef8cdfd97a2b16a39"),dJ={topLeft:{src:dG,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:127,y:-40,rotate:15},hover:{opacity:1,scale:1,x:110,y:-70,rotate:15}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},middleLeft:{src:dH,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:67.6,y:0,rotate:-22},hover:{opacity:1,scale:1,x:40,y:-5,rotate:-22}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},bottomLeft:{src:d$,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:133,y:40,rotate:-18},hover:{opacity:1,scale:1,x:110,y:38,rotate:-18}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}}},dX={topRight:{src:dq,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:-12.6,y:-40,rotate:15},hover:{opacity:1,scale:1,x:15,y:-70,rotate:15}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},middleRight:{src:dK,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:37.4,y:0,rotate:1},hover:{opacity:1,scale:1,x:55,y:-15,rotate:1}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},bottomRight:{src:dY,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:-17.6,y:45,rotate:-6},hover:{opacity:1,scale:1,x:0,y:35,rotate:-6}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}}},dQ={left:{profileIcon:{svg:dB.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:100,y:-35,rotate:-10},hover:{opacity:1,scale:1,x:80,y:-55,rotate:-10}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},asterikIcon:{svg:dS.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:40,y:-15,rotate:-15},hover:{opacity:1,scale:1,x:20,y:-35,rotate:-15}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},homeIcon:{svg:dD.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:40,y:40,rotate:-15},hover:{opacity:1,scale:1,x:20,y:20,rotate:-15}},transition:{delay:.025,type:"spring",bounce:.4,duration:.25}},mentionIcon:{svg:dU.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:115,y:40,rotate:10},hover:{opacity:1,scale:1,x:95,y:20,rotate:10}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}}},right:{emojiIcon:{svg:dL.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:25,y:-40,rotate:15},hover:{opacity:1,scale:1,x:30,y:-55,rotate:15}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},chatIcon:{svg:dA.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:90,y:-25,rotate:5},hover:{opacity:1,scale:1,x:95,y:-45,rotate:5}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},settingsIcon:{svg:dz.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:30,y:35,rotate:15},hover:{opacity:1,scale:1,x:35,y:15,rotate:15}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}},bookmarkIcon:{svg:dR.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:95,y:45,rotate:5},hover:{opacity:1,scale:1,x:100,y:25,rotate:5}},transition:{delay:.025,type:"spring",bounce:.4,duration:.25}}}},dZ={colorSwatches:{component:function(){return(0,m.jsx)(sF.B,{svg:dF.A,...ex.xk(dN.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:110,y:40,rotate:0},hover:{opacity:1,scale:1,x:70,y:15,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}},colorsIcon:{component:function(){return(0,m.jsx)(sF.B,{svg:dO.A,...ex.xk(dN.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:110,y:-35,rotate:5},hover:{opacity:1,scale:1,x:90,y:-55,rotate:5}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},variableIcon:{component:function(){return(0,m.jsx)(sF.B,{svg:dV.A,...ex.xk(dN.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:40,y:5,rotate:-5},hover:{opacity:1,scale:1,x:10,y:-20,rotate:-5}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}}},d0={libraryIcon:{component:function(){return(0,m.jsx)(sF.B,{svg:dM.A,...ex.xk(dN.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:5,y:50,rotate:-5},hover:{opacity:1,scale:1,x:10,y:30,rotate:-5}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},typeIcon:{component:function(){return(0,m.jsx)(sF.B,{svg:dW.A,...ex.xk(dN.typeIcon),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:0,y:-50,rotate:0},hover:{opacity:1,scale:1,x:5,y:-65,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},componentIllustrations:{component:function(){return(0,m.jsx)(sF.B,{svg:dP.A,...ex.xk(dN.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:45,y:10,rotate:0},hover:{opacity:1,scale:1,x:50,y:-20,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}}},d1=(e,t)=>{a=setTimeout(()=>{e(e=>(e+1)%6),d2(e)},t??500)},d2=e=>{a=setTimeout(()=>{e(e=>(e+1)%6),d1(e)},3e3)};function d4({configs:e,isActive:t,styleKey:r="pluginIcon"}){return(0,m.jsx)(m.Fragment,{children:Object.entries(e).map(([e,s])=>(0,m.jsxs)(dT.P.div,{variants:s.variants,transition:s.transition,initial:"hidden",animate:t?"hover":"hidden",children:[s.src&&(0,m.jsx)(lO.oW,{...ex.xk(dN[r]),src:s.src,alt:""}),s.component&&(0,m.jsx)("div",{...ex.xk(dN[r]),children:(0,m.jsx)(s.component,{})}),s.svg&&(0,m.jsx)("div",{...ex.xk(dN[r]),children:(0,m.jsx)(sF.B,{svg:s.svg})})]},e))})}function d5({href:e,text:t,isActive:r,onMouseOver:s,onMouseLeave:a}){return(0,m.jsx)(dT.P.span,{variants:{hidden:{opacity:.5},hover:{opacity:1}},initial:"hidden",animate:r?"hover":"hidden",children:(0,m.jsx)("span",{...ex.xk(dN.categoryLink,r&&dN.categoryLinkActive),onMouseOver:s,onMouseLeave:a,children:(0,m.jsx)(tU.$n.Link,{onClick:()=>{w.Ay.push(e)},children:t})})})}function d7(){let e=[{key:"pluginsRoute",category:dk.LJ.designTools,resource_type:dI.LA.BrowseResourceTypes.PLUGINS},{key:"librariesRoute",category:dk.LJ.libraries,resource_type:dI.LA.BrowseResourceTypes.FILES},{key:"iconSetsRoute",category:dk.LJ.icons,resource_type:dI.LA.BrowseResourceTypes.FILES}],t=(0,dC.Iq)(e),[r,s]=(0,_.useState)(2*Math.floor(3*Math.random())),[i,n]=(0,_.useState)(null);(0,_.useEffect)(()=>(d1(s),()=>{clearTimeout(a)}),[]),(0,_.useEffect)(()=>{null!==i?(clearTimeout(a),a=void 0,s(e=>e%2==1?(e+1)%6:e)):a||d1(s,3e3)},[i]);let o=r%2==0?null:Math.ceil(r/2),l=i??o,d=(0,M.tx)("community.homepage.header",{librariesLink:(0,m.jsx)(d5,{href:t.librariesRoute?.href||"#",text:(0,M.t)("community.homepage.header_libraries"),isActive:1===l,onMouseOver:()=>n(1),onMouseLeave:()=>n(null)}),pluginsLink:(0,m.jsx)(d5,{href:t.pluginsRoute?.href||"#",text:(0,M.t)("community.homepage.header_plugins"),isActive:2===l,onMouseOver:()=>n(2),onMouseLeave:()=>n(null)}),iconSetsLink:(0,m.jsx)(d5,{href:t.iconSetsRoute?.href||"#",text:(0,M.t)("community.homepage.header_icon_sets"),isActive:3===l,onMouseOver:()=>n(3),onMouseLeave:()=>n(null)})});return(0,m.jsx)("div",{...ex.xk(dN.bannerContainer),children:(0,m.jsxs)("div",{...ex.xk(dN.contentContainer),children:[(0,m.jsxs)("div",{...ex.xk(dN.iconContainer),children:[(0,m.jsx)(d4,{configs:dQ.left,isActive:3===l,styleKey:"iconSetIcon"}),(0,m.jsx)(d4,{configs:dJ,isActive:2===l,styleKey:"pluginIcon"}),(0,m.jsx)(d4,{configs:dZ,isActive:1===l,styleKey:"libraryIcon"})]}),(0,m.jsx)("div",{...ex.xk(dN.bannerHeaderText),children:d}),(0,m.jsxs)("div",{...ex.xk(dN.iconContainer),children:[(0,m.jsx)(d4,{configs:dQ.right,isActive:3===l,styleKey:"iconSetIcon"}),(0,m.jsx)(d4,{configs:dX,isActive:2===l,styleKey:"pluginIcon"}),(0,m.jsx)(d4,{configs:d0,isActive:1===l,styleKey:"libraryIcon"})]})]})})}function d3({tab:e}){let t,r,s=(0,dE.ac)(),a=(0,tk.S2)(),i=a?.data?.name??"";return e===ad.N$.COMMUNITY?(t=(0,M.t)("community.resource_hub.discover_community_resources"),r=(0,M.t)("community.resource_hub.browse_community_resources")):(t=i?(0,M.t)("community.resource_hub.browse_resources_created_by_your_team",{orgOrTeamName:i}):(0,M.t)("community.resource_hub.browse_resources"),r=(0,M.t)("community.resource_hub.browse_resources_internal_subheader")),s&&e===ad.N$.COMMUNITY?(0,m.jsx)(d7,{}):(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x1qbkcu5",children:t}),(0,m.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1y1aw1k x1n0bwc9",children:r})]})}var d8=r(391119),d6=r(962346),d9=r(517154),ce=r(145738);let ct="category_button_base--outlineStyle--b-Odu",cr="category_button_base--button--RyICO",cs="category_button_base--selected--gOQdz",ca="category_button_base--buttonContent--fYDQQ",ci="category_button_base--noChevronButton--ia4YT",cn="category_menu_button--buttonText--PgsAp";function co({defaultText:e,iconPrefix:t,categorySlug:r,tagSlug:s,resourceType:a,getTriggerProps:i,isSelected:n,buttonProps:o}){let l=r?(0,dC.T9)(r,s,a):void 0;return(0,m.jsx)(iu.E,{"aria-pressed":n,className:ee()(cr,ct,n&&cs),...i(),...o,children:(0,m.jsxs)("span",{className:ca,children:[t,(0,m.jsx)("span",{className:cn,children:l||e}),(0,m.jsx)(ce.r,{})]})})}var cl=r(93268);function cd({parentDropdown:e,defaultText:t,iconPrefix:r,menuItemsByGroup:s,buttonProps:a}){let{getTriggerProps:i,manager:n}=t8.b(),o=(0,ao.Rd)(dg.Dv),l=o?.categorySlug,d=o?.tagSlug,c=(0,ao.vA)(dg.Dv),u=c?.resource_type,_=l&&(0,dC.vR)(l,u)===e;return(0,m.jsxs)(t8.bL,{manager:n,children:[(0,m.jsx)(co,{defaultText:t,iconPrefix:r,categorySlug:_?l:void 0,tagSlug:d,resourceType:u,getTriggerProps:i,isSelected:n.isOpen,buttonProps:a}),(0,m.jsx)(t8.mc,{children:s.map((e,t)=>(0,m.jsx)(t8.YJ,{title:e.title?(0,m.jsx)(t8.hE,{children:e.title}):void 0,children:e.items.map((e,t)=>(0,m.jsx)(t8.q7,{onClick:()=>{(0,cl.pt)(e?.href??""),w.Ay.push(e?.href??"")},children:(0,m.jsx)("div",{style:{minWidth:132},children:e.text})},t))},t))})]})}function cc(){let e=[{key:"uikitRoute",category:dk.LJ.uiKits},{key:"wireframesRoute",category:dk.LJ.wireframes},{key:"socialMediaTemplatesRoute",category:dk.LJ.socialMediaTemplates,editor_type:d9.k.Editors.COOPER},{key:"cardTemplatesRoute",category:dk.LJ.cardTemplates,editor_type:d9.k.Editors.COOPER},{key:"designTemplatesRoute",category:dk.LJ.designTemplates},{key:"mobileAppRoute",category:dk.LJ.mobileApps},{key:"portfolioRoute",category:dk.LJ.portfolios},{key:"resumeRoute",category:dk.LJ.resumes},{key:"visualAssetsRoute",category:dk.LJ.visualAssets},{key:"illustrationsRoute",category:dk.LJ.illustrations},{key:"iconsRoute",category:dk.LJ.icons},{key:"shapesColorsRoute",category:dk.LJ.shapesColors}],t=(0,dC.Iq)(e),r=[{items:[{href:t.uikitRoute?.href,text:(0,M.t)("categories.ui_kits")},{href:t.wireframesRoute?.href,text:(0,M.t)("categories.wireframes")}]},{items:[{href:t.socialMediaTemplatesRoute?.href,text:(0,M.t)("categories.social_media_templates")},{href:t.cardTemplatesRoute?.href,text:(0,M.t)("categories.cards_and_invites")}]},{items:[{href:t.mobileAppRoute?.href,text:(0,M.t)("community.resource_hub.categories.mobile_app_templates")},{href:t.resumeRoute?.href,text:(0,M.t)("categories.resume_templates")},{href:t.portfolioRoute?.href,text:(0,M.t)("categories.portfolio_templates")},{href:t.designTemplatesRoute?.href,text:(0,M.t)("community.resource_hub.see_more")}]},{items:[{href:t.iconsRoute?.href,text:(0,M.t)("categories.icons")},{href:t.illustrationsRoute?.href,text:(0,M.t)("categories.illustrations")},{href:t.shapesColorsRoute?.href,text:(0,M.t)("categories.shapes_colors")},{href:t.visualAssetsRoute?.href,text:(0,M.t)("community.resource_hub.see_more")}]}].filter(e=>e.items.length>0);return(0,m.jsx)(cd,{parentDropdown:dC.hm.DESIGN_RESOURCES,menuItemsByGroup:r,defaultText:(0,M.t)("community.homepage.figma_section.header"),iconPrefix:(0,m.jsx)(d6.a,{})})}var cu=r(325449),cm=r(70407);function c_(){let e=[{key:"editingEffectsRoute",category:dk.LJ.editingEffects,resource_type:dI.LA.BrowseResourceTypes.PLUGINS},{key:"fileOrganizationRoute",category:dk.LJ.fileOrganization,resource_type:dI.LA.BrowseResourceTypes.PLUGINS},{key:"developmentRoute",category:dk.LJ.development,resource_type:dI.LA.BrowseResourceTypes.PLUGINS},{key:"widgetsRoute",category:dk.LJ.whiteboarding,resource_type:dI.LA.BrowseResourceTypes.WIDGETS},{key:"pluginsRoute",category:dk.LJ.designTools,resource_type:dI.LA.BrowseResourceTypes.PLUGINS},{key:"importExportRoute",category:dk.LJ.importExport,resource_type:dI.LA.BrowseResourceTypes.PLUGINS},{key:"accessibilityRoute",category:dk.LJ.accessibility,resource_type:dI.LA.BrowseResourceTypes.PLUGINS},{key:"prototypingAnimationRoute",category:dk.LJ.prototypingAnimation,resource_type:dI.LA.BrowseResourceTypes.PLUGINS},{key:"integrationsRoute",category:dk.LJ.integrations,resource_type:dI.LA.BrowseResourceTypes.INTEGRATIONS}],t=(0,dC.Iq)(e),r=(0,_.useMemo)(()=>(0,dE.Jh)(),[]),s=(0,dE.ep)(),a=[{items:[{href:t.fileOrganizationRoute?.href,text:(0,M.t)("categories.file_organization")},{href:t.developmentRoute?.href,text:(0,M.t)("categories.navbar.development")},{href:t.editingEffectsRoute?.href,text:(0,M.t)("categories.editing_effects")},{href:t.importExportRoute?.href,text:(0,M.t)("categories.import_export")},{href:t.accessibilityRoute?.href,text:(0,M.t)("categories.accessibility_tools")},{href:t.prototypingAnimationRoute?.href,text:(0,M.t)("categories.prototyping_animation")},...r?[{href:t.integrationsRoute?.href,text:(0,M.t)("categories.integrations")}]:[]]},{items:[{href:t.widgetsRoute?.href,text:(0,M.t)("community.resource_hub.categories.see_all_widgets")},{href:t.pluginsRoute?.href,text:(0,M.t)("community.resource_hub.categories.see_all_plugins")}]}],i=[{items:[{href:t.pluginsRoute?.href,text:(0,M.t)("categories.plugins")},{href:t.widgetsRoute?.href,text:(0,M.t)("categories.widgets")},...r?[{href:t.integrationsRoute?.href,text:(0,M.t)("categories.integrations")}]:[]]},{title:(0,M.t)("community.plugins_page.explore_plugins.title"),items:[{href:t.editingEffectsRoute?.href,text:(0,M.t)("categories.editing_effects")},{href:t.fileOrganizationRoute?.href,text:(0,M.t)("categories.file_organization")},{href:t.developmentRoute?.href,text:(0,M.t)("categories.navbar.development")},{href:t.importExportRoute?.href,text:(0,M.t)("categories.import_export")},{href:t.accessibilityRoute?.href,text:(0,M.t)("categories.accessibility_tools")},{href:t.prototypingAnimationRoute?.href,text:(0,M.t)("categories.prototyping_animation")}]}],n=s?(0,M.t)("categories.extensions"):(0,M.t)("community.resource_hub.categories.plugins_and_widgets"),o=s?dC.hm.EXTENSIONS:dC.hm.PLUGINS_AND_WIDGETS,l=s?(0,m.jsx)(cu.x,{}):(0,m.jsx)(cm.x,{});return(0,m.jsx)(cd,{parentDropdown:o,defaultText:n,iconPrefix:l,menuItemsByGroup:s?i:a})}var cx=r(683550);function cp(){let e=[{key:"marketingRoute",category:dk.LJ.presentations,tag:dC.Pc.marketing,editor_type:d9.k.Editors.SLIDES},{key:"productRoute",category:dk.LJ.presentations,tag:dC.Pc.product,editor_type:d9.k.Editors.SLIDES},{key:"pitchDecksRoute",category:dk.LJ.presentations,tag:dC.Pc.pitchDeck,editor_type:d9.k.Editors.SLIDES},{key:"salesRoute",category:dk.LJ.presentations,tag:dC.Pc.sales,editor_type:d9.k.Editors.SLIDES},{key:"presentationsRoute",category:dk.LJ.presentations,editor_type:d9.k.Editors.SLIDES}],t=(0,dC.Iq)(e),r=[{items:[{href:t.marketingRoute?.href,text:(0,M.t)("community.resource_hub.categories.marketing_presentations")},{href:t.productRoute?.href,text:(0,M.t)("community.resource_hub.categories.product_presentations")},{href:t.pitchDecksRoute?.href,text:(0,M.t)("community.resource_hub.categories.pitch_decks")},{href:t.salesRoute?.href,text:(0,M.t)("community.resource_hub.categories.sales_presentations")}]},{items:[{href:t.presentationsRoute?.href,text:(0,M.t)("community.resource_hub.see_more")}]}];return(0,m.jsx)(cd,{parentDropdown:dC.hm.PRESENTATIONS,menuItemsByGroup:r,defaultText:(0,M.t)("categories.presentations"),iconPrefix:(0,m.jsx)(cx.o,{})})}var cf=r(919906);function ch(){let e=[{key:"websitesRoute",category:dk.LJ.desktopAppsWebsites,editor_type:d9.k.Editors.SITES},{key:"landingPagesRoute",category:dk.LJ.desktopAppsWebsites,tag:dC.Pc.landingPages,editor_type:d9.k.Editors.SITES},{key:"portfolioRoute",category:dk.LJ.desktopAppsWebsites,tag:dC.Pc.portfolio,editor_type:d9.k.Editors.SITES},{key:"ecommerceRoute",category:dk.LJ.desktopAppsWebsites,tag:dC.Pc.ecommerce,editor_type:d9.k.Editors.SITES},{key:"blogRoute",category:dk.LJ.desktopAppsWebsites,tag:dC.Pc.blog,editor_type:d9.k.Editors.SITES},{key:"weddingRoute",category:dk.LJ.desktopAppsWebsites,tag:dC.Pc.wedding,editor_type:d9.k.Editors.SITES},{key:"photographyRoute",category:dk.LJ.desktopAppsWebsites,tag:dC.Pc.photography,editor_type:d9.k.Editors.SITES}],t=(0,dC.Iq)(e),r=[{items:[{href:t.landingPagesRoute?.href,text:(0,M.t)("community.resource_hub.categories.landing_pages")},{href:t.portfolioRoute?.href,text:(0,M.t)("community.resource_hub.categories.portfolio")},{href:t.ecommerceRoute?.href,text:(0,M.t)("community.resource_hub.categories.ecommerce")},{href:t.blogRoute?.href,text:(0,M.t)("community.resource_hub.categories.blog")},{href:t.weddingRoute?.href,text:(0,M.t)("community.resource_hub.categories.wedding")},{href:t.photographyRoute?.href,text:(0,M.t)("community.resource_hub.categories.photography")}]},{items:[{href:t.websitesRoute?.href,text:(0,M.t)("community.resource_hub.see_more")}]}];return(0,m.jsx)(cd,{parentDropdown:dC.hm.WEBSITES,menuItemsByGroup:r,defaultText:(0,M.t)("community.resource_hub.categories.websites"),iconPrefix:(0,m.jsx)(cf.a,{})})}var cg=r(514558);function cv(){let e=[{key:"brainstormingRoute",category:dk.LJ.brainstorming},{key:"diagrammingRoute",category:dk.LJ.diagramming},{key:"funGamesRoute",category:dk.LJ.funGames},{key:"teamMeetingsRoute",category:dk.LJ.teamMeetings},{key:"whiteboardingRoute",category:dk.LJ.whiteboarding},{key:"strategicPlanningRoute",category:dk.LJ.strategicPlanning}],t=(0,dC.Iq)(e),r=[{items:[{href:t.diagrammingRoute?.href,text:(0,M.t)("categories.diagramming")},{href:t.brainstormingRoute?.href,text:(0,M.t)("categories.brainstorming")},{href:t.funGamesRoute?.href,text:(0,M.t)("categories.fun_games")},{href:t.teamMeetingsRoute?.href,text:(0,M.t)("categories.team_meetings")},{href:t.strategicPlanningRoute?.href,text:(0,M.t)("categories.strategic_planning")}]},{items:[{href:t.whiteboardingRoute?.href,text:(0,M.t)("community.resource_hub.see_more")}]}];return(0,m.jsx)(cd,{parentDropdown:dC.hm.WHITEBOARDING,menuItemsByGroup:r,defaultText:(0,M.t)("categories.whiteboarding"),iconPrefix:(0,m.jsx)(cg.A,{})})}var cb=r(706122);function cj(){let e=(0,M.t)("community.view_bar.figmake"),t=(0,dC.Iq)([{key:"categoryRoute",category:dk.LJ.make}]).categoryRoute;return t?(0,m.jsx)(iu.E,{"aria-label":e,className:ee()(cr,ct,ci),onClick:()=>{w.Ay.push(t.href)},children:(0,m.jsxs)("span",{className:ca,children:[(0,m.jsx)(cb.s,{}),(0,m.jsx)("span",{className:cn,children:e})]})}):null}var cy=r(43337);function cw(){let e=(0,M.t)("community.profiles.saved"),t=(0,al.Om)(),r=(0,al.tv)()??void 0;return(0,m.jsx)(iu.E,{"aria-label":e,className:ee()(cr,ct,ci),onClick:()=>{let e=new dy.e(t,r);w.Ay.push(e.href),(0,cl.YM)()},children:(0,m.jsxs)("span",{className:ca,children:[(0,m.jsx)(cy.T,{}),(0,m.jsx)("span",{className:cn,children:e})]})})}function cE(){let e=(0,dE.l$)();return(0,m.jsx)(d8.a,{mode:"match",children:(0,m.jsxs)("div",{...{className:"x78zum5 x1q0g3np x167g77z x1a02dak"},children:[(0,m.jsx)(cw,{}),(0,m.jsx)(cc,{}),e&&(0,m.jsx)(cj,{}),(0,m.jsx)(c_,{}),(0,m.jsx)(cp,{}),(0,m.jsx)(cv,{}),(0,m.jsx)(ch,{})]})})}var cT=r(684682),cI=r(471417),ck=r(907249),cC=r(78442);function cN({resourceCount:e,resourceType:t,category:r,editorType:s,caller:a,includeContent:i,boostCategoryShelf:n,enabled:o=!0}){let l=(0,_.useRef)(null);(0,_.useEffect)(()=>{e>0&&null===l.current&&(l.current=8*Math.ceil(e/8))},[e]);let d=(0,cI.v_)(),[{data:c,status:u,hasNextPage:m},{fetchNextPage:x}]=(0,T.IT)(ck.a.CommunityResourcesPaginatedQuery({resourceType:t,category:r,editorType:s,caller:a,pageSize:l.current??0,includeContent:i,boostCategoryShelf:n,locale:d}),{enabled:null!==l.current&&o}),p="loading"===u;return(0,_.useEffect)(()=>{!p&&m&&e>(c?.length??0)&&x()},[p,m,e,c,x]),{resources:c,loading:p,hasNextPage:m}}function cS({resourceCount:e,resourceType:t,includeContent:r,enabled:s=!0}){let[{data:a,status:i,hasNextPage:n},{fetchNextPage:o}]=(0,T.IT)(cC.K.PaginatedCommunityResourceSavesQuery({pageSize:e,resourceType:t,includeContent:r}),{enabled:s}),l="loading"===i;return(0,_.useEffect)(()=>{!l&&n&&e>(a?.length??0)&&o()},[l,n,e,a,o]),{resources:a,loading:l,hasNextPage:n}}var cR=r(547062),cA=r(317280),cF=r(728153),cO=r(545414),cP=r(8737);let cL=(0,a_._d)(function({sizingInfo:e}){var t;let r,s,a,i=(t=(0,cA.w)(),r={brainstorming:{key:"brainstorming",header:(0,M.t)("categories.brainstorming"),categoryForQuery:dk.LJ.brainstorming,categorySlug:dk.LJ.brainstorming,resourceType:[lC.vt.FIGJAM_TEMPLATE]},cooperTemplate:{key:"cooperTemplate",header:(0,M.t)("categories.social_media_templates"),categoryForQuery:dk.LJ.socialMediaTemplates,categorySlug:dk.LJ.socialMediaTemplates,resourceType:[lC.vt.COOPER_TEMPLATE_FILE],resourceEditorType:cR.qq.COOPER,apiEditorType:d9.k.Editors.COOPER},dataTemplate:{key:"dataTemplate",header:(0,M.t)("community.footer.data_templates"),categoryForQuery:dk.LJ.dataTemplates,categorySlug:dk.LJ.dataTemplates,resourceType:[lC.vt.DESIGN_TEMPLATE]},designTemplate:{key:"designTemplate",header:(0,M.t)("categories.design_templates"),categorySlug:dk.LJ.designTemplates,resourceType:[lC.vt.DESIGN_TEMPLATE]},designTools:{key:"designTools",header:(0,M.t)("community.view_bar.plugins"),categorySlug:dk.LJ.designTools,resourceType:[lC.vt.PLUGIN],isPlugin:!0},diagramming:{key:"diagramming",header:(0,M.t)("categories.diagramming"),categoryForQuery:dk.LJ.diagramming,categorySlug:dk.LJ.diagramming,resourceType:[lC.vt.FIGJAM_TEMPLATE]},education:{key:"education",header:(0,M.t)("categories.education"),categoryForQuery:dk.LJ.education,categorySlug:dk.LJ.education,resourceType:[lC.vt.DESIGN_TEMPLATE]},figJamTemplate:{key:"figJamTemplate",header:(0,M.t)("community.resource_hub.figjam_templates"),categorySlug:dk.LJ.whiteboarding,resourceType:[lC.vt.FIGJAM_TEMPLATE],resourceEditorType:cR.qq.WHITEBOARD,apiEditorType:d9.k.Editors.FIGJAM},funAndGames:{key:"funAndGames",header:(0,M.t)("categories.fun_games"),categoryForQuery:dk.LJ.funGames,categorySlug:dk.LJ.funGames,resourceType:[lC.vt.WIDGET],apiResourceType:dI.LA.BrowseResourceTypes.WIDGETS},makeTemplate:{key:"makeTemplate",header:(0,M.t)("community.resource_hub.make_shelf_header"),categoryForQuery:dk.LJ.make,categorySlug:dk.LJ.make,resourceType:[lC.vt.FIGMAKE_TEMPLATE]},presentationTemplate:{key:"presentationTemplate",header:(0,M.t)("community.footer.presentations"),categoryForQuery:dk.LJ.presentations,categorySlug:dk.LJ.presentations,resourceType:[lC.vt.SLIDE_TEMPLATE],resourceEditorType:cR.qq.SLIDES,apiEditorType:d9.k.Editors.SLIDES},siteTemplate:{key:"siteTemplate",header:(0,M.t)("categories.website_templates"),categoryForQuery:dk.LJ.websiteTemplates,categorySlug:dk.LJ.websiteTemplates,resourceType:[lC.vt.SITE_TEMPLATE],resourceEditorType:cR.qq.SITES,apiEditorType:d9.k.Editors.SITES},strategicPlanning:{key:"strategicPlanning",header:(0,M.t)("categories.strategic_planning"),categoryForQuery:dk.LJ.strategicPlanning,categorySlug:dk.LJ.strategicPlanning,resourceType:[lC.vt.FIGJAM_TEMPLATE]},uiKits:{key:"uiKits",header:(0,M.t)("categories.ui_kits"),categoryForQuery:dk.LJ.uiKits,categorySlug:dk.LJ.uiKits,resourceType:[lC.vt.DESIGN_TEMPLATE,lC.vt.UI_KIT]},websiteTemplate:{key:"websiteTemplate",header:(0,M.t)("categories.website_templates"),categoryForQuery:dk.LJ.websiteTemplates,categorySlug:dk.LJ.websiteTemplates,resourceType:[lC.vt.DESIGN_TEMPLATE],resourceEditorType:cR.qq.DESIGN},whiteboarding:{key:"whiteboarding",header:(0,M.t)("categories.whiteboarding"),categoryForQuery:dk.LJ.whiteboarding,categorySlug:dk.LJ.whiteboarding,resourceType:[lC.vt.FIGJAM_TEMPLATE]},wireframes:{key:"wireframes",header:(0,M.t)("categories.wireframes"),categoryForQuery:dk.LJ.wireframes,categorySlug:dk.LJ.wireframes,resourceType:[lC.vt.DESIGN_TEMPLATE]}},a=(s={designer:["siteTemplate","uiKits","figJamTemplate","designTools","cooperTemplate"],developer:["siteTemplate","wireframes","whiteboarding","uiKits","cooperTemplate"],"product-manager":["brainstorming","strategicPlanning","dataTemplate","uiKits","siteTemplate"],marketer:["cooperTemplate","presentationTemplate","strategicPlanning","uiKits","whiteboarding"],researcher:["brainstorming","presentationTemplate","dataTemplate","uiKits","cooperTemplate"],education:["education","presentationTemplate","funAndGames","uiKits","siteTemplate"],"ux-writer":["brainstorming","presentationTemplate","wireframes","cooperTemplate","siteTemplate"],data:["diagramming","brainstorming","uiKits","siteTemplate","cooperTemplate"],other:["brainstorming","cooperTemplate","designTools","uiKits","siteTemplate"],unknown:["brainstorming","cooperTemplate","designTools","uiKits","siteTemplate"]})[t]||s.unknown||[],(0,dE.l$)()&&a.unshift("makeTemplate"),a.map(e=>r[e]).filter(e=>void 0!==e)).map(e=>({key:e.key,header:e.header,categoryForQuery:e.categoryForQuery,categorySlug:e.categorySlug,resourceType:e.resourceType,resourceEditorType:e.resourceEditorType,apiResourceType:e.apiResourceType,apiEditorType:e.apiEditorType,isPlugin:e.isPlugin}));return(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf xh8yej3 x5yr21d x1665zp3"},children:i.map((t,r)=>(0,m.jsxs)("div",{children:[2===r&&(0,m.jsx)("div",{...{className:"x1hq5gj4"},children:(0,m.jsx)(cF.Rx,{})}),t.isPlugin?(0,m.jsx)(cM,{header:t.header,categorySlug:t.categorySlug},t.key):(0,m.jsx)(cD,{header:t.header,categoryForQuery:t.categoryForQuery,categorySlug:t.categorySlug,resourceType:t.resourceType,resourceEditorType:t.resourceEditorType,apiResourceType:t.apiResourceType,apiEditorType:t.apiEditorType,sizingInfo:e},t.key)]},r))})},"CommunityCategorySections");function cD({header:e,categoryForQuery:t,categorySlug:r,resourceType:s,resourceEditorType:a,apiResourceType:i,apiEditorType:n,sizingInfo:o}){let{resources:l,loading:d}=cN({resourceCount:o.numberOfTiles,resourceType:s,editorType:a,category:t,caller:lG.z.RESOURCE_HUB,includeContent:!1,boostCategoryShelf:r===dk.LJ.uiKits}),c=(0,dC.Iq)([{key:"categoryRoute",category:r,resource_type:i,editor_type:n}]),{trackResourceImpression:u}=(0,l1.GS)(),x=(0,_.useCallback)((e,t)=>{t&&u(e)},[u]);return d||l&&0!==l.length?(0,m.jsx)(cP.l,{header:e,route:c.categoryRoute,content:(0,m.jsx)(cO.T,{resources:(l&&l.slice(0,o.numberOfTiles))??[],loadingTileCount:o.numberOfTiles,isLoading:d,resourceImpressionTracking:x}),showSeeMore:!0}):null}function cM({header:e,categorySlug:t}){let{resources:r,loading:s}=cN({resourceCount:5,resourceType:[lC.vt.PLUGIN],category:t,caller:lG.z.RESOURCE_HUB,includeContent:!0}),{trackResourceImpression:a}=(0,l1.GS)(),i=(0,_.useCallback)((e,t)=>{t&&a(e)},[a]),n=(0,dC.Iq)([{key:"pluginsRoute",category:t,resource_type:dI.LA.BrowseResourceTypes.PLUGINS}]);return s||r&&0!==r.length?(0,m.jsx)(cP.l,{header:e,route:n.pluginsRoute,content:(0,m.jsx)(cT.M,{plugins:(r??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),onIntersectionChange:i,isOrgTeamBrowsing:!1,isLoading:s,loadingRowCount:5}),showSeeMore:!0}):null}var cU=r(878521);function cB({currentOrgId:e}){return(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_COMMUNITY_TAB_DISABLED_PAGE,properties:{orgId:e},children:(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x16g6g8t xgqmno8 x1sjmt1f xl56j7k"},children:[(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 x155cy4d x1yf7rl7 x38tqe7 xj3b58b"},children:(0,m.jsx)(lO.oW,{...{className:"x193iq5w xl1xv1r"},src:(0,lF.staticAssetWithUploadsPath)("8b7c6fb3e353c1972267681e37a56765b96f5b3c"),alt:(0,M.t)("community.resource_hub.your_admins_have_restricted_access"),loading:"lazy"})}),(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x1665zp3 xycev2y xo3t2mw x6s0dn4 x1nhvcw1"},children:(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s"},children:[(0,m.jsx)("div",{...{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x2b8uid"},children:(0,M.t)("community.resource_hub.your_admins_have_restricted_access")}),(0,m.jsx)("div",{...{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid"},children:(0,M.tx)("community.resource_hub.looking_for_inspiration_you_can",{link:(0,m.jsx)(cU.N,{href:"/community",newTab:!0,children:(0,M.t)("community.resource_hub.community_link")})})})]})}),(0,m.jsx)("div",{className:"x78zum5 xdt5ytf xjwf9q1 x98rzlu"})]})})}var cz=r(807333);function cW({currentOrgId:e,isCommunityTabDisabledForOrg:t}){let r=(0,cz.X)();return t?(0,m.jsx)("div",{...{className:"xijc0j3"},children:(0,m.jsx)(cB,{currentOrgId:e})}):(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_COMMUNITY_RESOURCES_HOME_PAGE,children:(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf xh8yej3 x5yr21d x1665zp3"},ref:r.sizeRef,children:[(0,m.jsx)(d3,{tab:ad.N$.COMMUNITY}),(0,m.jsx)(cE,{}),(0,m.jsx)(cL,{sizingInfo:r})]})})}var cV=r(357661);function cG(e,t){let r={orgId:e??void 0,teamId:t??void 0,isInternal:!0},{trackResourceImpression:s,flushAndResetResourceImpressions:a}=(0,l1.GS)({extraProperties:r}),{trackResourceImpression:i,flushAndResetResourceImpressions:n}=(0,l1.r4)({extraProperties:r}),{trackResourceImpression:o,flushAndResetResourceImpressions:l}=(0,l1.FD)({extraProperties:r});return{onIntersectionChange:(0,_.useCallback)((e,t)=>{t&&((0,lk.o_)(e)?i(e):(0,lk.NC)(e)?s(e):(0,cV.I0)(e)&&o(e))},[s,i,o]),flushAndResetImpressions:(0,_.useCallback)(()=>{a(),n(),l()},[a,n,l])}}var cH=r(94387),c$=r(697608),cq=r(597849),cK=r(458914),cY=r(655567);let cJ=new Set([eK._Y.COOPER,eK._Y.SLIDES,eK._Y.WHITEBOARD]),cX=new Set([eK._Y.COOPER,eK._Y.SLIDES]);function cQ({newFileFrom:e,contextClicked:t,forceOpenNewTab:r}){let s=(0,x.d4)(e=>e.user?.drafts_folder_id),{data:a,status:i}=(0,lI.nt)(s),n=(0,c$.h)(a),o=(0,tk.T5)("useTemplatesOmnicreateMenuItemsProps"),l=n.filter(({editorType:e})=>{switch(o.data?.tier){case eK.Ag.STUDENT:case eK.Ag.PRO:return cX.has(e);case eK.Ag.ORG:case eK.Ag.ENTERPRISE:return cJ.has(e);case eK.Ag.STARTER:default:return!0}}),[d,c]=(0,ev.fp)(cY.bW),u=c({showOrgTemplateView:!0}),m=(0,cK.E)({folderData:"DRAFTS_FOLDER",newFileFrom:e,forceOpenNewTab:r}),_="loading"===i||"loading"===o.status;return{newFiles:l.map(({editorType:e,canCreate:r})=>(0,cq.p)({editorType:e,isDisabled:!r,isLoading:_,onClick:m({editorType:e,contextClicked:t,newFileDataLocalStorageKey:u})})),import:null}}var cZ=r(600922);function c0({planTier:e}){let t,{color:r}=(0,nU.G)();t=e===eK.Ag.ORG||e===eK.Ag.ENTERPRISE?"dark"===r?(0,lF.staticAssetWithUploadsPath)("156640b467fc94700549db25a70310582e3ef24b"):(0,lF.staticAssetWithUploadsPath)("923655d3d7ad0e0261946e6b8175911e0daceff3"):"dark"===r?(0,lF.staticAssetWithUploadsPath)("199fc5fd43ab7b8cdb2208db7a7a1c8b4f039119"):(0,lF.staticAssetWithUploadsPath)("363ceafa11ccd8ba7b2d9fe2b9aba1f8f8477596");let s=cQ({newFileFrom:d_.f6.RESOURCE_HUB_FEW_TEMPLATES_UPSELL,contextClicked:sP.e0.RESOURCE_HUB_FEW_TEMPLATES_UPSELL,forceOpenNewTab:!0});return(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_FEW_TEMPLATES_UPSELL,children:(0,m.jsxs)("div",{...{className:"x78zum5 x1q0g3np xh8yej3 xeq9io7 xgqmno8 xmkeg23 xbsl7fq x1co876m"},children:[(0,m.jsx)("div",{...{className:"x3nfvp2 x13a6bvl xgqmno8 xb3r6kr"},children:(0,m.jsx)(lO.oW,{...{className:"xnq0rdo x15elv7b x1sy10c2 x1d6c7ev xl1xv1r"},src:t,alt:(0,M.t)("community.resource_hub.get_more_done"),loading:"lazy"})}),(0,m.jsx)("div",{className:"x1iyjqo2 x1264ykn xmcgfsh"}),(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1665zp3 x1d3hk7y x1cy8zhl x1dcn8h2 x1sai7j1 xuzjt68 x1uhho1l x1n2onr6"},children:[(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf xl56j7k x1cy8zhl x167g77z xkh2ocl xh8yej3 x2lah0s"},children:[(0,m.jsx)("div",{...{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx"},children:(0,M.t)("community.resource_hub.get_more_done")}),(0,m.jsx)("div",{...{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},children:(0,M.t)("community.resource_hub.create_custom_templates_to_add")})]}),(0,m.jsx)(cZ.a,{menuItems:s})]})]})})}function c1({planTier:e,isTemplatesPublishingDisabledForOrg:t}){let r,s=(0,al.Om)(),a=(0,al.tv)(),{color:i}=(0,nU.G)();r=e===eK.Ag.ORG||e===eK.Ag.ENTERPRISE?t?(0,lF.staticAssetWithUploadsPath)("ceafb20933e03362e3d3f6c8191e892c8321d3db"):"dark"===i?(0,lF.staticAssetWithUploadsPath)("156640b467fc94700549db25a70310582e3ef24b"):(0,lF.staticAssetWithUploadsPath)("923655d3d7ad0e0261946e6b8175911e0daceff3"):"dark"===i?(0,lF.staticAssetWithUploadsPath)("199fc5fd43ab7b8cdb2208db7a7a1c8b4f039119"):(0,lF.staticAssetWithUploadsPath)("363ceafa11ccd8ba7b2d9fe2b9aba1f8f8477596");let n=cQ({newFileFrom:d_.f6.RESOURCE_HUB_NO_RESOURCES_UPSELL,contextClicked:sP.e0.RESOURCE_HUB_NO_RESOURCES_UPSELL,forceOpenNewTab:!0}),o=new al.au({...s,tab:ad.N$.COMMUNITY},a),l=t?(0,M.t)("community.resource_hub.template_publishing_has_been_disabled"):(0,M.t)("community.resource_hub.streamline_your_work_with_custom");return(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_NO_RESOURCES_UPSELL,children:(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x16g6g8t xgqmno8 x1sjmt1f xl56j7k"},children:[(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xvue9z xwbyk0q x2lah0s xk1l47c"},children:(0,m.jsx)(lO.oW,{className:"x193iq5w xl1xv1r xetamn0",src:r,alt:l,loading:"lazy"})}),(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1665zp3 xz84dc7 xo3t2mw x6s0dn4"},children:[(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s"},children:[(0,m.jsx)("div",{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x2b8uid",children:l}),(0,m.jsx)("div",{...{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid"},children:(0,M.t)("community.resource_hub.create_templates_to_keep_up")})]}),(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xou54vl xkh2ocl xh8yej3 x2lah0s"},children:[!t&&(0,m.jsx)(cZ.a,{menuItems:n}),(0,m.jsx)(U.o3,{...{className:"x1quhyk7 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid x1ypdohk"},to:o.to,trackingEventName:cl.HH.RESOURCE_HUB_BROWSE_COMMUNITY_CLICKED,trackingProperties:{route:o.pathname},children:(0,M.t)("community.resource_hub.browse_resources_from_community")})]})]})]})})}var c2=r(612883),c4=r(494423);function c5({teamId:e}){let t=(0,x.wA)(),r=(0,al.Om)(),s=(0,al.tv)(),{color:a}=(0,nU.G)(),i=new al.au({...r,tab:ad.N$.COMMUNITY},s);return(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_UPGRADE_UPSELL,properties:{planTier:eK.Ag.STARTER,teamId:e},children:(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x16g6g8t xgqmno8 x1sjmt1f xl56j7k"},children:[(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xvue9z xwbyk0q x2lah0s xk1l47c"},children:(0,m.jsx)(lO.oW,{...{className:"x193iq5w xl1xv1r xetamn0"},src:"dark"===a?(0,lF.staticAssetWithUploadsPath)("199fc5fd43ab7b8cdb2208db7a7a1c8b4f039119"):(0,lF.staticAssetWithUploadsPath)("363ceafa11ccd8ba7b2d9fe2b9aba1f8f8477596"),alt:(0,M.t)("community.resource_hub.custom_templates_for_your_team"),loading:"lazy"})}),(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1665zp3 xz84dc7 xo3t2mw x6s0dn4"},children:[(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s"},children:[(0,m.jsx)("div",{...{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x2b8uid"},children:(0,M.t)("community.resource_hub.custom_templates_for_your_team")}),(0,m.jsx)("div",{...{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid"},children:(0,M.t)("community.resource_hub.upgrade_to_the_professional_plan")})]}),(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xou54vl xkh2ocl xh8yej3 x2lah0s"},children:[(0,m.jsx)(eg.$z,{onClick:()=>{t(c2.WX({teamId:e,entryPoint:(0,c4.cH)(av.C.FILE_BROWSER_RESOURCE_HUB_UPSELL),openInNewTab:!1}))},children:(0,M.t)("community.resource_hub.upgrade_to_professional")}),(0,m.jsx)(U.o3,{...{className:"x1quhyk7 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid x1ypdohk"},to:i.to,trackingEventName:cl.HH.RESOURCE_HUB_BROWSE_COMMUNITY_CLICKED,children:(0,M.t)("community.resource_hub.browse_resources_from_community")})]})]})]})})}var c7=r(658032),c3=r(282841);function c8({resourceTypeSlugs:e}){return(0,m.jsx)("div",{...{className:"x78zum5 x167g77z x1a02dak"},children:e.map(e=>(0,_.createElement)("div",{className:"x167g77z x4vwp2a",key:e},(0,m.jsx)(c6,{resourceTypeSlug:e})))})}function c6({resourceTypeSlug:e}){let t=(0,al.Om)(),r=(0,al.tv)(),s=(0,eJ.i_)(e),a=function(e){switch(e){case dv.M.PLUGINS:return(0,m.jsx)(cm.x,{});case dv.M.FIGJAM_TEMPLATES:return(0,m.jsx)(cg.A,{});case dv.M.WIDGETS:return(0,m.jsx)(c7.C,{});case dv.M.SLIDE_TEMPLATES:return(0,m.jsx)(cx.o,{});case dv.M.LIBRARIES:break;case dv.M.COOPER_TEMPLATES:return(0,m.jsx)(c3.h,{});case dv.M.FIGMAKE_TEMPLATES:return(0,m.jsx)(cb.s,{});case dv.M.RECENTLY_ADDED_TEMPLATES:break;default:(0,D.S9)(e,null)}return null}(e);return(0,m.jsx)(iu.E,{"aria-label":s,className:ee()(cr,ct,ci),onClick:()=>{let s=new dv.U({...t,resourceTypeSlug:e},r);(0,cl.ng)(e),w.Ay.push(s.href)},children:(0,m.jsxs)("span",{className:ca,children:[a,(0,m.jsx)("span",{className:cn,children:s})]})})}function c9({planTier:e,isTemplatesPublishingDisabledForOrg:t,currentOrgId:r,currentTeamId:s}){let a,i=(0,cz.X)(),{onIntersectionChange:n}=cG(r??void 0,s??void 0),o=(0,cH.UX)({planTier:e,teamId:s??null,isTemplatesPublishingDisabledForOrg:!!t,numTemplates:24}),l=(0,cH.pj)({planTier:e,orgId:r??null,isTemplatesPublishingDisabledForOrg:!!t,numTemplates:24}),{[eK._Y.COOPER]:{templates:d,isLoading:c,hasMoreTemplates:u},[eK._Y.WHITEBOARD]:{templates:_,isLoading:x,hasMoreTemplates:p},[eK._Y.SLIDES]:{templates:h,isLoading:g,hasMoreTemplates:v},[eK._Y.FIGMAKE]:{templates:b,isLoading:j,hasMoreTemplates:y}}=r?l:o,{resources:w,loading:E,hasNextPage:T}=(0,cH.wO)({limit:6,caller:lG.z.RESOURCE_HUB,orgId:r,includeContent:!0}),{resources:I,loading:k,hasNextPage:C}=(0,cH.GO)({resourceType:lC.vt.WIDGET,orgId:r,teamId:s,planTier:e,sortBy:lV.e.Browse.ALL_TIME,isTemplatesPublishingDisabledForOrg:!!t});if(c||x||g||j||E||k)return(0,m.jsx)("div",{...{className:"x78zum5 xl56j7k x6s0dn4 xg87l8a"},ref:i.sizeRef,children:(0,m.jsx)(nz.k,{})});let N=(0,f.getFeatureFlags)().cooper,S=(0,f.getFeatureFlags)().make_template_discovery||(0,f.getFeatureFlags)().make_template_discovery_plan_key,R=(w??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),A=[];if([...S?[{resources:b,slug:dv.M.FIGMAKE_TEMPLATES}]:[],...N?[{resources:d,slug:dv.M.COOPER_TEMPLATES}]:[],{resources:_,slug:dv.M.FIGJAM_TEMPLATES},{resources:h,slug:dv.M.SLIDE_TEMPLATES},{resources:R,slug:dv.M.PLUGINS},{resources:I,slug:dv.M.WIDGETS}].forEach(({resources:e,slug:t})=>{e&&e.length>0&&A.push(t)}),e===eK.Ag.STARTER&&s)return(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x1665zp3 xijc0j3"},ref:i.sizeRef,children:(0,m.jsx)(c5,{teamId:s})});let F=0===R.length&&0===I.length,O=d.length+_.length+h.length+b.length;if(t&&F||0===O&&F)return(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x1665zp3 xijc0j3"},ref:i.sizeRef,children:(0,m.jsx)(c1,{planTier:e,isTemplatesPublishingDisabledForOrg:t})});if(!t)if(0===O)a=(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf xw7yly9"},children:(0,m.jsx)(c0,{planTier:e})});else if(O<4){let t=[...b,...d,..._,...h];a=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ue,{resourceImpressionTracking:n,numberOfTiles:i.numberOfTiles,resources:t??[]}),(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf xw7yly9"},children:(0,m.jsx)(c0,{planTier:e})})]})}else a=(0,m.jsxs)(m.Fragment,{children:[S&&(0,m.jsx)(ua,{resourceImpressionTracking:n,numberOfTiles:i.numberOfTiles,resources:b,hasNextPage:y}),N&&(0,m.jsx)(ut,{resourceImpressionTracking:n,numberOfTiles:i.numberOfTiles,resources:d,hasNextPage:u}),(0,m.jsx)(us,{resourceImpressionTracking:n,numberOfTiles:i.numberOfTiles,resources:_,hasNextPage:p}),(0,m.jsx)(ur,{resourceImpressionTracking:n,numberOfTiles:i.numberOfTiles,resources:h,hasNextPage:v}),1===A.length&&(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf xw7yly9"},children:(0,m.jsx)(c0,{planTier:e})})]});return(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x1665zp3"},ref:i.sizeRef,children:(0,m.jsxs)(U.fu,{name:sP.e0.RESOURCE_HUB_INTERNAL_RESOURCES_HOME_PAGE,children:[(0,m.jsx)(d3,{tab:ad.N$.INTERNAL}),A.length>1&&(0,m.jsx)("div",{...{className:"x78zum5 x1qughib x6s0dn4 x1a02dak xou54vl"},children:(0,m.jsx)(c8,{resourceTypeSlugs:A})}),a,(0,m.jsx)(ui,{resourceImpressionTracking:n,resources:R??[],hasNextPage:T}),(0,m.jsx)(un,{resourceImpressionTracking:n,numberOfTiles:i.numberOfTiles,resources:I??[],hasNextPage:C})]})})}function ue({resourceImpressionTracking:e,numberOfTiles:t,resources:r}){return(0,m.jsx)(uo,{resourceTypeSlug:dv.M.RECENTLY_ADDED_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:!1})}function ut({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s}){return(0,m.jsx)(uo,{resourceTypeSlug:dv.M.COOPER_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s})}function ur({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s}){return(0,m.jsx)(uo,{resourceTypeSlug:dv.M.SLIDE_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s})}function us({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s}){return(0,m.jsx)(uo,{resourceTypeSlug:dv.M.FIGJAM_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s})}function ua({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s}){return(0,m.jsx)(uo,{resourceTypeSlug:dv.M.FIGMAKE_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s})}function ui({resourceImpressionTracking:e,resources:t,hasNextPage:r}){let s=(0,al.Om)(),a=(0,al.tv)();return t&&0!==t.length?(0,m.jsx)(cP.l,{header:(0,eJ.i_)(dv.M.PLUGINS),route:new dv.U({...s,resourceTypeSlug:dv.M.PLUGINS},a),content:(0,m.jsx)(cT.M,{plugins:t,onIntersectionChange:e,isOrgTeamBrowsing:!1,isLoading:!1,loadingRowCount:6,layoutV1:"twoColumn"}),showSeeMore:!!r}):null}function un({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s}){return(0,m.jsx)(uo,{resourceTypeSlug:dv.M.WIDGETS,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:s})}function uo({resourceTypeSlug:e,resources:t,hasNextPage:r,resourceImpressionTracking:s,numberOfTiles:a}){let i=(0,al.Om)(),n=(0,al.tv)();if(0===t.length)return null;let o=!!r||t.length>a;return(0,m.jsx)(cP.l,{header:(0,eJ.i_)(e),route:new dv.U({...i,resourceTypeSlug:e},n),content:(0,m.jsx)(cO.T,{resources:t.slice(0,a),resourceImpressionTracking:s}),showSeeMore:o})}let ul="resource_hub--pageContainer--g-erK",ud=(0,a_._d)(function({planTier:e,isTemplatesPublishingDisabledForOrg:t,currentOrgId:r,currentTeamId:s,isCommunityTabDisabledForOrg:a}){let i,{tab:n}=(0,ao.RA)(al.au);switch(n){case ad.N$.INTERNAL:i=(0,m.jsx)(c9,{planTier:e,currentOrgId:r??void 0,currentTeamId:s??void 0,isTemplatesPublishingDisabledForOrg:t});break;case ad.N$.COMMUNITY:i=(0,m.jsx)(cW,{currentOrgId:r??void 0,isCommunityTabDisabledForOrg:a});break;default:(0,D.xb)(n)}return(0,m.jsx)("div",{className:ul,children:i})},"HomePage");var uc=r(149385),uu=r(476691),um=r(445974);function u_(){let{requestLoadMoreForTeam:e,status:t,resources:r}=(0,um.W)(),{onIntersectionChange:s}=cG(void 0,void 0),a=(0,_.useRef)(null),i=(0,cz.X)();return(0,uu.X)({containerRef:i.sizeRef,targetRef:a,onIntersectionChange:()=>e}),(0,m.jsxs)("div",{ref:i.sizeRef,children:[(0,m.jsx)(cO.T,{resources:r??[],resourceImpressionTracking:s,isLoading:"loading"===t,loadingTileCount:3*i.numberOfTiles}),(0,m.jsx)("div",{ref:a})]})}var ux=r(808529);function up({sizingInfo:e}){return(0,m.jsx)(m.Fragment,{children:Array.from({length:3},(t,r)=>(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"xxk0z11 xrmyp2 x1jp4ehj xrxpjvj x1v8gsql x19y5rnk"}),(0,m.jsx)(cO.T,{resources:[],resourceImpressionTracking:p.lQ,isLoading:!0,loadingTileCount:e.numberOfTiles})]},`by-team-skeleton-${r}`))})}function uf({teamId:e,teamOrOrgName:t,resourcesOrTemplates:r,route:s,showSeeMore:a,onIntersectionChange:i}){return(0,m.jsx)("div",{children:(0,m.jsx)(cP.l,{header:(0,M.t)("community.resource_hub.internal_tab",{orgOrTeamName:t??""}),route:s,content:(0,m.jsx)(cO.T,{resources:r,resourceImpressionTracking:i}),showSeeMore:a})},e??"org-section")}function uh({teamResourceGroups:e,sizingInfo:t,internalResourcesRoute:r,onIntersectionChange:s,orgId:a}){return(0,m.jsx)(m.Fragment,{children:e.map(e=>(0,m.jsx)(uf,{onIntersectionChange:s,resourcesOrTemplates:e.resources.slice(0,t.numberOfTiles),route:r.copyWith(e.team_id?{forOrg:!1,forTeamId:e.team_id}:{forOrg:!0,forTeamId:void 0},void 0),showSeeMore:e.resources.length>t.numberOfTiles,teamId:e.team_id??null,teamOrOrgName:e.team_or_org_name},e.team_id??a))})}function ug({resourceType:e,planTier:t,orgId:r,internalResourcesRoute:s}){var a,i;let n,o,l,d,c=(0,cz.X)(),{onIntersectionChange:u}=cG(r??void 0,void 0),{isLoading:x,requestLoadMore:p,hasNextPage:f,isFetchingNextPage:h,noResults:g,teamResourceGroups:v}=(0,cH.Uy)({orgId:r,resourceType:e});return a=c.sizeRef,i=v.length,o=(0,_.useRef)(null),l=(0,_.useRef)(0),d=(0,_.useRef)(i),(0,_.useEffect)(()=>{if(!a.current)return;let e=(0,ux.LI)(a.current);if(!e)return;o.current=e;let t=()=>{l.current=e.scrollTop};return l.current=e.scrollTop,e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[a]),(0,_.useLayoutEffect)(()=>{i>d.current&&o.current&&l.current>0&&(o.current.scrollTop=l.current),d.current=i},[i]),n=x?(0,m.jsx)(up,{sizingInfo:c}):g?(0,m.jsx)(c1,{planTier:t}):(0,m.jsx)(uh,{teamResourceGroups:v,sizingInfo:c,internalResourcesRoute:s,orgId:r,onIntersectionChange:u}),(0,m.jsxs)("div",{ref:c.sizeRef,children:[(0,m.jsx)("div",{className:"x78zum5 xdt5ytf xou54vl x1120s5i",children:n}),(0,m.jsx)(uc.D,{useInfiniteScroll:!0,fetchNextPage:p,isFetchingNextPage:h,hasNextPage:f,containerRef:c.sizeRef})]})}function uv({planTier:e,currentOrgId:t,currentTeamId:r,fallbackRedirectRoute:s}){let a,i=(0,f.getFeatureFlags)().cooper,n=(0,ao.a4)(dv.U),{resourceTypeSlug:o,forTeamId:l,forOrg:d}=n.params,{onIntersectionChange:c,flushAndResetImpressions:u}=cG(t??void 0,r??void 0);if(_.useEffect(()=>{u()},[o,u]),!o)return w.Ay.redirect(s.href),null;let x=(0,eJ.W6)(o).filter(e=>i||e!==lC.vt.COOPER_TEMPLATE_FILE);return 0===x.length?null:(x[0]&&(0,eJ.Pe)(e,x[0])&&(a=x[0]===lC.vt.PLUGIN?(0,m.jsx)(uj,{orgId:t??void 0,resourceImpressionTracking:c,planTier:e}):x[0]===lC.vt.WIDGET||o===dv.M.RECENTLY_ADDED_TEMPLATES?(0,m.jsx)(ub,{resourceTypes:x,orgId:t??void 0,teamId:r??void 0,resourceImpressionTracking:c,planTier:e}):r||d||l?(0,m.jsx)(u_,{}):(0,m.jsx)(ug,{resourceType:x[0],planTier:e,orgId:t??"",internalResourcesRoute:n})),(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_INTERNAL_RESOURCES_PAGE,children:(0,m.jsx)("div",{className:ul,children:a})}))}function ub({resourceTypes:e,orgId:t,teamId:r,resourceImpressionTracking:s,planTier:a}){let i=(0,cz.X)(),{resources:n,loading:o,hasNextPage:l,fetchNextPage:d,isFetchingNextPage:c}=(0,cH.yH)({resourceTypes:e,limit:24,caller:lG.z.RESOURCE_HUB,orgId:t,teamId:r,includeContent:!0,sortBy:e.some(e=>[lC.vt.SLIDE_TEMPLATE,lC.vt.COOPER_TEMPLATE_FILE,lC.vt.FIGJAM_TEMPLATE].includes(e))?lV.e.Browse.PUBLISHED_AT:lV.e.Browse.ALL_TIME});if(!o&&(!n||0===n.length))return(0,m.jsx)(c1,{planTier:a});let u=i.numberOfTiles;return(0,m.jsxs)("div",{ref:i.sizeRef,children:[(0,m.jsx)(cO.T,{resources:n??[],isLoading:o,loadingTileCount:5*u,resourceImpressionTracking:s}),(0,m.jsx)(uc.D,{useInfiniteScroll:!0,fetchNextPage:d,isFetchingNextPage:c,hasNextPage:!!l,containerRef:i.sizeRef})]})}function uj({orgId:e,resourceImpressionTracking:t,planTier:r}){let{resources:s,loading:a,hasNextPage:i,isFetchingNextPage:n,fetchNextPage:o}=(0,cH.wO)({limit:10,caller:lG.z.RESOURCE_HUB,orgId:e,includeContent:!0}),l=(0,_.useRef)(null);return a||s&&0!==s.length?(0,m.jsxs)("div",{ref:l,children:[(0,m.jsx)(cT.M,{plugins:(s??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),onIntersectionChange:t,isOrgTeamBrowsing:!1,isLoading:a}),(0,m.jsx)(uc.D,{useInfiniteScroll:!0,fetchNextPage:o,isFetchingNextPage:n,hasNextPage:!!i,containerRef:l})]}):(0,m.jsx)(c1,{planTier:r})}var uy=r(333093),uw=r(319174),uE=r(43472),uT=r(787099),uI=r(84716),uk=r(109988),uC=r(570200),uN=r(804640),uS=r(886101);function uR({text:e,isSelected:t,onClick:r}){return(0,m.jsx)(iu.E,{"aria-label":e,"aria-pressed":t,className:ee()(cr,ct,"category_link_pill--tagPill--zApNJ",t&&cs),onClick:r,children:(0,m.jsx)("span",{className:ee()(ca,"category_link_pill--tagPillContent--OW4eI"),children:e})})}function uA({links:e}){let t=(0,ao.a4)(dg.Dv),{tagSlug:r}=(0,ao.RA)(dg.Dv),s=_.useRef(null),[a,i]=_.useState(!1),[n,o]=_.useState(!1),l=(0,uS.l)(),[d,c]=_.useState(0),[u,x]=_.useState(0);return _.useLayoutEffect(()=>{if(!s.current)return;let t=Array.from(s.current.children).filter(e=>!e.className.includes("expansionButton"));if(n)t.every(e=>0===e.offsetTop)&&o(!1),s.current.scrollWidth>s.current.clientWidth&&(o(!1),c(-1));else if(s.current.scrollWidth>s.current.clientWidth){let e=s.current.clientWidth-83,r=Array.from(t).findIndex(t=>t.offsetLeft+t.offsetWidth>e)-1;if(c(r),r<0)return void i(!1);x(t[r].offsetLeft+t[r].offsetWidth+8),i(!0)}else c(e.length-1),i(!1)},[n,a,l,e]),(0,m.jsxs)("div",{...{0:{className:"x78zum5 x167g77z x193iq5w x6ikm8r xozqiw3"},1:{className:"x78zum5 x167g77z x193iq5w x6ikm8r x1a02dak"}}[0|!!n],ref:s,children:[e.map(({to:e,translatedTitle:s,categorySlug:a,tagSlug:i},o)=>{let l=!!(i&&r&&i===r),c=n||o<=d;return(0,_.createElement)("div",{...{0:{className:"xkz0k9k"},1:{className:"xkz0k9k xlshs6z"}}[0|!c],key:e},(0,m.jsx)(uR,{text:s,categoryTagSlug:i,onClick:()=>{if(l){let e=t.copyWith({categorySlug:a,tagSlug:void 0}).href;(0,cl.uo)(t.href,e),w.Ay.push(e)}else(0,cl.uo)(t.href,e),w.Ay.push(e)},isSelected:l}))}),(a||n)&&(0,m.jsx)(iu.E,{className:"expansion-button",...{className:"xuxw1ft x1n0bwc9 x1qgsegg xaatb59 xru40mv x1sxf85j x12ulsxz xdqyycr x1g40iwv xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x133fa97"},style:a?{left:`${u}px`,position:"absolute"}:{},onClick:()=>{i(!a),o(!n)},children:a?(0,M.t)("community.shelves.show_more"):(0,M.t)("community.detail_view.show_less")})]})}function uF({category:e,showTags:t=!1}){let r=(0,ao.a4)(dg.Dv),s=(0,uN.S)(e.url_slug,dk.LJ);if(!s)return null;let a=(0,uC.m)(e,s,t,r);return(0,m.jsx)("div",{...{className:"x78zum5 x167g77z xozqiw3"},children:(0,m.jsx)(uA,{links:a})})}function uO(){let e=(0,cz.X)(),t=(0,ao.a4)(dg.Dv);(0,dg.pj)(t);let r=t.params,{categorySlug:s,tagSlug:a}=r,[i,n]=_.useState(null),o=t.search,l=(0,cI.v_)(),[{data:d,status:c}]=(0,T.IT)((0,uk.Zp)({categorySlug:s,tagSlug:a,locale:l})),u="loading"===c;_.useEffect(()=>{d&&!u&&n(d)},[d,u]);let x=(0,uE.V)(r,o,24),{filterState:p,handleFilterUpdate:f}=(0,uT.v)(uI.gM.CATEGORY,{...x.filterState}),h=_.useCallback(e=>{let r=f(e);w.Ay.replace(t.copyWith({categorySlug:s,tagSlug:a},{resource_type:r.resourceType,editor_type:r.editorType,price:r.price,sort_by:r.sortBy}).href)},[f,t,s,a]),g=s===dk.LJ.integrations,v=s===dk.LJ.make;return(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_CATEGORY,properties:{category:s,tag:a},children:(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf xou54vl x1gan7if"},ref:e.sizeRef,children:i?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{...{className:"x78zum5 x1qughib x1cy8zhl xozqiw3 xou54vl"},children:[(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x1n2onr6 x12lumcd xeuugli"},children:(0,m.jsx)(uF,{category:i,showTags:!!i.tags.length})}),(0,m.jsx)("div",{...{className:"x78zum5 x13a6bvl x3psx0u xuxw1ft"},children:(0,m.jsx)(uw.y,{allowMixedResourceType:!1,allowedEditorTypes:i.editor_types,context:uI.gM.CATEGORY,filterState:p,isInternal:!1,onUpdate:h,showEditorFilter:!g,showPriceFilter:!g&&!v,showResourceTypeFilter:!g&&!v,showSortDropdown:!0})})]}),(0,m.jsx)("div",{...{className:"xw7yly9"},children:(0,m.jsx)(uy.e,{category:i,categoryPageData:x,numTilesPerRow:e.numberOfTiles})})]}):(0,m.jsx)("div",{...{className:"x7z7khe"},children:(0,m.jsx)(lf.y$,{})})})})}var uP=r(72116),uL=r(365885);function uD({orgOrTeamName:e}){let{tab:t}=(0,ao.RA)(al.au);return(0,ao.ye)(al.au,!0)?null:(0,m.jsx)(uP.f,{leftSide:(0,m.jsx)(uM,{selectedTab:t||ad.N$.INTERNAL,orgOrTeamName:e}),rightSide:[]})}function uM({selectedTab:e,orgOrTeamName:t}){let r=(0,uL.v$)(),s=!!r,a=(0,ao.ed)(dg.Dv),i=(0,ao.ed)(dv.U),n=(0,ao.ed)(dy.e),{teamOrOrgName:o}=(0,um.W)(),l="";return s||a||i||n?(s?l=e===ad.N$.INTERNAL?t?(0,M.t)("community.search.search_results_from_org_or_team",{orgOrTeamName:t}):(0,M.t)("community.search.search_results"):(0,M.t)("community.search.search_results_from_community",{query:r?.search.query??""}):i?(l=(0,eJ.i_)(i.params.resourceTypeSlug),(i.params.forTeamId||i.params.forOrg)&&(l=o?(0,M.t)("community.resource_hub.internal_tab",{orgOrTeamName:o}):"")):a?l=(0,dC.T9)(a.params.categorySlug,void 0,a.search.resource_type)||"":n&&(l=(0,M.t)("community.saves.saved_by_me")),(0,m.jsx)("h1",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx",children:l})):null}var uU=r(693513),uB=r(279871),uz=r(978437),uW=r(952203),uV=r(387166),uG=r(374628),uH=r(770313);let u$=(0,a_._d)(function(){let e=(0,x.wA)(),t=(0,ao.RA)(dj.jT),r=t.apiResourceType,s=t.resourceId,[a]=(0,T.IT)((0,uG.Z)({apiResourceType:r,id:s})),i=a.data,n=i?(0,lk.qY)(i):void 0;_.useEffect(()=>{n&&(0,uH.S)(e,n)},[e,n]);let o=(0,uU.eJ)(),l=(0,uV.Jm)(),d=(0,uV.BY)(),c=(0,cl.W6)(r,s,l,d);if(!i||!n)return(0,m.jsx)(m.Fragment,{});let u=(0,lk.zL)(i);return(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_COMMUNITY_RESOURCE_DETAIL_PAGE,properties:c,children:(0,m.jsxs)("div",{children:[u?(0,m.jsx)(uz.Y,{resource:i}):(0,m.jsx)(uW.Y,{resource:i}),(0,m.jsx)(uB.X6,{resource:i,rdpImpressionId:o})]})})},"ResourceHubResourcePage");var uq=r(149091);function uK(){let e,{color:t}=(0,nU.G)();return e="dark"===t?(0,lF.staticAssetWithUploadsPath)("7ab53d43da451ec79f8b986fd66e173285e8f890"):(0,lF.staticAssetWithUploadsPath)("09318ceb86318f7b9246ee48a8634ef0d126c06f"),(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x16g6g8t xgqmno8 x1sjmt1f xl56j7k"},children:[(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xvue9z x1q1m1l5 x1wft13i x2lah0s"},children:(0,m.jsx)(lO.oW,{...{className:"x193iq5w xl1xv1r"},src:e,alt:(0,M.t)("community.saves.no_saves_title"),loading:"lazy"})}),(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf x1665zp3 xz84dc7 x1wl48e1 x14ilqb xo3t2mw x12p4wv4 x1egpy1l x6s0dn4"},children:(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s"},children:[(0,m.jsx)("div",{...{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x2b8uid"},children:(0,M.t)("community.saves.no_saves_heading")}),(0,m.jsx)("div",{...{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid"},children:(0,M.t)("community.saves.no_saves_subheading")})]})})]})}function uY(){let e=(0,ed.TA)()??void 0,t=(0,ao.a4)(dy.e),r=(0,cz.X)(),{resourceType:s}=t.params,a=s?(0,m.jsx)(uX,{resourceType:s,currentUserId:e,sizingInfo:r}):(0,m.jsx)(uJ,{currentUserId:e,sizingInfo:r});return(0,m.jsx)("div",{className:ul,ref:r.sizeRef,children:(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_SAVES_PAGE,children:a})})}function uJ({currentUserId:e,sizingInfo:t}){let{trackResourceImpression:r}=(0,l1.GS)({extraProperties:{tab:"saves"}}),s=_.useCallback((e,t)=>{t&&r(e)},[r]),a=_.useCallback((e,t)=>{t&&r(e)},[r]),{resources:i,loading:n,hasNextPage:o}=cS({resourceType:(0,lh.yl)(dI.tR.FILES),resourceCount:48,includeContent:!1,enabled:!!e}),{resources:l,loading:d,hasNextPage:c}=cS({resourceType:(0,lh.yl)(dI.tR.PLUGINS),resourceCount:24,includeContent:!0,enabled:!!e}),{resources:u,loading:x,hasNextPage:p}=cS({resourceType:(0,lh.yl)(dI.tR.WIDGETS),resourceCount:48,includeContent:!1,enabled:!!e}),{resources:f,loading:h,hasNextPage:g}=cS({resourceType:(0,lh.yl)(dI.tR.INTEGRATIONS),resourceCount:48,includeContent:!1,enabled:!!e});return i?.length===0&&l?.length===0&&u?.length===0&&f?.length===0?(0,m.jsx)("div",{className:ul,children:(0,m.jsx)(uK,{})}):(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf xnfooyd"},children:[(0,m.jsx)(uQ,{resources:i??[],resourceType:dI.tR.FILES,header:(0,M.t)("community.saves.all_files"),numTilesPerRow:t.numberOfTiles,hasNextPage:!!o,loading:n,resourceImpressionTracking:a}),(0,m.jsx)(uZ,{resources:(l??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),hasNextPage:!!c,loading:d,resourceImpressionTracking:s}),(0,m.jsx)(uQ,{resources:u??[],resourceType:dI.tR.WIDGETS,header:(0,M.t)("community.view_bar.widgets"),numTilesPerRow:t.numberOfTiles,hasNextPage:!!p,loading:x,resourceImpressionTracking:a}),(0,m.jsx)(uQ,{resources:f??[],resourceType:dI.tR.INTEGRATIONS,header:(0,M.t)("community.view_bar.integrations"),numTilesPerRow:t.numberOfTiles,hasNextPage:!!g,loading:h,resourceImpressionTracking:a})]})}function uX({resourceType:e,currentUserId:t,sizingInfo:r}){let s=_.useRef(null),{trackResourceImpression:a}=(0,l1.GS)({extraProperties:{tab:"saves",resourceType:e}}),[{data:i,status:n,hasNextPage:o,isFetchingNextPage:l},{fetchNextPage:d}]=(0,T.IT)(cC.K.PaginatedCommunityResourceSavesQuery({pageSize:24,resourceType:(0,lh.yl)(e),includeContent:e===dI.tR.PLUGINS}),{enabled:!!t});return(0,m.jsxs)("div",{ref:s,children:[(0,m.jsx)(uq.O,{resourcesLoading:"loading"===n,totalResources:i??[],numTilesPerRow:r.numberOfTiles,hasNextPage:!!o,trackResourceImpression:a,filterState:{...(0,uI.c5)(),resourceType:e},customLoadingView:(0,m.jsx)("div",{...{className:"x78zum5 xl56j7k x6s0dn4 x4ygwfs"},children:(0,m.jsx)(nO.kt,{})}),emptyResourceStateQuery:e}),o&&(0,m.jsx)(uc.D,{useInfiniteScroll:!0,fetchNextPage:d,isFetchingNextPage:l,hasNextPage:o,containerRef:s})]})}function uQ({resources:e,resourceType:t,header:r,numTilesPerRow:s,hasNextPage:a,loading:i,resourceImpressionTracking:n}){let o=(0,al.Om)(),l=(0,al.tv)();if(!i&&0===e.length)return null;let d=a&&e.length===2*s||e.length>2*s;return(0,m.jsx)(cP.l,{header:r,content:(0,m.jsx)(cO.T,{resources:e.slice(0,2*s),loadingTileCount:2*s,isLoading:i,resourceImpressionTracking:n}),route:new dy.e({...o,resourceType:t},l),showSeeMore:d})}function uZ({resources:e,hasNextPage:t,loading:r,resourceImpressionTracking:s}){let a=(0,al.Om)(),i=(0,al.tv)();if(!r&&0===e.length)return null;let n=t&&6===e.length||e.length>6;return(0,m.jsx)(cP.l,{header:(0,M.t)("community.view_bar.plugins"),content:(0,m.jsx)(cT.M,{plugins:e.slice(0,6),onIntersectionChange:s,isOrgTeamBrowsing:!1,isLoading:r,loadingRowCount:6,layoutV1:"twoColumn"}),route:new dy.e({...a,resourceType:dI.tR.PLUGINS},i),showSeeMore:n})}var u0=r(276630),u1=r(492769),u2=r(7090),u4=r(681365),u5=r(100262),u7=r(923248),u3=r(521886),u8=r(599252);function u6({currentOrgId:e,currentTeamId:t}){let r=!!(e||t),s=(0,uL.e3)();(0,u3._4)(s,r);let a={query:s.search.query??"",editor_type:s.search.editor_type??d9.k.Editors.ALL,price:s.search.price??u7.C.Price.ALL,resource_type:s.search.resource_type??dI.tR.FILES,...s instanceof lH.bP&&{sort_by:s.search.sort_by??lV.e.Search.RELEVANCY}},i=a.resource_type,{trackResourceImpression:n,flushAndResetResourceImpressions:o}=(0,l1.GS)({extraProperties:{resourceType:a.resource_type}}),{filterState:l,handleFilterUpdate:d}=(0,uT.v)(uI.gM.SEARCH,{resourceType:a.resource_type,editorType:a.editor_type??d9.k.Editors.ALL,price:a.price,sortBy:a.sort_by??lV.e.Search.RELEVANCY}),c=(0,_.useCallback)(e=>{let t=d(e);w.Ay.replace(s.copyWith({},{query:a.query,editor_type:t.editorType,price:t.price,sort_by:t.sortBy}).href)},[d,s,a.query]);_.useEffect(()=>{o()},[a.resource_type,a.query,a.editor_type,a.price,a.sort_by,o]);let{resultsByType:u,loadedStatusByType:x}=(0,u5._w)((0,_.useMemo)(()=>({query:a.query,editor_type:a.editor_type,price:a.price,sort_by:a.sort_by??lV.e.Search.RELEVANCY,org_id:e,team_id:t}),[a.query,a.editor_type,a.price,a.sort_by,e,t]),i),p=_.useMemo(()=>{let e=u[i].resources;return e.every(lk.ws)?e:[]},[u,i]),f=(0,u4.E)(p),h=(0,cz.X)(),g=(0,tk.S2)(),v=(0,eJ.LQ)(g),b=(0,uV.Jm)(),j=(0,uV.BY)(),y=u[i].resources.length,E=_.useCallback(()=>{(0,cl.JO)(b,j,y);let e=new lH.bP(s.params,a).href;w.Ay.push(e)},[s.params,a,y,b,j]),T=r&&!v&&x[i]&&y<=10,I=T&&y>0,k=T&&!I;return(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB_SEARCH,children:(0,m.jsxs)("div",{className:ul,ref:h.sizeRef,children:[(0,dE.LW)()&&!r&&(0,m.jsx)(u2.c,{collections:f}),(0,m.jsx)(u1.N,{selectedTab:i,resultsByType:u,filtersControlState:l,onUpdate:c}),(0,m.jsx)(u8.G,{searchParams:a,trackResourceImpression:n,resultsByType:u,isLoadingThisView:!x[i],emptyStateActions:k?(0,m.jsx)(u0.N,{href:"#",onClick:E,children:(0,M.t)("community.search.search_in_community_instead_cta")}):void 0,numTilesPerRow:h.numberOfTiles}),I&&(0,m.jsx)("div",{...{className:"xpgiz1h x1buy44e"},children:(0,m.jsx)(lQ,{onSearchInCommunity:E})})]})})}let u9=(0,a_._d)(function(){let e=(0,x.wA)(),t=(0,al.Om)(),r=(0,al.tv)(),s=(0,tk.T5)("ResourceHubApp"),a=(0,eJ.LQ)(s),i=s.data?.type===eK.OL.ORG?s.data?.key.parentId:void 0,n=s.data?.type===eK.OL.TEAM?s.data?.key.parentId:void 0,o=(0,eJ.eH)(),l=(0,eJ.mj)(),d=s.data?.type!==eK.OL.ORG||(0,et.oA)(s.data.customTemplatesAllowed),c=(0,_.useMemo)(()=>{let e=ad.N$.INTERNAL;return"loaded"===s.status&&s.data?.tier===eK.Ag.STARTER&&(e=ad.N$.COMMUNITY),new al.au({...t,tab:e},r)},[t,r,s]),u="loading"===s.status||!t;return((0,_.useEffect)(()=>{u||o||l||e(ez.sf({view:"recentsAndSharing"}))},[u,o,l,e]),u)?null:(0,m.jsx)(U.fu,{name:sP.e0.RESOURCE_HUB,children:(0,m.jsxs)(df.Rj.Provider,{value:df.mk.RESOURCE_HUB,children:[(0,m.jsx)(dp.qh,{path:al.VR,children:(0,m.jsxs)("div",{...{className:"xv90nub x78see"},children:[(0,m.jsx)(uD,{orgOrTeamName:s.data?.name}),(0,m.jsxs)(dp.dO,{children:[(0,m.jsx)(dp.qh,{path:db.qL.path,children:a?(0,m.jsx)(dp.rd,{to:c.to}):(0,m.jsx)(dw.P,{fallbackRedirectRoute:c})}),(0,m.jsx)(dp.qh,{path:dj.jT.path,children:a?(0,m.jsx)(dp.rd,{to:c.to}):(0,m.jsx)(u$,{})}),(0,m.jsx)(dp.qh,{path:lH.bP.path,children:a?(0,m.jsx)(dp.rd,{to:c.to}):(0,m.jsx)(u6,{})}),(0,m.jsx)(dp.qh,{path:lH.IQ.path,children:i||n?(0,m.jsx)(u6,{currentOrgId:i,currentTeamId:n}):(0,m.jsx)(dp.rd,{to:c.to})}),(0,m.jsx)(dp.qh,{path:dv.U.path,children:(0,m.jsx)(uv,{planTier:s.data?.tier??null,currentOrgId:i,currentTeamId:n,fallbackRedirectRoute:c})}),(0,m.jsx)(dp.qh,{path:dy.e.path,children:a?(0,m.jsx)(dp.rd,{to:c.to}):(0,m.jsx)(uY,{})}),(0,m.jsx)(dp.qh,{path:dg.Dv.path,children:a?(0,m.jsx)(dp.rd,{to:c.to}):(0,m.jsx)(uO,{})}),(0,m.jsx)(dp.qh,{path:al.au.path,children:(0,m.jsx)(ud,{planTier:s.data?.tier??null,currentOrgId:i,currentTeamId:n,isCommunityTabDisabledForOrg:a,isTemplatesPublishingDisabledForOrg:!d})}),(0,m.jsx)(dp.rd,{to:c.to})]})]})}),(0,m.jsx)(dh.Ay,{})]})})},"ResourceHubApp");var me=r(274222);let mt=(0,a_._d)(function(){let e=(0,al.Om)(),t=(0,al.tv)();return e?(0,m.jsx)(mr,{sharedRouteParams:e,sharedSearchParams:t}):null},"ResourceHubBreadcrumbs");function mr({sharedRouteParams:e,sharedSearchParams:t}){let[r,s]=_.useState(null),[a,i]=_.useState(null),[n,o]=_.useState(null),{teamOrOrgName:l}=(0,um.W)(),d=[],c=(0,ao.Rd)(al.au)?.tab||ad.N$.INTERNAL,u=c===ad.N$.COMMUNITY?(0,M.t)("community.community"):(0,M.t)("sidebar.resources");d=[{text:u,to:new al.au({...e,tab:c},t).href,trackingProperties:{name:cl.HH.RESOURCE_HUB_HOME_BREADCRUMB_CLICKED,text:u}}];let x=(0,ao.ed)(dg.Dv),p=!!x,f=(0,ao.ed)(dj.jT),h=!!f,g=p||h;_.useEffect(()=>{g||(s(null),o(null),i(null))},[g]);let v=f?.params.apiResourceType,b=f?.params.resourceId,[j]=(0,T.IT)((0,uG.Z)({apiResourceType:v,id:b}),{enabled:h&&!!v&&!!b}),y=x?.params.categorySlug||j.data?.category_slug||"",E=x?.params.tagSlug||"",I=(0,cI.v_)(),[{data:k,status:C}]=(0,T.IT)((0,uk.Zp)({categorySlug:y,tagSlug:E,locale:I}),{enabled:g&&!!y});_.useEffect(()=>{if("loaded"===C){o(k?.selected_tag||null);let{parent_category:e}=k||{parent_category:null};i(e||null),s(k)}},[k,C]),g&&r&&(d=[...d,...function({currentCategory:e,currentParentCategory:t,currentTag:r,sharedRouteParams:s,sharedSearchParams:a,categoryRoute:i}){if(!e)return[];let n=(0,uN.S)(t?.url_slug,dk.LJ),o=(0,uN.S)(e.url_slug,dk.LJ);return[t&&n&&{text:(0,dC.T9)(n,void 0,i?.search.resource_type)||(0,me.Yd)(t.i18n_meta?.title,t.title),to:i?i.copyWith({categorySlug:n,tagSlug:void 0}).href:new dg.Dv({...s,categorySlug:n},{...a}).href,trackingProperties:{name:cl.HH.RESOURCE_HUB_CATEGORY_BREADCRUMB_CLICKED,text:(0,dC.T9)(n,void 0,i?.search.resource_type)||(0,me.Yd)(t.i18n_meta?.title,t.title),category_slug:n}},e&&o&&{text:(0,dC.T9)(o,void 0,i?.search.resource_type)||(0,me.Yd)(e.i18n_meta?.title,e.title),to:i?i.copyWith({categorySlug:o,tagSlug:void 0}).href:new dg.Dv({...s,categorySlug:o},{...a}).href,trackingProperties:{name:cl.HH.RESOURCE_HUB_CATEGORY_BREADCRUMB_CLICKED,text:(0,dC.T9)(o,void 0,i?.search.resource_type)||(0,me.Yd)(e.i18n_meta?.title,e.title),category_slug:o}},r&&{text:(0,me.Yd)(r.i18n_meta?.text,r.text)}].filter(Boolean)}({currentCategory:r,currentParentCategory:a,currentTag:n,sharedRouteParams:e,sharedSearchParams:t,categoryRoute:p?x:void 0})]);let N=j.data;if(h&&N&&(r||!N.category_slug)){let e={text:(0,lh.K2)(N)||""};d=[...d,e]}let S=(0,ao.ed)(dy.e);if(S){let t={text:(0,M.t)("community.profiles.saved"),to:new dy.e({...e,resourceType:void 0}).href};d=[...d,t];let r=S?.params.resourceType,s=r?(0,eJ.M0)(r):void 0;s&&(d=[...d,{text:s}])}if((0,uL.v$)()){let e={text:(0,M.t)("community.resource_hub.search_breadcrumb")};d=[...d,e]}let R=(0,ao.ed)(dv.U);if(R){let e=R.params.resourceTypeSlug,t={text:(0,eJ.i_)(e)};d=[...d,t],(R?.params.forTeamId||R?.params.forOrg)&&(t.to=R.copyWith({forTeamId:void 0,forOrg:!1}).href,t.trackingProperties={name:cl.HH.RESOURCE_HUB_INTERNAL_RESOURCE_TYPE_BREADCRUMB_CLICKED,text:(0,eJ.i_)(e)},l&&(d=[...d,{text:l}]))}if((0,ao.ye)(db.qL)){let e={text:(0,M.t)("community.profiles.community_profile")};d=[...d,e]}return 1===d.length&&d[0]?.text?(0,m.jsx)("h1",{children:d[0].text}):(0,m.jsx)(ll.A5,{children:d.map((e,t)=>(0,m.jsx)(ll.J5,{text:e.text,onClick:()=>{e.to&&w.Ay.push(e.to),e.trackingProperties&&(0,cl.Ox)(e.trackingProperties)},hasTrailingDivider:t<d.length-1,disabled:t===d.length-1,isCurrentPage:t===d.length-1},`resource_hub_breadcrumb_${t}`))})}var ms=r(878438),ma=r(812456),mi=r(635618),mn=r(270351),mo=r(230191),ml=r(464662);let md=(0,a_._d)(function(){let e,t,r,s,a,i,n,{onSubmit:o,currentTab:l}=(e=function(){let e=(0,tk.T5)("useDefaultResourceHubTab"),t=e.data?.type===eK.OL.TEAM?e.data?.key.parentId:null,r=e.data?.type===eK.OL.ORG?e.data?.key.parentId:null,s="loaded"===e.status&&e.data?.tier===eK.Ag.STARTER,a=e.data?.type!==eK.OL.ORG||(0,et.oA)(e.data.customTemplatesAllowed),i=(0,cH.UX)({planTier:e.data?.tier??null,teamId:t,isTemplatesPublishingDisabledForOrg:!a,numTemplates:1}),n=(0,cH.pj)({planTier:e.data?.tier??null,orgId:r,isTemplatesPublishingDisabledForOrg:!a,numTemplates:1}),{[eK._Y.COOPER]:{templates:o,isLoading:l},[eK._Y.WHITEBOARD]:{templates:d,isLoading:c},[eK._Y.SLIDES]:{templates:u,isLoading:m}}=r?n:i,_=[...o,...d,...u],x="loaded"===e.status&&(e.data?.tier===eK.Ag.PRO||e.data?.tier===eK.Ag.STUDENT)&&!(l||c||m)&&0===_.length;return s||x?ad.N$.COMMUNITY:ad.N$.INTERNAL}(),r=(t=(0,ao.Rd)(al.au)?.tab||e)===ad.N$.INTERNAL?lH.IQ:lH.bP,a=!!(s=(0,uL.UX)()),i=(0,al.Om)(),n=(0,al.tv)(),{onSubmit:e=>{let o;if(o=s?s.copyWith({},{query:e}).href:new r(i,{...n,query:e}).href,e.length)w.Ay.push(o);else if(a){let e=new al.au({...i,tab:t},n).href;w.Ay.push(e)}},currentTab:t});return(0,m.jsx)(mc,{onSubmit:o,currentTab:l})},"ResourceHubSearchBar");function mc({onSubmit:e,currentTab:t}){let r,s=(0,uL.UX)(),a=!!s,i=s?.search.query,n=(0,x.wA)(),o=(0,dE.lW)(),[l,d]=_.useState(""),c=(0,mn.A)(e,400);r=t===ad.N$.COMMUNITY?(0,M.t)("community.search.search_community"):(0,M.t)("community.search.search_internal_placeholder");let u=(0,m.jsx)(ma.W,{className:"xexx8yu xmzs88n x18d9i69 xcpk43y"});_.useEffect(()=>{a&&i&&d(i),a||n(mo.ky())},[a]);let p=_.useCallback(()=>{d("")},[]);_.useEffect(()=>{a||p()},[p,a]);let f=(0,dE.fC)(),h=t===ad.N$.INTERNAL,g=t===ad.N$.COMMUNITY&&(!a||o());return f?(0,m.jsx)(ml.Z,{query:l,onChange:e=>{d(e),e&&(h||a&&!o())&&c(e)},entryPoint:"resource_hub",ariaLabel:(0,M.t)("community.search.search_templates_and_tools"),placeholder:r,onSubmit:c,context:dk.PF.FILEBROWSER,showDropdown:g}):(0,m.jsxs)(ms.p.Root,{size:"lg",onFocus:()=>{a||n(mo.Dy({entryPoint:"resource_hub"}))},children:[u,(0,m.jsx)(ms.p,{value:l,onChange:e=>{d(e),e&&c(e)},"aria-label":(0,M.t)("community.search.search_templates_and_tools"),placeholder:r}),l.length>0&&(0,m.jsx)(iu.E,{...{className:"xt0e3qv xy13l1i"},"aria-label":(0,M.t)("common.clearSearch"),onClick:()=>{d("")},children:(0,m.jsx)(mi.A,{})})]})}function mu(){let e=(0,m.jsx)(mt,{});return(0,m.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1qughib xaobbuh xozqiw3"},children:[e,(0,m.jsx)(df.Rj.Provider,{value:df.mk.RESOURCE_HUB,children:(0,m.jsx)("div",{...{className:"xnmoo23 x1thqx0m"},children:(0,m.jsx)(md,{})})})]})}var mm=r(708114),m_=r(835258),mx=r(114024),mp=r(536224),mf=r(549414),mh=r(546799),mg=r(57712),mv=r(116682);let mb=new class{markFeedVisited(e){return mv.Ay.post(`/api/feed_visited/${e.currentOrgId}`)}};var mj=r(510944),my=r(955721),mw=r(695421),mE=r(478499),mT=r(222541),mI=r(865876),mk=r(30720),mC=r(928814),mN=r(859937);let mS=new class{markFeedViewed(e){mv.Ay.post(`/api/feed_posts/${e.publicUuid}/mark_viewed`)}vote(e){mv.Ay.post(`/api/feed_posts/${e.publicUuid}/vote`,{vote_option:e.voteOption})}};var mR=r(31314),mA=r(860857),mF=r(615695),mO=r(77400),mP=r(179037),mL=r(70598);let mD="feed_tile--commentPillText--yUFG-",mM="feed_tile--feedPostHoverContainerSelectable--uGqX2";var mU=r(598034);function mB(e){var t;let r,s,a,i=(0,x.wA)(),n=_.useRef(null),[o,l]=(0,oJ.M)(),[d,c]=(0,oJ.M)(),{requestToOpenPostByFeedIdx:u}=e,p=_.useCallback((t,r)=>{t?.stopPropagation();let s=e.itemIdx+1;(0,sJ.sx)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:s}),i((0,rd.to)({type:mj.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:u,autofocusCommentInput:r?.autofocusCommentInput,selectedContentIdx:r?.selectedContentIdx,onSetSelectedContentIdx:r?.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,i,e.feedIdx,u]),{refSetter:f}=(t=e.virtualRowItem.measureRef,r=_.useRef(null),(s=_.useRef(t)).current=t,a=_.useMemo(()=>new ResizeObserver(()=>{s.current(r.current)}),[]),_.useEffect(()=>()=>{a.disconnect()},[a]),{refSetter:_.useCallback(e=>{null!==r.current&&a.unobserve(r.current),r.current=e,null!==r.current&&a.observe(r.current)},[a])}),h={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},g=e.feedListRef.current?.getBoundingClientRect().left??0,v=Math.max(0,(n.current?.getBoundingClientRect().left??0)-g),b=(0,m.jsxs)("div",{className:"feed_tile--caughtUpContainer--HrQfG",children:[(0,m.jsx)("div",{className:"feed_tile--caughtUpTitle---Gouw",children:(0,M.t)("fig_feed.youre_all_caught_up")}),(0,m.jsx)("div",{className:"feed_tile--caughtUpSubtitle--MPg05",children:(0,M.t)("fig_feed.come_back_later_for_more_posts")})]});return(0,m.jsxs)("div",{className:"feed_tile--postContainer--x7zhQ",ref:e=>{f(e),e&&(n.current=e,o(e))},style:h,children:[(0,m.jsx)("div",{className:"feed_tile--hoverExtension--N68Ap",ref:d}),(0,m.jsxs)("div",{className:"feed_tile--tileContainer--O0fIl",children:[(0,m.jsx)(mz,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:p,horizontalMargin:v,isHovered:l||c}),e.mostRecentUnviewed&&b]})]})}function mz(e){let t=parseInt(e.feedPost.numComments,10),r=(0,mI.o8)(e.feedPost.descriptionMeta),s=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],a=(0,m.jsx)("div",{className:"feed_tile--commentPill--dqNyy feed_reactions_section--reactionPill--kdlOl reactions--reaction--tL2ND text--fontPos11--rO47d text--_fontBase--VaHfk",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0,children:t>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(mw.u,{users:s,totalNum:s.length,numAvatarsToDisplay:4}),(0,m.jsx)("div",{className:mD,children:(0,M.tx)("fig_feed.num_comments",{numComments:t})})]}):(0,m.jsx)("div",{className:mD,children:(0,M.tx)("fig_feed.add_comment")})}),[i,n]=_.useState(!1),o=_.useRef(null);_.useEffect(()=>{let e=o.current;e&&n(e.scrollHeight>e.offsetHeight)},[]);let l=_.useMemo(()=>(r.length>0&&(r[0].t=r[0].t?.trimStart(),r[r.length-1].t=r[r.length-1].t?.trimEnd()),r),[r]),d=(0,mN.q)(),c=_.useCallback((e=[],t)=>e?e.map((e,r)=>{let s=(e.user_annotated?e.user_annotated.handle:e.t)||"",a=(0,oX.F)(s),i=null,n=e.link&&(0,mT.xT)(e.link);if(e.user_annotated&&a)i=(0,m.jsx)("span",{onMouseDown:mC.dG,role:"link",tabIndex:0,children:(0,m.jsx)(mT.E4,{href:`/files${d}/user/${e.user_id}`,userId:e.user_annotated.id,handle:a,imgUrl:e.user_annotated.img_url})});else if(n&&a&&(0,mk.$x)(n))i=(0,m.jsx)("span",{onMouseDown:mC.dG,role:"link",tabIndex:0,children:(0,m.jsx)(mT.Rk,{text:a,hyperlink:n})});else{let e=(0,my.x6)(a?.replace(/\n\s*\n/g,"\n").split("\n").join(" ")||"");i=(0,m.jsx)("span",{children:e})}return(0,m.jsxs)(_.Fragment,{children:[i,e.children?.length&&e.styles?.length&&e.children.map((s,a)=>(0,m.jsxs)(_.Fragment,{children:[" ",e.styles.includes("ol")?`${a+1}. `:"\u2022 ",c(s.children,`${t}-${r}-${a}`)," "]},`${t}-${r}-${a}`))]},`${t}-${r}`)}):[(0,m.jsx)(m.Fragment,{})],[d]),u=_.useMemo(()=>c(l,e.feedPost.id),[l,c,e.feedPost.id]),{onTileMouseDown:x}=e,p=_.useMemo(()=>(0,m.jsxs)("div",{className:"feed_tile--postDescriptionContainer--Gawj-",onMouseDown:x,role:"button",tabIndex:0,children:[(0,m.jsx)("div",{className:"feed_tile--postTitle--qzhjX",children:e.feedPost.title}),(0,m.jsxs)("div",{className:"feed_tile--postDescription--N5lY4","data-testid":"feed-post-description",ref:o,children:[(0,m.jsx)("div",{className:ee()("feed_tile--postDescriptionMessage--IgSUt comment_message--commentMessage--8DQUq","feed_tile--collapsed--kylN3",i&&"feed_tile--hasShowMore---u4OF"),children:u}),i&&(0,m.jsxs)("div",{onMouseDown:e=>{e.stopPropagation(),x()},className:"feed_tile--viewMore--IRTtI",role:"button",tabIndex:0,children:[(0,m.jsx)("div",{className:"feed_tile--viewMoreEllipsis--nG44V",children:"..."}),(0,m.jsx)("div",{className:"feed_tile--viewMoreText--zTkIw",children:(0,M.t)("fig_feed.see_more")})]})]})]}),[i,o,e.feedPost,x,u]),f=(0,mA.DG)(e.feedPost.publicUuid,mA.dy.TILE),h=(0,no.Um)(),g=e.isHovered||h?.type===(0,mL.j8)(mL.Hx.USER,e.feedPost.publicUuid,mA.Zp.TILE);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"feed_tile--topRowUGC--lTq8w",children:[(0,m.jsx)("div",{className:"feed_tile--avatarFloat--eYQCG",children:(0,m.jsx)(mO.A,{user:e.feedPost.creator,size:r9.Pf.LARGE,noHandle:!0})}),(0,m.jsx)(mO.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,noAvatar:!0}),(0,m.jsxs)("div",{className:B.s.flex.flexRow.$,children:[(0,m.jsx)(mL.Wu,{hideTarget:!g,feedPost:e.feedPost,source:mA.Zp.TILE}),g&&(0,m.jsx)(mR.K0,{"data-tooltip-type":sO.Ib.TEXT,"data-tooltip":(0,M.t)("fig_feed.copy_link_to_post"),onClick:f,children:(0,m.jsx)(mE.In,{icon:"hyperlink-32"})})]})]}),p,(0,m.jsx)(mW,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),(0,m.jsx)("div",{className:"feed_tile--bottomRow--3toLi",children:(0,m.jsx)(mP.Q$,{type:mP.Us.FULL,source:mP.zY.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[a]})})]})}function mW(e){let t=_.useRef(null),r=e.feedPost.content.map(e=>JSON.parse(e)),[s,a]=_.useState(!1),[i,n]=_.useState(!1),[o,l]=_.useState(0);_.useEffect(()=>{0!==o&&mS.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[o,e.feedPost.publicUuid]);let d=(0,mP.mz)({type:"post",id:e.feedPost.publicUuid},mP.zY.TILE_CONTENT),c=r.length>1,u=ee()(c?"feed_tile--feedPostHoverContainerWithThumbnails--KBMUL feed_tile--feedPostHoverContainer--JmxYf":"feed_tile--feedPostHoverContainer--JmxYf",!(s||i||d)&&"feed_tile--hidden--Zb11Q"),x={selectedContentIdx:o,onSetSelectedContentIdx:l},{fileData:p,fileIcon:f,fileLoaded:h,openFile:g}=(0,mA.rS)(e.feedPost.publicUuid,r,e.feedPost.fileKey);return(0,m.jsxs)("div",{ref:e=>{e&&(t.current=e)},className:ee()("feed_tile--fullHeightContentSection--fkHLk feed_tile--contentSection--BLRUq",c&&"feed_tile--fullHeightContentSection_WithThumbnails--sokhS"),children:[(0,m.jsx)(mF.x,{contentItems:r,feedPostIdx:e.feedIdx,feedPostUuid:e.feedPost.publicUuid,onContentHover:e=>a(e),onSelectedTileMouseDown:t=>e.onTileMouseDown(t,x),pageBackgroundColor:e.backgroundColor||void 0,selectedContentIdx:o,setSelectedContentIdx:l,source:mA.Zp.TILE,staticContent:!0}),h&&(0,m.jsxs)("button",{className:ee()(u,mM,"feed_tile--hoverTopLeft--gSMLg"),onClick:g,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[(0,m.jsx)(rh.w4,{type:f,size:16}),(0,m.jsx)("div",{children:p.name})]}),(0,m.jsx)("button",{className:ee()(u,mM,"feed_tile--hoverTopRight--FzwSB"),onMouseDown:t=>e.onTileMouseDown(t,x),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,m.jsx)(sF.B,{svg:mU.A})})]})}function mV(e){let t=(0,x.wA)(),r=_.useRef(null),s=(0,ed.iZ)(),a=(0,x.d4)(e=>e.teamFeedRefreshNonce),[i,n]=_.useState(null),o=(0,eW._6)(),l="teamFeed"===o.view,d="user"===o.view;_.useEffect(()=>{l&&(mb.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{n(e.data.meta?new Date(e.data.meta):null)}),t(eH.b({has_visited_feed:!0})))},[e.currentOrgId,a,t,l]);let c=(0,E.bc)(tI.KhA,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:e.selectedUser?.id??null}),refreshNonce:a}),u=(0,g.ZC)(a);u&&u!==a&&r.current&&(r.current.scrollTop=0),_.useEffect(()=>{"errors"===c.status&&t(t_.F.enqueue({message:(0,M.t)("general.an_error_occurred"),error:!0}))},[t,c.status]);let p=_.useMemo(()=>"loaded"===c.status?{...c,data:c.data.feedPosts.filter(e=>!!e.feedPost)}:c,[c]),f="loaded"===p.status&&"loaded"===c.status,h=_.useCallback(()=>512,[]),v=p.data?p.data.length:0,b=(0,mg.z)({size:v,parentRef:r,estimateSize:h,overscan:15,paddingStart:0}),j=_.useRef(0);_.useEffect(()=>{j.current=p.data?.length??0},[f,p.data?.length]),_.useEffect(()=>{f&&(0,sJ.sx)("Team Feed Posts Rendered",{numPosts:j.current,view:o.view,selectedUserId:e.selectedUser?.id},{forwardToDatadog:!0})},[e.selectedUser,j,f,o.view]);let[y,w]=_.useState(!1),T=c.data?.feedPosts?.loadNext,I=_.useCallback((e,t)=>{e>0&&!y&&((0,sJ.sx)("Team Feed User Scrolled Down"),w(!0));let r=v/50,s=e+t.trackHeight,a=t.scrollHeight;1-(a-s)/(a/r)>=.5&&T?.(50)},[y,T,v]),k=_.useMemo(()=>{let e={};return p.data&&p.data.forEach((t,r)=>{e[t.publicUuid]=r}),e},[p]),[C,N]=_.useState(void 0),S=_.useCallback(e=>{N(e)},[]);_.useEffect(()=>{if(void 0===C||(N(void 0),C<0)||(C>=.5*v&&T?.(50),C>=v))return;let e=p.data[C];t(rd.hm({type:mj.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:C,requestToOpenPostByFeedIdx:S}}))},[C,t,p,S,T,v]);let R=_.useMemo(()=>{if(!i||!p.data)return null;let e=0,t=p.data.length-1,r=-1,a=0;for(;e<=t;){let s=Math.floor((e+t)/2);if(new Date(p.data[s].createdAt)>i?(r=s,e=s+1):t=s-1,(a+=1)>50)break}for(;r>=0&&s&&p.data[r].feedPost?.creator.id===s.id;)r-=1;return r},[i,p.data,s]),A=f&&p.data&&0===p.data.length&&e.selectedUser;return(0,m.jsx)(ef.P,{scrollContainerRef:r,className:"feed_list_view--scrollContainer--0zZ-I main_feed_view--scrollContainer--nNpG8",innerClassName:ee()("feed_list_view--scrollContainerInner--v2Tc3",d&&"feed_list_view--scrollContainerInnerProfile--tF-7M"),onScroll:I,children:(0,m.jsx)("div",{className:"feed_list_view--feedListContainer--2ihe9",children:A?(0,m.jsxs)("div",{className:"feed_list_view--noPostsFound--RJG-I",children:[(0,m.jsx)("div",{className:B.s.fontMedium.$,children:(0,M.tx)("fig_feed.no_posts_found_title")}),(0,m.jsx)("div",{className:B.s.colorTextSecondary.$,children:(0,M.tx)("fig_feed.no_posts_found_description")})]}):(0,m.jsx)("div",{style:{margin:"0 8px",height:`${b.totalSize}px`,position:"relative"},children:b.virtualItems.map(e=>{let t=e.index;if(!p.data||!p.data[t].feedPost)return null;let s=p.data[t].feedPost;return(0,m.jsx)(mB,{post:s,virtualRowItem:e,feedListRef:r,itemIdx:t,feedIdx:k[s.publicUuid],requestToOpenPostByFeedIdx:S,mostRecentUnviewed:l&&k[s.publicUuid]===R},e.key)})})})})}function mG(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.teamFeedRefreshNonce);return _.useEffect(()=>{t(mh.yu({orgId:e.currentOrgId,bellActive:!1}))},[t,r,e.currentOrgId]),(0,m.jsx)(mV,{...e})}let mH="new_post_indicator--icon--eeq4R";var m$=r(490587),mq=r(217169);function mK(e){return(0,m.jsxs)("div",{className:"new_post_indicator--notification--KRfCK text--_negText--7Cnf0 _overlayBase--_overlayBase--VoHJ7",children:[(0,m.jsxs)("div",{className:"new_post_indicator--leftSide--lJksh",onClick:e.onRefresh,role:"button",tabIndex:0,children:[(0,m.jsx)(sF.B,{svg:m$.A,className:mH}),(0,M.tx)("fig_feed.new_posts")]}),(0,m.jsx)("div",{className:"new_post_indicator--dismiss--1SeQ4",onClick:e.onDismiss,role:"button",tabIndex:0,children:(0,m.jsx)(sF.B,{svg:mq.A,className:mH})})]})}function mY(e){let t=(0,x.wA)();_.useEffect(()=>((0,sJ.sx)("Team Feed Posts List View Visited"),t(mh.yu({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,sJ.sx)("Team Feed List View Closed")}),[t,e.currentOrgId]);let r=_.useCallback(()=>t(mh.Y9()),[t]),s=_.useCallback(()=>{r()},[r]),a=(0,x.d4)(t=>t.teamFeedBellStates[e.currentOrgId]),[i,n]=_.useState(!1),o=(0,g.ZC)(a);return _.useEffect(()=>{a&&!1===o?n(!0):o&&!1===a&&n(!1)},[a,o,t]),_.useEffect(()=>{e.initialPostUuidToShow&&t((0,rd.to)({type:mj.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]),(0,m.jsxs)(m.Fragment,{children:[i&&(0,m.jsx)(mK,{onRefresh:s,onDismiss:()=>n(!1)}),(0,m.jsx)(mG,{currentOrgId:e.currentOrgId}),(0,m.jsx)(mf.cx,{})]})}function mJ(e){let t=(0,x.d4)(e=>e.currentUserOrgId),r=_.useRef(new mp.M4);return(_.useEffect(()=>{r.current.start()},[]),t)?(0,m.jsx)(mY,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:r.current}):null}var mX=r(480507);function mQ(e){let t=e.tabs?(0,m.jsx)(ot.t.TabStrip,{manager:e.tabManager,children:e.tabs.map(e=>(0,_.createElement)(ot.t.Tab,{...e.tabProps,key:e.tabName},e.tabName))}):(0,m.jsx)(m.Fragment,{});return(0,m.jsx)(uP.f,{leftSide:t,rightSide:e.viewbarActions||[]})}var mZ=r(955018),m0=r(709299),m1=r(612995);let m2=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:[nl.C0.TRASHED_AT]}),m4=e=>({tileSortFilterConfig:e.trashedFolders,sortKeys:[nl.C0.TRASHED_AT,nl.C0.NAME]});function m5({currView:e}){let t,r,s=(0,x.wA)(),a=(0,x.d4)(e=>e.tileSortFilterStateByView),i=(t=(0,mX.xx)(m2)(a),[(0,m.jsx)(mZ.gr,{dispatch:s,options:t,selectedView:e},0),(0,m.jsx)(mZ.ye,{config:t.tileSortFilterConfig},1),(0,m.jsx)(mZ.mc,{dispatch:s,options:t,selectedView:e},2),(0,m.jsx)(m0.$c,{initialViewMode:t.tileSortFilterConfig.viewMode,onViewModeChange:r=>{(0,sJ.sx)("file view toggle",{viewType:r===nl.XU.GRID?"grid":"list"}),s(eU.JF({selectedView:e,config:{...t.tileSortFilterConfig,viewMode:r}}))}},3)]),n=(r=(0,mX.xx)(m4)(a),[(0,m.jsx)(mZ.KH,{dispatch:s,options:r,selectedView:e},6),(0,m.jsx)(mZ.mc,{dispatch:s,options:r,selectedView:e},4),(0,m.jsx)(m0.$c,{initialViewMode:r.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,sJ.sx)("folder view toggle",{viewType:t===nl.XU.GRID?"grid":"list"}),s(eU.JF({selectedView:e,config:{...r.tileSortFilterConfig,viewMode:t}})),s(eU.uV({viewId:m1.l,viewMode:t}))}},5)]),[o,l,d]=ot.t.useManagedTabs({deletedFiles:!0,trashedFolders:!0},e.view,_.useCallback(e=>{s(ez.sf({view:e}))},[s]));return(0,m.jsx)(mQ,{tabManager:d,tabs:[{tabName:(0,M.t)("file_browser.tool_bar.trashed_files"),view:{view:"deletedFiles"},ariaLabel:(0,M.t)("file_browser.tool_bar.trashed_files.aria_label"),tabProps:o.deletedFiles},{tabName:(0,M.t)("file_browser.tool_bar.trashed_projects"),view:{view:"trashedFolders"},ariaLabel:(0,M.t)("file_browser.tool_bar.trashed_projects.aria_label"),tabProps:o.trashedFolders}],viewbarActions:"deletedFiles"===e.view?i:n})}var m7=r(582036);function m3({isEligbileForProTeamLockedRevampUI:e}){let t=(0,ab.ol)(),r=(0,eL.vt)(t?.id),s=!!t&&r,a=!!t&&!!e;return _.useMemo(()=>({team:t,shouldShowLockedRedesign:s,shouldShowLockedProTeamRevampDesign:a}),[a,s,t])}function m8(e){let{team:t,shouldShowLockedRedesign:r,shouldShowLockedProTeamRevampDesign:s}=e;return _.useMemo(()=>{if(!t)return;let e=!!t.restrictions_list?.includes(eK.P4.LOCKED);if(r||e&&s)return{teamId:t.id,isLockedTeam:!0}},[t,s,r])}var m6=r(476188),m9=r(832763);let _e=(e,t)=>{let r=m9.Tf.getName(e)||"",s=m9.Tf.getName(t)||"";return tP.Tt.compare(r,s)},_t=(e,t)=>{let r=(m9.Tf.getName(e)||"").toLowerCase(),s=(m9.Tf.getName(t)||"").toLowerCase();return r===s?0:r<s?-1:1},_r=(e,t)=>{if(e.type!==m9.nb.FILE||t.type!==m9.nb.FILE)return 0;let r=e.file,s=t.file;return r.createdAt<s.createdAt?1:-1},_s=(e,t)=>e.type!==m9.nb.PROTOTYPE||t.type!==m9.nb.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,_a=(e,t)=>{let r=m9.Tf.getAccessedAt(e),s=m9.Tf.getAccessedAt(t);return r&&s?r>s?1:-1:s?-1:1*!!r},_i=(e,t)=>m9.Tf.getCreatedAt(e)>m9.Tf.getCreatedAt(t)?1:-1,_n=(e,t)=>{let r=m9.Tf.getTouchedAt(e),s=m9.Tf.getTouchedAt(t);return null===r||null===s?0:r>s?1:-1},_o=(e,t)=>e.type!==m9.nb.FILE&&e.type!==m9.nb.REPO||t.type!==m9.nb.FILE&&t.type!==m9.nb.REPO?0:(e.type===m9.nb.FILE?e.file.trashedAt:e.repo.trashed_at)>(t.type===m9.nb.FILE?t.file.trashedAt:t.repo.trashed_at)?1:-1;function _l({tilesResult:e,tileSortFilterConfig:t,isDataPartial:r,isDraftsFolder:s}){return _.useMemo(()=>e.transform(e=>{let a,i,n=e.filter(e=>{var r;return r=t.filters.sharedBy,(!r||r===`${m9.Tf.getSharedBy(e)}`)&&((e,t)=>{let r="design";switch(t.type===m9.nb.FILE||t.type===m9.nb.PINNED_FILE?r=t.file.editorType:t.type===m9.nb.OFFLINE_FILE&&(r=t.file.editorType),e){case nl.t2.ANY:return!0;case nl.t2.DESIGN:if(t.type===m9.nb.FILE||t.type===m9.nb.REPO||t.type===m9.nb.PINNED_FILE||t.type===m9.nb.OFFLINE_FILE)return"design"===r;return!1;case nl.t2.FIGJAM:if(t.type===m9.nb.FILE||t.type===m9.nb.PINNED_FILE||t.type===m9.nb.OFFLINE_FILE)return"whiteboard"===r;return!1;case nl.t2.PROTOTYPE:return t.type===m9.nb.PROTOTYPE;case nl.t2.SLIDES:if(t.type===m9.nb.FILE||t.type===m9.nb.PINNED_FILE||t.type===m9.nb.OFFLINE_FILE)return"slides"===r;return!1;case nl.t2.SITES:if(t.type===m9.nb.FILE||t.type===m9.nb.PINNED_FILE||t.type===m9.nb.OFFLINE_FILE)return"sites"===r;return!1;case nl.t2.COOPER:if(t.type===m9.nb.FILE||t.type===m9.nb.PINNED_FILE||t.type===m9.nb.OFFLINE_FILE)return"cooper"===r;return!1;case nl.t2.MAKE:if(t.type===m9.nb.FILE||t.type===m9.nb.PINNED_FILE||t.type===m9.nb.OFFLINE_FILE)return"figmake"===r;return!1;default:(0,D.xb)(e)}})(t.filters.fileType,e)&&((e,t)=>{if(!e||!e.planId)return!0;let r=e.planId;switch(t.type){case m9.nb.FILE:return("org"===e.planType?t.file.parentOrgId:t.file.teamId)===r;case m9.nb.REPO:return("org"===e.planType?t.repo.parent_org_id:t.repo.team_id)===r;case m9.nb.PROTOTYPE:return("org"===e.planType?t.prototype.parent_org?.id:t.prototype.parent_team?.id)===r;case m9.nb.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===r;default:return!1}})(t.filters.plan,e)}),o=n.filter(e=>e.type===m9.nb.FILE||e.type===m9.nb.REPO||e.type===m9.nb.OFFLINE_FILE),l=t.sort.dir===nl.ue.DESC;switch(t.sort.key){case nl.C0.ACCESSED_AT:a=m6.f.byComparators(_a),i=n;break;case nl.C0.CREATED_AT:a=m6.f.byComparators(_i),i=n;break;case nl.C0.TOUCHED_AT:a=m6.f.byComparators(_n),i=o;break;case nl.C0.NAME:if(s){a=m6.f.byComparators(_e,m6.f.byProperty("type")),i=n;break}let d=n.length<tP.Tw;a=m6.f.byComparators(d?_e:_t,m6.f.byProperty("type"),_r,_s),i=n;break;case nl.C0.TRASHED_AT:a=m6.f.byComparators(_o),i=o;break;case nl.C0.SHARED_AT:return n;default:return console.error("Unknown sort key",t.sort.key),[]}if(a=l?m6.f.reverse(a):a,i.sort(a),r)for(;i[i.length-1]?.type===m9.nb.OFFLINE_FILE;)i.pop();return i}),[e,r,s,t])}function _d({sortFilterOptions:e,...t}){let r=(0,x.wA)();return _.useCallback(s=>{let a=e.tileSortFilterConfig,i=a.sort.dir===nl.ue.DESC?nl.ue.ASC:nl.ue.DESC;r(eU.JF({...t,config:{...a,sort:{key:s,dir:s===a.sort.key?i:a.sort.dir}}}))},[e,r,t])}var _c=r(620228),_u=r(999470);function _m({shouldLogVisibleTileCount:e=!1,viewMode:t=nl.XU.GRID,sortedFilteredTilesLength:r}){let[s,a]=_.useState(null),i=(0,eW._6)().view,n=_.useRef(!1);return _.useEffect(()=>{let a=n.current;e&&!a&&s&&(sJ.az.trackDefinedEvent("file_browser.visible_tiles_count",{totalCount:r,visibleCount:s.length,viewMode:(0,_u.jq)(t),selectedView:i,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,isMobileDevice:v.A.mobile}),n.current=!0)},[s,e,t,r,i]),{visibleTiles:s,setVisibleTiles:a}}var __=r(885211);function _x({dropdownData:e,isFolder:t,isDropdownOpen:r,tileActions:s,selectedTiles:a,openTile:i}){let n=e?.tile??null,o=e?.index,l=tQ.v.getFeatureGate("file_browser_preload_context_menu_hover");return(0,m.jsxs)(U.fu,{name:t?sP.e0.PROJECT_TILES_VIEW_DROPDOWN:sP.e0.TILES_VIEW_DROP_DOWN,enabled:r,properties:{tileType:n?.type,tileFileId:n?.type===m9.nb.FILE?n?.file.key:void 0},children:[l&&(0,m.jsx)(__.O,{tileActions:s}),(0,m.jsx)(oP.i,{tileActions:s,tile:n,selectedTiles:a,openTile:e=>{n&&i(n,e,o)},dropdownVisible:r})]})}var _p=r(753495);function _f(){let{showing:e,show:t,data:r}=(0,oO.L)(),s=_.useCallback((e,r,s)=>{let a=m9.Tf.getId(e);_p.$.start(a),t({data:{tile:e,targetRect:{top:r.clientY,right:r.clientX,bottom:r.clientY,left:r.clientX,width:1,height:1},index:s}})},[t]);return _.useMemo(()=>({dropdownData:r,isDropdownOpen:e,openDropdown:s}),[r,e,s])}let _h="tiles_view--container--a-UV-",_g="tiles_view--planCardLayout--Ri2GC",_v="tiles_view_empty_state--emptyState--Vxcwv text--fontPos11--rO47d text--_fontBase--VaHfk",_b=function(){return(0,m.jsx)("div",{className:_h,children:(0,m.jsx)("div",{className:_v,children:(0,M.t)("file_browser.tiles_view.default_overfiltered_text")})})},_j=function({text:e,planCard:t}){return(0,m.jsx)("div",{className:_h,children:(0,m.jsxs)("div",{className:B.s.flex.$,children:[(0,m.jsx)("div",{className:_v,"data-test-id":"empty-state-text",children:e}),t]})})},_y=function({title:e=(0,M.t)("file_browser.folder.no_files_yet"),planCard:t}){return(0,m.jsx)("div",{className:_h,children:(0,m.jsxs)("div",{className:B.s.flex.$,children:[(0,m.jsx)("div",{className:"tiles_view_empty_state--importPrompt--WZQNg",children:(0,m.jsxs)("div",{className:_v,children:[(0,m.jsx)("div",{className:"tiles_view_empty_state--emptyTitle--wPxoW",children:e}),(0,M.t)("file_browser.folder.create_a_new_file_to_start_from_scratch_with_pptx")]})}),t]})})};function _w({currentProgress:e,totalAllowed:t}){return(0,m.jsxs)(s1.Y,{spacing:"auto",children:[(0,m.jsxs)("div",{className:B.s.relative.wFull.$,...{className:"x1b68738 x1n2onr6"},children:[(0,m.jsx)("div",{className:B.s.absolute.wFull.$,children:(0,m.jsx)(s1.Y,{cornerRadius:5,height:6,backgroundColor:"secondary"})}),(0,m.jsx)("div",{className:B.s.absolute.wFull.flex.itemsCenter.$,children:(0,m.jsx)(s1.Y,{cornerRadius:5,height:6,width:`${Math.min(e/t*100,100)}%`,backgroundColor:e>=t?"warning":"brand"})})]}),(0,m.jsx)("div",{...{className:"x1i0uq9b x1ok221b xp5pvr8 x4z9k3i xk50ysn x1d3mw78 x122x9cr"},children:(0,M.t)("file_browser.starter_limit_global.files_used",{numFilesUsed:e,totalFiles:t})})]})}function _E({text:e,tooltipText:t,currentProgress:r,totalProgress:s}){return(0,m.jsxs)(s1.Y,{direction:"vertical",height:"hug-contents",spacing:"7px",children:[(0,m.jsxs)(s1.Y,{horizontalAlignItems:"space-between",children:[(0,m.jsxs)(s1.Y,{spacing:4,children:[(0,m.jsx)(z.E,{fontSize:13,fontWeight:"medium",children:e}),(0,m.jsx)("div",{"data-tooltip-type":sO.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0,children:(0,m.jsx)(mE.In,{icon:"info-16",fill:"secondary"})})]}),(0,m.jsxs)(z.E,{fontSize:13,fontWeight:"medium",children:[r,"/",s]})]}),(0,m.jsxs)("div",{className:B.s.relative.wFull.$,children:[(0,m.jsx)("div",{className:B.s.absolute.wFull.$,children:(0,m.jsx)(s1.Y,{cornerRadius:5,height:5,backgroundColor:"disabled"})}),(0,m.jsx)("div",{className:B.s.absolute.wFull.$,children:(0,m.jsx)(s1.Y,{cornerRadius:5,height:5,width:`${Math.min(r/s*100,100)}%`,backgroundColor:r>=s?"warning":"brand"})})]})]})}let _T=(0,U.tf)(tU.$n);function _I(e){return(0,m.jsx)(a_.u9,{label:"StarterLimitOverview",children:(0,m.jsx)(_k,{...e})})}function _k({canEditTeam:e,isDraftsFolder:t}){let r=(0,x.wA)(),s=(0,ab.ol)(),a=(0,eW._6)(),i=(0,f.getFeatureFlags)().sites_design_starter_combined_file_limit;return t||!s||(0,it.w5)(s)||"folder"!==a.view||i?null:(0,m.jsx)(_C,{folderId:a.folderId,showPlanComparisonModal:()=>{r((0,rd.to)({type:af.V,data:{entrypoint:av.C.TEAM_PAGE_LIMIT_OVERVIEW,teamId:s.id}}))},canEditTeam:e})}function _C({folderId:e,showPlanComparisonModal:t,canEditTeam:r}){let s=(0,a6.E9)(),a=(0,E.bc)((0,tI.yU5)({projectId:e})),i=aK.h.useTrackingContext({trigger:aY.b.STARTER_LIMIT_OVERVIEW});if("loaded"!==a.status)return null;let n=a.data.project?.team?.projectsCount.status==="loaded"?a.data.project?.team?.projectsCount.data??1:1,o=a.data.project?.team?.teamFileCounts?.designFileCount??0,l=a.data.project?.team?.teamFileCounts?.whiteboardFileCount??0,d=a.data.project?.team?.teamFileCounts?.slideFileCount,c=d?parseInt(d,10):0,u=(0,et.oA)(a.data.project?.team?.teamFileCounts?.totalFileCount)??0,_=s?u>=it.WW:o>=it.WW||l>=it.WW;return(0,m.jsx)(U.fu,{name:"Starter Limit Overview",properties:i,children:(0,m.jsx)("div",{className:ee()(B.s.cursorDefault.mr32.maxW300.colorBg.$,"starter_limit_overview--responsiveHide--9jRfR"),style:ny.sx.sticky.add({alignSelf:"flex-start",top:"128px",maxWidth:s?"280px":"300px"}).$,children:(0,m.jsxs)(s1.Y,{direction:"vertical",padding:s?16:32,spacing:s?"auto":24,cornerRadius:s?13:8,strokeWidth:1,strokeColor:"default",height:"hug-contents",children:[(0,m.jsx)("div",{...{0:{},1:{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly"}}[0|!!s],children:s?(0,M.tx)("file_browser.starter_limit_global.your_plan_files"):(0,m.jsx)(z.E,{fontSize:16,fontWeight:"semi-bold",children:(0,M.tx)("file_browser.starter_limit.your_starter_team_overview")})}),(0,m.jsx)(_N,{numProjects:n,numFigmaFilesUsed:o,numFigjamFilesUsed:l,numSlidesFilesUsed:c,totalFilesUsed:u,isStarterGlobalFileLimitOn:s}),r?(0,m.jsxs)(s1.Y,{direction:"vertical",spacing:"12px",children:[s?(0,m.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xmzs88n x1xmf6yo"},children:(0,M.tx)("file_browser.starter_limit_global.description")}):(0,m.jsx)(z.E,{fontSize:13,children:(0,M.tx)(_?"file_browser.starter_limit.running_out_of_files":"file_browser.starter_limit.enough_for_you_to_get_started")}),(0,m.jsx)(_T,{onClick:t,trackingProperties:{trackingDescriptor:eb.c.VIEW_PLANS,numFiles:u},children:(0,M.tx)("upgrade.view_plans")})]}):(0,m.jsx)(z.E,{fontSize:13,children:(0,M.tx)("file_browser.starter_limit.trying_things_out")})]})})})}function _N({numProjects:e,numFigmaFilesUsed:t,numFigjamFilesUsed:r,numSlidesFilesUsed:s,totalFilesUsed:a,isStarterGlobalFileLimitOn:i}){return(0,m.jsxs)(s1.Y,{direction:"vertical",spacing:24,width:i?"100%":234,children:[i&&(0,m.jsx)(_w,{currentProgress:a,totalAllowed:it.WW}),!i&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(_E,{text:(0,M.t)("file_browser.starter_limit.projects"),tooltipText:(0,M.t)("file_browser.starter_limit.projects.tooltip"),currentProgress:e,totalProgress:it.Wf}),(0,m.jsx)(_E,{text:(0,M.t)("file_browser.starter_limit.design_files"),tooltipText:(0,M.t)("file_browser.starter_limit.design_files.tooltip"),currentProgress:t,totalProgress:it.WW}),(0,m.jsx)(_E,{text:(0,M.t)("file_browser.starter_limit.figjam_boards"),tooltipText:(0,M.t)("file_browser.starter_limit.figjam_boards.tooltip"),currentProgress:r,totalProgress:it.WW}),(0,m.jsx)(_E,{text:(0,M.t)("file_browser.starter_limit.slides"),tooltipText:(0,M.t)("file_browser.starter_limit.slides.tooltip"),currentProgress:s,totalProgress:it.WW})]})]})}var _S=r(831407),_R=r(447019);let _A="open_invoice_reminder_card--icon--jgeOf";function _F(e){let t=(0,x.wA)(),r=e.team.restrictions_list?.includes(eK.P4.LOCKED),s=e.canAdminTeam?r?(0,M.t)("billing.open_invoice_reminder.title"):(0,M.t)("billing.open_invoice_reminder.grace_period_title"):(0,M.t)("billing.open_invoice_reminder.title_viewer"),a=e.canAdminTeam?r?(0,M.t)("billing.open_invoice_reminder.locked_admin_description"):(0,M.t)("billing.open_invoice_reminder.grace_period_admin_description"):(0,M.t)("billing.open_invoice_reminder.locked_viewer_description"),i=e.canAdminTeam?(0,M.t)("billing.open_invoice_reminder.cta"):null,n={"data-tooltip-type":sO.Ib.TEXT,"data-tooltip":(0,M.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return(0,m.jsxs)(s1.Y,{direction:"vertical",padding:20*!e.noPaddingOrBorder,spacing:24,width:288,cornerRadius:e.noPaddingOrBorder?void 0:8,strokeWidth:e.noPaddingOrBorder?void 0:1,strokeColor:"default",height:"hug-contents",children:[(0,m.jsx)("div",{className:B.s.flex.justifyBetween.wFull.$,children:(0,m.jsx)("div",{className:B.s.flex.itemsCenter.justifyCenter.w32.h32.bRadius5.colorBgWarning.$,children:r?(0,m.jsx)(_S.s,{className:_A}):(0,m.jsx)(_R.R,{className:_A})})}),(0,m.jsx)("div",{className:B.s.font14.fontSemiBold.lh24.$,children:s}),(0,m.jsx)("div",{className:B.s.font13.lh24.$,children:a}),!!i&&(0,m.jsx)("div",{className:B.s.flex.justifyEnd.wFull.$,children:(0,m.jsx)(tU.IK,{onClick:()=>t(ez.sf({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:as.Iv.BILLING})),variant:"primary",...n,children:i})})]})}function _O(e){return e.team.restrictions_list?.includes(eK.P4.LOCKED)||e.canAdminTeam?(0,m.jsx)(U.fu,{name:"Open Invoice Reminder Card",properties:{teamId:e.team.id},children:(0,m.jsx)(_F,{...e})}):null}var _P=r(376217);function _L({team:e,isDraftsFolder:t,shouldShowLockedRedesign:r,shouldShowLockedProTeamRevampDesign:s}){let a=(0,eW._6)(),i="folder"===a.view?a.folderId:null,n=rw.M4.Folder.useValue(i).data,o=n?.team_id||e?.id,l=(0,E.bc)((0,tI.yQw)(o?{teamId:o}:null)),d=_.useMemo(()=>l.transform(({team:e})=>!!e?.canEdit).unwrapOr(!1),[l]),c=_.useMemo(()=>l.transform(({team:e})=>!!e?.canAdmin).unwrapOr(!1),[l]);return e&&r?(0,m.jsx)("div",{...{className:"x1hx13ah"},children:(0,m.jsx)(_P.R,{teamId:e.id,canEditTeam:d})}):e&&s?(0,m.jsx)("div",{...{className:"x1hx13ah"},children:(0,m.jsx)(_O,{team:e,canAdminTeam:c})}):(0,m.jsx)(_I,{canEditTeam:d,isDraftsFolder:t})}var _D=r(363214),_M=r(964099),_U=r(19981),_B=r(177025),_z=r(460677),_W=r(389892);function _V(){var e;let t,r,s,a,i,n=(0,eq.d)(),o=(0,x.d4)(e=>e.currentTeamId),l=(0,x.d4)(e=>e.tileSortFilterStateByView),d={trashPageActions:!0,duplicateToDrafts:!n},c=(0,eP.R)(o),u=(0,mX.xx)(e=>({tileSortFilterConfig:e,sortKeys:[nl.C0.TRASHED_AT,nl.C0.NAME,nl.C0.CREATED_AT,nl.C0.TOUCHED_AT]}))(l.deletedFiles),{creatorFilter:f,fileTypeFilter:h}=function(e){let t="your_files";switch(e.tileSortFilterConfig.filters.creator){case nl.rJ.SELF:t="your_files";break;case nl.rJ.OTHER:t="other_files";break;case nl.rJ.ANY:t="all";break;default:(0,D.xb)(e.tileSortFilterConfig.filters.creator)}let r="";switch(e.tileSortFilterConfig.filters.fileType){case nl.t2.DESIGN:r="design";break;case nl.t2.FIGJAM:r="whiteboard";break;case nl.t2.PROTOTYPE:r="prototype";break;case nl.t2.SLIDES:r="slides";break;case nl.t2.SITES:r="sites";break;case nl.t2.COOPER:r="cooper";break;case nl.t2.MAKE:r="figmake";break;case nl.t2.ANY:r="";break;default:(0,D.xb)(e.tileSortFilterConfig.filters.fileType)}return{creatorFilter:t,fileTypeFilter:r}}(u),g=(0,tk.XP)({reportErrorsToTeam:Q.FigmaTeam.WAYFINDING}),{subscription:b,fetchNextPage:j,isFetchingNextPage:y,hasNextPage:w,pageSize:T}=(e={cursor:null,creatorFilter:f,fileTypeFilter:h,sortType:u.tileSortFilterConfig.sort.key===nl.C0.TRASHED_AT?"trashed_at":"name",sortDirection:u.tileSortFilterConfig.sort.dir===nl.ue.ASC?"asc":"desc",planId:g?.key.parentId??null,planType:g?.key.type??null,queryParams:null},t=(0,E.bc)(tI.R89,{...e,firstPageSize:tm.L}),r=(0,_.useCallback)(()=>{t.data?.trashedResources?.loadNext(tm.L)},[t]),s="loaded"===t.status&&t.data.trashedResources.isLoadingNextPage,a=(0,_.useMemo)(()=>t.transform(e=>{let t=e.trashedResources;return t?t.reduce((e,t)=>{if(t.file&&t.file.trashedAt){var r;e.push((r=t.file,{type:m9.nb.FILE,file:{...r,signedPreviewThumbnailUrls:null,isClaimableFile:!1},sharedWithYouFields:null}))}else if(t.repo&&t.repo.trashedAt){let r=function(e){if(!e.sourceFile)return null;let t=_W.H.toSinatra(e);return{type:m9.nb.REPO,repo:t,branches:[oU.F.toSinatra({...e.sourceFile})],selectedBranchKey:e.sourceFile.key}}(t.repo);r&&e.push(r)}return e},[]):[]}),[t]),i=(0,x.wA)(),(0,_.useEffect)(()=>{if(a.data){let e=a.data?.filter(e=>e.type===m9.nb.FILE).map(e=>oU.F.toSinatra(e.file))||[],t=a.data?.filter(e=>e.type===m9.nb.REPO).map(e=>e.repo)||[];i(tx.uo({files:e})),i(_z.uo({repos:t}))}},[a.data,i]),{subscription:a,fetchNextPage:r,hasNextPage:(0,_.useMemo)(()=>t.data?.trashedResources?.hasNextPage()??!1,[t.data?.trashedResources]),isFetchingNextPage:s,pageSize:tm.L}),k=_l({tilesResult:b,tileSortFilterConfig:u.tileSortFilterConfig}),C=_.useCallback(()=>{y||j()},[y,j]),N=u.tileSortFilterConfig.filters,S=u.tileSortFilterConfig.sort;(0,I.kF)("TrashedFiles"),(0,I.WX)({markName:"MainBodyContent",isLoaded:"loaded"===b.status,contextArgs:{numTiles:b.transform(e=>e.length).unwrapOr(null),pageSize:T}});let R=m3({isEligbileForProTeamLockedRevampUI:c}),A=m8(R),{openDropdown:F,dropdownData:O,isDropdownOpen:P}=_f(),[L,U]=_.useState([]),z=(0,_D.p)(k.data??[],L),W=_d({sortFilterOptions:u,selectedView:(0,eW._6)()}),{visibleTiles:V,setVisibleTiles:G}=_m({viewMode:u.tileSortFilterConfig.viewMode,sortedFilteredTilesLength:k.data?.length??0});(0,m7.Cm)(V??[]);let H=(0,m.jsx)(_L,{...R,isDraftsFolder:!1}),$=(0,ab.ol)(),q=(0,_c.t)({selectedTiles:z});return(0,m.jsx)(ep.Bm,{loadingElementId:"loading-content-pane",result:a7.Qw.all([b,k]),loadingElementClassName:B.s.pr32.$,children:([e,t])=>{let r;return 0===t.length&&(r=e.length>0?(0,m.jsx)(_b,{}):(0,m.jsx)(_j,{text:(0,M.t)("file_browser.tool_bar.trashed_empty_state"),planCard:!!$&&H})),(0,m.jsxs)(_M.xj,{children:[(0,m.jsxs)(nr.B,{onShouldFetchNextPage:C,isFetchingNextPage:y,initialViewportEventOptions:{view:"TrashedFiles",viewMode:u.tileSortFilterConfig.viewMode,hasNextPage:w,pageSize:T,isMobileDevice:v.A.mobile},children:[0===t.length?r:(0,m.jsx)("div",{className:_h,children:(0,m.jsxs)("div",{className:_g,children:[(0,m.jsx)(_U.d,{checksForViewOnlyLabels:A,handleDeleteKey:q,handleOpenDropdown:F,handleOpenTile:p.lQ,items:t,listViewColumnsConfig:(0,_B.TM)(A),selectedTiles:z,setSelectedTiles:U,sortBy:W,sortConfig:u.tileSortFilterConfig.sort,updateVisibleItems:G,viewType:u.tileSortFilterConfig.viewMode}),H]})}),(0,m.jsx)(_x,{dropdownData:O,isDropdownOpen:P,tileActions:d,selectedTiles:z,openTile:p.lQ})]},`${f}-${N.fileType}-${S.key}-${S.dir}`),(0,m.jsx)(mf.cx,{})]})}})}var _G=r(389638);let _H={name:m6.f.byProperty("name",m6.f.LEXICOGRAPHICALLY),lastModified:m6.f.byProperty("folderLastUpdated"),team:m6.f.byProperty("folderTeamName",m6.f.LEXICOGRAPHICALLY),sharedAt:m6.f.byProperty("folderSharedAt"),createdAt:m6.f.byProperty("created_at"),trashedAt:m6.f.byProperty("trashed_at")};function _$({foldersResult:e,folderSortConfig:t,defaultSortKey:r}){let s=t.sort.dir===nl.ue.DESC,a=t.sort.key;return _.useMemo(()=>e.transform(e=>{let t=_H[r&&!a?r:function(e){switch(e){case nl.C0.NAME:return"name";case nl.C0.TOUCHED_AT:return"lastModified";case nl.C0.CREATED_AT:return"createdAt";case nl.C0.TRASHED_AT:return"trashedAt";case nl.C0.ACCESSED_AT:case nl.C0.SHARED_AT:return"lastModified";case nl.C0.SEARCH_RELEVANCE:case nl.C0.PROJECT_NAME:return"name";default:(0,D.xb)(e)}}(a)];if(!t)return e;let i=s?m6.f.reverse(t):t,n=e.map(e=>({...e,...(0,_G.Z)(e)}));return n.sort(i),n}),[a,r,e,s])}var _q=r(13723),_K=r(782188),_Y=r(104727),_J=r(982175),_X=r(844060);function _Q({canEditTeam:e}){var t;let r=(0,x.wA)(),s=(0,ab.ol)(),a=(0,eW.z3)(),i=(0,k.I7)("exp_fbg_project_limit_upsell"),n=aK.h.useTrackingContext({trigger:aY.b.FOLDER_UPSELL_CARD});if(t=(0,tk.X$)("FolderUpsellCard").unwrapOr(null),!t||!e||t.tier!==eK.Ag.STARTER||"recentsAndSharing"===a||"trashedFolders"===a||!i.getConfig().getValue("show_upsell",!1))return null;let o=(0,m.jsx)(sL.Us,{className:B.s.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),e.preventDefault(),r((0,rd.to)({type:af.V,data:{entrypoint:av.C.PLAN_PAGE_PROJECT_UPSELL,teamId:s?.id}}))},trackingProperties:{trackingDescriptor:eb.c.PROFESSIONAL_PLAN,...n},trusted:!0,canFocus:!0,children:(0,M.tx)("team_view.folder_upsell.professional_plan")});return(0,m.jsx)(U.fu,{name:"Folder Upsell Card",properties:n,children:(0,m.jsxs)(U.$z,{className:ee()(B.s.flex.flexColumn.alignLeft.p24.$,"folder_upsell--card--VO1se"),onClick:()=>{r((0,rd.to)({type:_X.DV,data:{team:s,resource:_J.vL.FOLDER,action:sr.ZN.CREATE_FOLDER,currentPlan:_Y.F.Plan.STARTER,upsellPlan:_Y.F.Plan.PRO,editorType:null,entryPoint:av.C.PLAN_PAGE_PROJECT_UPSELL}}))},trackingProperties:{trackingDescriptor:eb.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button",children:[(0,m.jsxs)("div",{className:B.s.relative.wFull.$,children:[(0,m.jsx)(_K.X,{FileThumbnailComponent:_Z}),(0,m.jsx)("div",{style:ny.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$,children:(0,m.jsx)("div",{className:"folder_upsell--listCardItemContainer--Q8Vm9",children:(0,m.jsx)(nk.$,{})})})]}),(0,m.jsxs)(s1.Y,{direction:"vertical",padding:{top:16},spacing:0,height:"hug-contents",children:[(0,m.jsx)(z.E,{fontSize:13,fontWeight:"medium",children:(0,M.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")}),(0,m.jsx)(z.E,{fontSize:11,color:"secondary",children:(0,M.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:o})})]})]})})}function _Z(){return(0,m.jsx)("div",{className:B.s.wFull.hFull.colorBg.$})}function _0({canEditTeam:e}){let t=(0,x.wA)(),r=(0,ab.ol)(),s=(0,eW.z3)(),a=aK.h.useTrackingContext({trigger:aY.b.FOLDER_UPSELL_CARD}),i=(0,k.I7)("exp_fbg_project_limit_upsell");if(!r||!e||(0,it.w5)(r)||"recentsAndSharing"===s||"trashedFolders"===s||!i.getConfig().getValue("show_upsell",!1))return null;let n=(0,m.jsx)(sL.Us,{className:B.s.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,rd.to)({type:af.V,data:{entrypoint:av.C.PLAN_PAGE_PROJECT_UPSELL,teamId:r?.id}}))},trackingProperties:{trackingDescriptor:eb.c.PROFESSIONAL_PLAN,...a},trusted:!0,children:(0,M.tx)("team_view.folder_upsell.professional_plan")});return(0,m.jsx)(U.fu,{name:"Folder Upsell List",properties:a,children:(0,m.jsx)("div",{className:B.s.flex.mt16.bRadius8.b1.colorBorder.$,style:ny.sx.add({borderStyle:"dashed"}).$,children:(0,m.jsxs)(U.$z,{className:ee()(B.s.flex.alignLeft.gap12.py24.px16.bRadius8.wFull.pl36.$,"folder_upsell--list--kWLfA"),onClick:()=>{t((0,rd.to)({type:_X.DV,data:{team:r,resource:_J.vL.FOLDER,action:sr.ZN.CREATE_FOLDER,currentPlan:_Y.F.Plan.STARTER,upsellPlan:_Y.F.Plan.PRO,editorType:null,entryPoint:av.C.PLAN_PAGE_PROJECT_UPSELL}}))},trackingProperties:{trackingDescriptor:eb.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button",children:[(0,m.jsxs)("div",{className:ee()(B.s.relative.flexShrink0.h40.w64.py4.px8.colorBgSecondary.bRadius4.$,"folder_upsell--listCard--ZQbAO"),children:[(0,m.jsx)("div",{style:ny.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$,children:(0,m.jsx)(s1.Y,{cornerRadius:12,backgroundColor:"brand",height:24,width:24,horizontalAlignItems:"center",verticalAlignItems:"center",children:(0,m.jsx)(nk.$,{})})}),(0,m.jsxs)(s1.Y,{direction:"vertical",spacing:4,children:[(0,m.jsxs)(s1.Y,{direction:"horizontal",spacing:4,children:[(0,m.jsx)(s1.Y,{cornerRadius:2,backgroundColor:"default"}),(0,m.jsx)(s1.Y,{cornerRadius:2,backgroundColor:"default"})]}),(0,m.jsxs)(s1.Y,{direction:"horizontal",spacing:4,children:[(0,m.jsx)(s1.Y,{cornerRadius:2,backgroundColor:"default"}),(0,m.jsx)(s1.Y,{cornerRadius:2,backgroundColor:"default"})]})]})]}),(0,m.jsxs)(s1.Y,{direction:"vertical",spacing:0,children:[(0,m.jsx)(z.E,{fontSize:13,children:(0,M.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")}),(0,m.jsx)(z.E,{fontSize:11,color:"secondary",children:(0,M.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:n})})]})]})})})}var _1=r(107783),_2=r(591861),_4=r(971703);let _5="folder_list_view--emptyState--H6elq tiles_view_empty_state--emptyState--Vxcwv text--fontPos11--rO47d text--_fontBase--VaHfk text--fontPos11--rO47d text--_fontBase--VaHfk";function _7(e){let t,r=(0,x.d4)(e=>e.dropdownShown),s=(0,x.d4)(e=>e.currentUserOrgId),a=(0,x.d4)(e=>e.user),{sortedFolderList:i}=e,n=(0,eL.vt)(e.teamId),o=!!e.teamId&&!!e.isEligbileForProTeamLockedRevampUI,l=(0,eP.jn)(),d=e.teamId?{teamId:e.teamId,isLockedTeam:!!n||l}:void 0,c=(0,_1.H)(r);return 0===i.length?(0,m.jsx)(m.Fragment,{children:e.onCreateNewFolder&&!(0,eO.R$)(a,s)?(0,m.jsx)("div",{className:_5,children:e.canEditTeamContents?(0,m.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k xou54vl"},children:[(0,m.jsx)("div",{...{className:"xk50ysn"},children:(0,M.tx)("team_view.folder_empty_view.no_projects_yet")}),(0,M.tx)("team_view.folder_empty_view.projects_help_you_organize"),(0,m.jsx)(tU.$n,{variant:"secondary",onClick:e.onCreateNewFolder,iconPrefix:(0,m.jsx)(rr.e,{}),children:(0,M.tx)("team_view.folder_empty_view.new_project")})]}):(0,M.tx)("team_view.folder_empty_view.this_team_does_not_have_any_projects_yet")}):null!=e.emptyStateText?(0,m.jsxs)("div",{...{className:"x78zum5 x1rzw5jd"},children:[(0,m.jsx)("div",{className:_5,children:e.emptyStateText}),n&&(0,m.jsx)(_P.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&o&&(0,m.jsx)(_O,{team:e.team,canAdminTeam:!!e.canAdminTeam})]}):(0,M.tx)("team_view.folder_empty_view.no_projects")}):(0,m.jsxs)(m.Fragment,{children:[(t=i.length>=2?1:1===i.length?0:void 0,(0,m.jsxs)("div",{...{className:"x78zum5 x1q0g3np"},children:[(0,m.jsxs)("div",{...{className:"xh8yej3"},children:[(0,m.jsx)(_2.m,{checksForViewOnlyLabels:d,currentPlanFilter:e.currentPlanFilter,dataOnboardingKey:"project-card",dataOnboardingKeyIndex:t,folderList:i,isSharerInfoIncluded:e.isSharerInfoIncluded,onChangeSortOptions:e.onChangeSortOptions,trailingGridElements:n||l?(0,m.jsx)(m.Fragment,{}):(0,m.jsx)(_Q,{canEditTeam:e.canEditTeamContents}),viewType:e.viewMode}),!n&&!l&&e.viewMode===nl.XU.LIST&&(0,m.jsx)(_0,{canEditTeam:e.canEditTeamContents})]}),(0,m.jsxs)("div",{className:"folder_list_view--infoCard--pq9hj",children:[n&&(0,m.jsx)(_P.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&o&&(0,m.jsx)(_O,{team:e.team,canAdminTeam:!!e.canAdminTeam})]})]})),c&&(0,m.jsx)(_4.p,{folder:c,shouldHideShareOption:!1})]})}function _3(e){let{sortedFolderList:t,...r}=e,s=(0,x.wA)(),a="trashedFolders"===e.selectedView.view,i="team"===e.selectedView.view,n=(0,x.d4)(e=>e.tileSortFilterStateByView);return(0,m.jsxs)("div",{children:[a&&n.trashedFolders.filters.role===nl.Jh.CAN_BE_VIEWED&&(0,m.jsx)("div",{...{className:"x1yztbdb x1tudf5h x1m2p0i2"},children:(0,m.jsx)(_q._,{dataTestId:"may-not-restore-or-permanently-delete-banner",color:_q.S.INFORMATION,text:(0,m.jsxs)("p",{...{className:"xk50ysn"},children:[(0,m.jsx)("span",{...{className:"x1s688f"},children:(0,M.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner")}),"\xa0",(0,M.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner_content")]})})}),(0,m.jsx)(_7,{sortedFolderList:e.sortedFolderList,chunkSize:e.chunkSize,onChangeSortOptions:t=>{if(i){let r=t.sortKey===rG.Dq.NAME?nl.C0.NAME:nl.C0.TOUCHED_AT,a=t.sortDesc?nl.ue.DESC:nl.ue.ASC;s(eU.JF({selectedView:e.selectedView,config:{...n.team,sort:{key:r,dir:a}}}))}else s(eU.ZR({viewId:e.viewId,sortMode:{sortKey:t.sortKey,sortDesc:t.sortDesc}}))},...r})]})}function _8(){let e=(0,x.d4)(e=>e.currentUserOrgId),t=(0,ab.ol)(),r=(0,E.bc)(tI.kQI,{id:t?t.id:""},{enabled:!!t?.id}),s=(0,E.bc)(tI.TNJ,{id:t?t.id:""},{enabled:!!t?.id}),a=(0,x.d4)(e=>e.tileSortFilterStateByView),i=(0,eW._6)(),n=(0,eP.R)(t?.id),o=a.trashedFolders,[l]=(0,T.IT)((0,L.p5)({orgId:e,teamId:t?.id??null,roleFilter:o.filters.role})),d=l.transform(e=>e.folders??[]),c=(0,x.d4)(e=>e.tileSortFilterStateByView.trashedFolders),u=void 0!==c.viewMode?c.viewMode:nl.XU.GRID;(0,I.kF)("TrashedFolders"),(0,I.WX)({markName:"MainBodyContent",isLoaded:"loaded"===l.status,contextArgs:{numFolders:d.transform(e=>e.length).unwrapOr(null)}});let _=_$({foldersResult:d,folderSortConfig:c,defaultSortKey:"trashedAt"}),p="loaded"===r.status&&!!r.data.team&&r.data.team.hasPermission,f="loaded"===s.status&&!!s.data.team&&s.data.team.hasPermission;return(0,m.jsx)(ep.Bm,{loadingElementId:"loading-content-pane",delay:250,result:_,loadingElementClassName:B.s.pr32.$,children:e=>(0,m.jsx)("div",{style:ny.sx.mt1.$,children:(0,m.jsx)(_3,{canAdminTeam:f,canEditTeamContents:p,chunkSize:e?.length||0,emptyStateText:(0,M.t)("file_browser.trash_project.trashed_empty_state"),isEligbileForProTeamLockedRevampUI:n,isSharerInfoIncluded:!1,selectedView:i,sortedFolderList:e||[],team:t,teamId:t?.id,viewId:m1.l,viewMode:u})})})}var _6=((u=_6||{}).FILES="files",u.FOLDERS="folders",u);function _9(e){let t=(0,eW._6)();if("deletedFiles"!==t.view&&"trashedFolders"!==t.view)return(0,m.jsx)(m.Fragment,{});let r=(0,m.jsx)(m5,{currView:t}),s="folders"===e.selectedTab?(0,m.jsx)(_8,{}):(0,m.jsx)(_V,{});return(0,m.jsx)(nI.r,{viewBarSticky:!0,viewbar:r,content:s})}var xe=r(773745);let xt=[eN.Wb3,eN.Y8P,eN.Ult,eN.kmq,eN.USq,eN.j0N,eN.Ob5,eN.w6S,eN.Qlc,eN.I$z,eN.X5_,eN.LB2,eN.Msu,eN.Ql8,eN.Q16,eN.O5v,eN.rv,eN.HaT,eN.rQs,eN.JWX,eN.PYG,eN.qIe,eN.YHe,eN.hxO,eN.sqw,eN.yjU,eN.I3H,eN.tZO,eN.LPt,eN.tUL,eN.tBR,eN.fQh,eN.O9D,eN.c6t,eN.j9$,eN.LQ8].map(e=>e.id);function xr({children:e}){return(0,m.jsx)(xe.A,{name:"FileBrowser",order:xt,children:e})}var xs=r(462198),xa=r(786348);function xi({folderId:e,enabled:t=!0}){let r=(0,x.d4)(t=>t.tileSortFilterStateByView.folders.byId[e]??t.tileSortFilterStateByView.folders.default),s=(0,_.useMemo)(()=>({fileType:xn(r.filters.fileType),sortOrder:r.sort.dir===nl.ue.ASC?"asc":"desc",sortColumn:xo(r.sort.key),pageSize:tm.L}),[r.filters.fileType,r.sort.dir,r.sort.key]),a=(0,T.IT)((0,xa.BU)({folderId:e,...s}),{enabled:t});return(0,_.useMemo)(()=>({queryResult:a,pageSize:tm.L}),[a])}let xn=e=>{switch(e){case nl.t2.DESIGN:return"design";case nl.t2.FIGJAM:return"whiteboard";case nl.t2.PROTOTYPE:return"prototype";case nl.t2.SITES:return"sites";case nl.t2.SLIDES:return"slides";case nl.t2.COOPER:return"cooper";case nl.t2.MAKE:return"figmake";case nl.t2.ANY:return"";default:(0,D.xb)(e)}},xo=e=>{switch(e){case nl.C0.NAME:return"name";case nl.C0.CREATED_AT:return"created_at";case nl.C0.TOUCHED_AT:return"touched_at";default:return(0,xs.$D)(Q.FigmaTeam.WAYFINDING,Error(`Attempting to sort by an unsupported sort key: ${e}`)),"created_at"}};var xl=r(901326),xd=r(792611);function xc(){let[e,t]=_.useState([]),r=(0,x.wA)(),s=(0,xl.k9)(()=>{let t=[];return e.forEach(e=>{switch(e.type){case m9.nb.FILE:t.push({fileKey:e.file.key});break;case m9.nb.REPO:let r=(0,m9.yF)(e);t.push({fileKey:r.key})}}),t},[e]),a=(0,E.p)(tI.hqi,s);return _.useEffect(()=>{for(let{result:e,args:t}of a)if("loaded"===e.status&&e.data){let s=(0,xd.ZF)(e.data);r(tx.Lk({fileKey:t.fileKey,users:s}))}},[a,r]),_.useMemo(()=>({setRenderedTiles:t}),[t])}var xu=r(994751);function xm({currentPlanFilter:e,currentSharedByFilter:t,viewMode:r}){let s=(0,x.wA)(),a=(0,eW._6)(),{Sprig:i}=(0,tZ.A)(),n=(0,oF.v)();return _.useCallback((o,l,d)=>{o.type===m9.nb.FILE&&(s(L.UN({fileKey:o.file.key,entrypoint:"file tile",currentPlanFilter:e,currentSharedByFilter:t,viewMode:r===nl.XU.LIST?"list":"grid",sprig:i})),"recentsAndSharing"===a.view&&a.tab===xu.G.RECENTLY_VIEWED&&s(L.T5({index:d})),j.eD&&(0,sJ.sx)("Open File Click",{fileKey:o.file.key,fileRepoId:o.file.fileRepoId,uiSelectedView:JSON.stringify(a)})),n(o,l)},[n,s,e,t,r,i,a])}var x_=r(964680),xx=r(747880),xp=r(596690),xf=r(597201);function xh(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.teams)[e.teamId].subscription,s=e.paymentRequiresAction;return(0,_.useEffect)(()=>{ir.T.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,oY.FJ)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,_.useEffect)(()=>{s||r===eK.Qh.INCOMPLETE||t(rd.ES({type:xg.type}))},[r,t,s]),(0,m.jsx)(sU.Dd,{title:(0,M.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,M.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:eb.c.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"},children:(0,M.tx)("payments.pending_subscription_modal_description")})}let xg=(0,ro.Ju)(function(e){return(0,m.jsx)(a_.u9,{label:"PendingSubscriptionChangeModal",children:(0,m.jsx)(xh,{...e})})},"PENDING_SUBSCRIPTION_CHANGE_MODAL");var xv=r(906779);let xb="banners--warn--UON0z",xj="banners--primaryCtaButton--J2wsb",xy="banners--content--j7Ykq",xw="banners--titleSmall--Q0nxs",xE="banners--bold--PGLPE",xT="banners--message--4soyx",xI="banners--messageSmall--ElLtH",xk="banners--secondaryCtaButton--yDtus",xC="banners--ctaButtonGroup--BBDhU",xN="banners--closeButton--x7UOM",xS="banners--teamBannerWithBackground--v5Zkp banners--banner--fu3pc",xR="banners--teamUpgradeNotice--8qlk3",xA="banners--softWarningBanner--cXjhK",xF="banners--softWarningBannerBlue--wm57n";var xO=r(123161),xP=r(422342),xL=r(776992),xD=r(129530);function xM(e,t){let r=(0,tk.px)(),s=(0,tk.j_)(r),a=(0,tk.Kd)(r);return _.useMemo(()=>a7.Qw.transformAll([s,a],(r,s)=>(function(e,t,r,s){let a;if(!e.currentUserOrgId||!(0,it.wn)(e.currentUserOrgId,e))return null;let i=e.orgById[e.currentUserOrgId];if(!i)return null;let n=i.past_due_at&&(0,ej.A)(i.past_due_at).add(2,"weeks")>(0,ej.A)(new Date);if(!r&&n)return null;let o=e.orgUsersByOrgId[e.currentUserOrgId]??{},l=(0,eT.zR)(o).map(e=>(0,m.jsxs)("span",{className:xE,children:[e.user.handle," (",e.user.email,")"]},e.id));return a=r?i.billing===xf.EZ.CHARGE_IMMEDIATELY?(0,M.tx)("payments.org_past_due_on_payment",{invoice:(0,m.jsx)("a",{onClick:()=>{t?.(ez.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:tt.J7.BILLING}))},children:(0,M.tx)("payments.outstanding_invoice")}),orgName:i.name}):(0,M.tx)("payments.org_past_due_on_payment_invoiced",{email:(0,m.jsx)("b",{className:xE,children:(0,lF.supportEmail)()}),orgName:i.name}):(0,M.tx)("payments.please_reach_out_to_org_admins",{orgName:i.name,admins:s&&(0,m.jsxs)("span",{children:[" ",(0,m.jsx)(xx.T,{formatType:"disjunction",children:l})]}),numAdmins:l.length}),{severity:xv.c.WARN,title:(0,M.t)("payments.payment_not_received"),message:a,cta:null,onClickCta:null}})(e,t,r,s)),[s,a,t,e])}function xU(e){return e?.status==="open"&&!!e.payment_intent&&[sr.pk.REQUIRES_ACTION,sr.pk.REQUIRES_SOURCE_ACTION].includes(e.payment_intent.status)}function xB(e,t,r,s,a){let i,n=(i=(0,E.bc)((0,tI.yQw)(r?{teamId:r}:null)),_.useMemo(()=>"disabled"===i.status?a7.Qw.loaded({canAdmin:!1,canEdit:!1}):i.transform(({team:e})=>({canAdmin:e?.canAdmin??!1,canEdit:e?.canEdit??!1})),[i])),o=xM(s,a);return _.useMemo(()=>a7.Qw.transformAll([o,n],(i,n)=>i||function(e,t,r,s,a,i){var n,o;let l,d=r?s.teams[r]:null;if(r&&!d||"file"===e)return null;let c=d&&d.subscription===eK.Qh.GRACE_PERIOD,u=s.billingSummary,_=d?.subscription===eK.Qh.INCOMPLETE,x=!!d?.org_id,p=!!d?.subscription,h=c&&!x&&p&&(xU(u?.last_monthly_invoice)||xU(u?.last_annual_invoice)),g=d&&(_||h),b=d&&d.subscription===eK.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,j=i.canAdmin,y=i.canEdit,E=d&&(0,it.oc)(d.id,s),T="folder"===e?t:null,I="folder"===e&&!T,k=(0,lF.default)().is_limited_team_plan&&I,C=d&&!(0,it.n0)(d)&&!d.student_team&&T&&!(0,rj.Gi)(T),N=C&&T.is_invite_only,S=C&&T.is_view_only,R=T&&(0,rj.sp)(T),A=e=>()=>a?.(c2.WX({teamId:d.id,selectedView:s.selectedView,entryPoint:e})),F=()=>w.Ay.redirect("/education/apply",v.A.isIpadNative?void 0:"_blank"),O=()=>a?.((0,rd.to)({type:af.V,data:{entrypoint:av.C.TEAM_PAGE_LOCKED_TOO_MANY_PROJECTS_BANNER}})),P=(0,it._b)(d),L=d&&d.subscription_raw!==eK.Qh.OK&&(0,it.WQ)(d)&&j&&P,D=["team","folder"].includes(e)&&y&&(0,ab.cU)(d),U=y&&(n=d,o=s.userTeamFlags,l=n&&o[n.id]?.dismissed_legacy_team_upgrade_notice_banner,(0,ab.zs)(n)&&!l),B=(0,eO.R$)(s.user,s.currentUserOrgId),z=0,W={showReminder:!1,showAccessRestricted:!1},V={showExpiringSoon:!1,showExpired:!1};if(s.user){let e=(0,a3.cn)(s.user),t=s.userEduGracePeriods,r=s.currentTeamId;r&&(W=(0,a3.GU)(t,e,r,!!s.teams[r]?.student_team),z=(0,a3.qS)(t,r)),V=(0,a3.oM)(s.eduPeriodEnd,e,d?.student_team_state,!!E)}let G=d&&d.student_team_state===eK.kU.STUDENT_TEAM_EXPIRED&&E,H=d&&V.showExpiringSoon,$=d&&V.showExpired,q=(0,ag.l)(s.eduPeriodEnd),K=(0,ag.lr)(),Y=()=>{a?.(rd.to({type:aj.Z}))};if(b)return{severity:xv.c.WARN,title:(0,M.t)("payments.locked"),message:j?(0,m.jsx)("span",{children:(0,M.tx)("payments.no_monthly_sub_over_editor_limit_admin.seat_rename",{contactSupport:(0,m.jsx)("a",{href:`mailto:${(0,lF.supportEmail)()}`,children:(0,M.tx)("payments.contact_support")})})}):(0,m.jsx)("span",{children:(0,M.tx)("payments.no_monthly_sub_over_editor_limit.seat_rename")}),cta:j?(0,M.t)("payments.manage_plan"):null,onClickCta:j?()=>{a?.(ez.sf({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:as.Iv.SETTINGS}))}:null};if(k)return{severity:xv.c.WARN_SOFT,title:(0,M.tx)("file_browser.limited_space_banner.heading"),message:(0,M.tx)("file_browser.limited_space_banner.description"),cta:null,hideIcon:!0,bannerClassName:"banners--limitedSpaceBanner--AtOSJ"};if(q&&H)return{severity:xv.c.WARN_SOFT,title:(0,M.tx)("edu.sidebar_section.all_education_accounts_must_reverify",{offboardingDate:K,linkLearnMore:null}),message:(0,M.tx)("edu.banner.to_keep_using_pro_features",{linkVerify:(0,m.jsx)(sL.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,M.tx)("edu.banner.verify_your_education_status")})}),cta:(0,M.tx)("edu.banner.learn_more"),onClickCta:Y,svg:xO.A,bannerClassName:`${xA} ${xF}`,trackingContextName:"Edu Offboarding Banner Expiring Soon New Reverification"};if(q&&$)return{severity:xv.c.WARN_SOFT,title:(0,M.tx)("edu.banner.your_education_status_has_expired"),message:(0,M.tx)("edu.banner.to_keep_using_pro_features_no_link"),cta:(0,M.tx)("edu.banner.learn_more"),onClickCta:Y,svg:xO.A,bannerClassName:xA,trackingContextName:"Edu Offboarding Banner Expired New Reverification"};if(H)return{severity:xv.c.WARN_SOFT,title:(0,M.tx)("edu.banner.your_education_status_is_expiring_soon"),message:(0,M.tx)("edu.banner.to_keep_collaborating_upgrade_team",{teamName:d.name,verify:(0,m.jsx)(sL.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,M.tx)("edu.banner.verify_your_education_status")})}),cta:(0,M.tx)("edu.banner.learn_more"),onClickCta:Y,svg:xO.A,bannerClassName:`${xA} ${xF}`,trackingContextName:"Edu Offboarding Banner Expiring Soon"};else if($)return{severity:xv.c.WARN_SOFT,title:(0,M.tx)("edu.banner.your_education_status_has_expired"),message:(0,M.tx)("edu.banner.you_can_no_longer_edit_files",{teamName:d.name}),cta:(0,M.tx)("edu.banner.learn_more"),onClickCta:Y,svg:xO.A,bannerClassName:xA,trackingContextName:"Edu Offboarding Banner Expired"};else if(G)return{severity:xv.c.WARN_SOFT,title:(0,M.tx)("edu.banner.team_s_education_status_has_expired",{teamName:d.name}),message:(0,M.tx)("edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"),cta:null,svg:xO.A,bannerClassName:xA,trackingContextName:"Edu Offboarding Banner"};else if(B){let e=s.user.external_restricted_org_id,t=(0,M.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(e&&s.orgById[e]){let r=s.orgById[e];t=(0,M.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:r.name})}return{severity:xv.c.WARN,title:(0,M.t)("external_collaboration_restricted.banner.title"),message:t,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}else if(W.showAccessRestricted)return{severity:xv.c.ANNOUNCEMENT,title:(0,M.t)("banner.edu_grace_period.verify_your_education_status"),message:(0,M.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),cta:(0,M.t)("banner.edu_grace_period.verify_status_button"),onClickCta:F,svg:xO.A,bannerClassName:xR,trackingContextName:"Edu Grace Period Restricted Banner"};else if(W.showReminder)return{severity:xv.c.ANNOUNCEMENT,title:(0,M.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:z}),message:(0,M.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,M.t)("banner.edu_grace_period.verify_status_button"),onClickCta:F,svg:xD.A,trackingContextName:"Edu Grace Period Reminder Banner"};else if(N||S)return{severity:xv.c.WARN,title:(0,M.t)("payments.folder_locked"),message:(0,M.t)("payments.folder_locked_description",{projectType:"Invite"==(N?"Invite":"View")?(0,M.t)("payments.invite_only_projects"):(0,M.t)("payments.view_only_projects"),teamName:d.name}),learnMoreUrl:"/pricing",cta:y?(0,M.t)("payments.upgrade_now"):(0,M.t)("payments.contact_admin_for_details"),ctaTrackingProperties:y?{trackingDescriptor:eb.c.UPGRADE_NOW,upsellSource:aY.b.BANNER}:void 0,onClickCta:y?A((0,c4.cH)(av.C.PROJECT_PAGE_LOCKED_TEAM_BANNER)):null};else if(R&&"folder"===e)return{severity:xv.c.WARN,title:(0,M.t)("payments.abandoned_project"),message:(0,M.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if(U){let e=(0,M.t)("payments.file_limit_unified",{figmaFiles:it.WW,figjamFiles:it.WW});D?U||(e=(0,M.t)("payments.file_limit_figjam",{figjamFiles:it.WW})):e=(0,M.t)("payments.file_limit_figma",{figmaFiles:it.WW});let t=()=>(0,m.jsx)("button",{type:"button",onClick:O,className:"banners--bannerInlineTextButton--omxXr",children:(0,M.tx)("payments.check_out_our_paid_plans")}),r=null;return r=d?(0,f.getFeatureFlags)().sites_design_starter_combined_file_limit?(0,m.jsx)("span",{children:(0,M.tx)("payments.team_over_starter_team_limit_with_button.legacy_team_without_mentioning_file_limit",{checkoutOurPlans:t(),teamName:d.name})}):(0,m.jsx)("span",{children:(0,M.tx)("payments.team_over_starter_team_limit_with_button.legacy_team",{fileLimitString:e,checkoutOurPlans:t(),teamName:d.name})}):(0,f.getFeatureFlags)().sites_design_starter_combined_file_limit?(0,m.jsx)("span",{children:(0,M.tx)("payments.team_over_starter_team_limit_with_button.no_legacy_team_present.without_mentioning_file_limit",{checkoutOurPlans:t()})}):(0,m.jsx)("span",{children:(0,M.tx)("payments.team_over_starter_team_limit_with_button.no_legacy_team_present",{fileLimitString:e,checkoutOurPlans:t()})}),{severity:xv.c.ANNOUNCEMENT,title:(0,M.t)("payments.team_over_starter_team_limit_title"),message:r,cta:(0,M.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:eb.c.UPGRADE_NOW,upsellSource:aY.b.BANNER},onClickCta:A((0,c4.cH)(av.C.UNIFIED_FILE_LIMIT_BANNER)),svg:xL.A,bannerClassName:xR,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(L){let e,t=(0,ej.A)(d.grace_period_end).toDate(),r=(0,M.tx)("payments.pro_plan_ends_relative_time_string",{relative_time_string:(0,m.jsx)(oQ.h1,{date:t})});return P||(r=(0,M.tx)("payments.pro_plan_ends_on_date",{end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(t)})),{severity:xv.c.ANNOUNCEMENT,title:r,message:(0,M.t)("payments.pro_plan_ends_for_team_description",{teamName:d.name}),cta:(0,M.t)("payments.pro_plan_ends_button"),onClickCta:(e=(0,c4.cH)(av.C.FILE_BROWSER_PROMO_CODE_EXPIRATION_BANNER),()=>a?.(c2.WX({teamId:d.id,openInNewTab:!1,selectedView:{view:"team",teamId:d.id},entryPoint:e}))),svg:P?xL.A:xP.A,trackingContextName:"Promo Code Expiration Banner",bannerClassName:P?xR:void 0}}else if(g){let e=_?(0,M.t)("payments.complete_team_payment_description",{teamName:d.name}):(0,M.t)("payments.complete_team_renewal_payment_description");return{severity:xv.c.WARN,title:(0,M.t)("payments.complete_payment"),message:e,cta:(0,m.jsx)(xp.V,{trackingProperties:{trackingDescriptor:eb.c.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>a?.(rd.to({type:xg,data:{teamId:r,paymentRequiresAction:!!h}})),children:(0,M.tx)("payments.complete_payment_cta")}),onClickCta:null}}return null}(e,t,r,s,a,n)),[o,n,e,t,r,s,a])}function xz(e){let t=(0,e$.FC)(),r=(0,x.d4)(e=>e.userEduGracePeriods),s=(0,x.d4)(e=>e.userFlags),a=(0,x.d4)(e=>e.userTeamFlags),i=(0,x.d4)(e=>e.selectedView),n=(0,x.d4)(e=>e.isFreeUser),o=(0,x.d4)(e=>e.userAnalyticsData),l=(0,E.Rs)(tI.UpR,{}),d=_.useMemo(()=>({...t,checks:e.checks,isFreeUser:n,selectedView:i,userAnalyticsData:o,userEduGracePeriods:r,userFlags:s,userTeamFlags:a,eduPeriodEnd:l.data?.currentUser?.eduPeriodEnd}),[t,e.checks,n,i,o,r,s,a,l]);return xB(e.resourceType||eK.vt.FOLDER,e.resource||null,e.teamId||null,d,null).transform(e=>!!e)}function xW(e,t){let r={...e};return"string"==typeof t.title&&(r.title=t.title),"string"==typeof t.message&&(r.message=t.message),r}var xV=r(293216),xG=r(399374);let xH=(0,m.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",children:[(0,m.jsx)("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),(0,m.jsx)("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48",children:(0,m.jsx)("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})}),(0,m.jsx)("g",{mask:"url(#mask0_4:25)"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"})]});function x$(e){let{title:t,message:r,cta:s,ctaTrackingProperties:a,learnMoreUrl:i,onClickCta:n,severity:o,secondaryCTA:l,secondaryOnClickCta:d,svg:c,trackingContextName:u="Banner",contentStyles:_,reverseCtas:x,dismissible:p,onClose:f}=e;return o===xv.c.ANNOUNCEMENT?(0,m.jsx)(U.fu,{name:u,properties:{severity:o,...e.tracking},children:(0,m.jsxs)("div",{className:xy,children:[c&&(0,m.jsx)(sF.B,{svg:c,useOriginalSrcFills_DEPRECATED:!0}),(0,m.jsxs)("div",{className:xT,children:[(0,m.jsx)("div",{className:xw,children:t}),(0,m.jsx)("div",{className:xI,children:r})]}),(0,m.jsxs)(sL.e2,{reversed:x,className:xC,children:[n&&(0,m.jsx)(sL.vd,{className:xj,onClick:n,trackingProperties:a,children:s}),d&&(0,m.jsx)(sL.tM,{className:xk,onClick:d,children:l}),p&&f&&(0,m.jsx)(aE.Jn,{className:xN,onClick:f})]})]})}):o===xv.c.EVENT?(0,m.jsx)(U.fu,{name:u,properties:{severity:o,...e.tracking},children:(0,m.jsxs)("div",{className:`${xy} ${_}`,children:[(0,m.jsx)("div",{className:"banners--eventMegaphoneIcon--WvSre",children:xH}),(0,m.jsxs)("div",{className:xT,children:[(0,m.jsx)("p",{className:xw,children:t}),(0,m.jsx)("p",{className:xI,children:r})]}),(0,m.jsxs)(sL.e2,{className:xC,children:[n&&(0,m.jsx)(sL.vd,{className:xj,onClick:n,trackingProperties:a,children:s}),d&&(0,m.jsx)(sL.tM,{className:xk,onClick:d,children:l}),p&&f&&(0,m.jsx)(aE.Jn,{className:xN,onClick:f})]})]})}):(0,m.jsx)(U.fu,{name:u,properties:{severity:o,...e.tracking},children:(0,m.jsxs)("div",{className:`${xy} ${_}`,children:[!e.hideIcon&&(0,m.jsx)(sF.B,{svg:xG.A,className:"banners--warningIcon--A670b",svgWidth:o===xv.c.WARN_SOFT?"16px":void 0,svgHeight:o===xv.c.WARN_SOFT?"16px":void 0}),(0,m.jsxs)("div",{className:xT,children:[(0,m.jsx)("span",{className:"banners--title--ylcZM",children:t}),r,i&&(0,m.jsxs)("span",{children:["\xa0",(0,m.jsx)("a",{target:"_blank",rel:"noopener",href:i,children:(0,M.tx)("payments.learn_more")})]})]}),(0,m.jsxs)(sL.e2,{reversed:x,className:xC,children:[n&&(0,m.jsx)(sL.vd,{className:xj,onClick:n,trackingProperties:a,children:s}),!n&&(0,m.jsx)("div",{className:"banners--ctaMessage--WfkGk",children:s}),p&&f&&(0,m.jsx)(aE.Jn,{className:xN,onClick:f})]})]})})}function xq(e){return(0,m.jsx)(a_.u9,{label:"FolderBanner",children:(0,m.jsx)(xK,{...e})})}function xK(e){let t,r=(0,x.wA)(),s=(0,x.d4)(e=>e.folders),a=(0,x.d4)(e=>e.teams),i=(0,x.d4)(e=>e.userFlags),n=(0,x.d4)(e=>e.userTeamFlags),o=(0,x.d4)(e=>e.selectedView),l=(0,x.d4)(e=>e.isFreeUser),d=(0,x.d4)(e=>e.userAnalyticsData),c=(0,x.d4)(e=>(0,iA.getPermissionsState)(e)),u=(0,E.bc)(tI.UpR,{}),p=e.folderId?s[e.folderId]:null,f=p?p.team_id:null,h=f?a[f]:null,g=!!h?.org_id,v=!!h?.subscription,b=(0,E.bc)((0,tI.Ywy)(f?{teamId:f}:null)),j=_.useMemo(()=>b.transform(({team:e})=>!!e?.canAdmin),[b]).unwrapOr(!1);(0,_.useEffect)(()=>{f&&!g&&v&&j&&r(xV.Be({teamId:f}))},[r,f,g,v,j]);let y=(0,x.d4)(e=>e.teamBilling?.summary),w=xB(eK.vt.FOLDER,p??null,f,{eduPeriodEnd:u.data?.currentUser?.eduPeriodEnd,billingSummary:y,userFlags:i,userTeamFlags:n,selectedView:o,isFreeUser:l,userAnalyticsData:d,...c},r).unwrapOr(null);if(!w)return(0,m.jsx)("div",{});t=p?xW({resourceType:eK.vt.TEAM,teamId:f,folderId:p.id},w):xW({resourceType:"recents"},w);let T=w.severity===xv.c.WARN?xb:"",I=w.bannerClassName||"",k=`${xS} ${T} ${I}`;return(0,m.jsx)("div",{className:k,children:(0,m.jsx)(x$,{...w,tracking:t})})}function xY(){let e,t,r,s,a=(0,x.wA)(),i=(0,x.d4)(e=>e.currentUserOrgId),n=(0,x.d4)(e=>e.currentTeamId),o=(t=(0,x.d4)(e=>e.currentUserOrgId),r=(0,x.d4)(e=>e.currentTeamId),"loaded"===(s=(0,E.bc)((0,tI._aE)({currentOrgId:t,currentTeamId:r}))).status?s.data:null);i?e=o?.currentUser.baseOrgUser?.draftsProject:n&&(e=o?.currentUser.currentTeamUser?.draftsProject);let l=(0,x.d4)(e=>e.tileSortFilterStateByView),d=(0,eW._6)();if(!o||!e)return(0,m.jsx)(mQ,{viewbarActions:[]});let c="deletedFiles"===d.view?(0,mX.xx)(m2)(l):(0,mX.xx)(rj.ZN)(e.id,l),u=[(0,m.jsx)(mZ.ye,{config:c.tileSortFilterConfig},0),(0,m.jsx)(mZ.mc,{dispatch:a,options:c,selectedView:d},1),(0,m.jsx)(m0.$c,{initialViewMode:c.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,sJ.sx)("file view toggle",{viewType:e===nl.XU.GRID?"grid":"list"}),a(eU.JF({selectedView:d,config:{...c.tileSortFilterConfig,viewMode:e}}))}},2)];return(0,m.jsx)(mQ,{viewbarActions:u})}let xJ={open:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},xX=(0,mX.xx)(rj.ZN);function xQ(e){let{sortFilterOptions:t,selectedBranchKeyByRepoId:r}=(0,a5.R)(t=>({sortFilterOptions:xX(e.folderId,t.tileSortFilterStateByView),selectedBranchKeyByRepoId:t.selectedBranchKeyByRepoId})),s=(0,x_.Rp)(),a=(0,x.d4)(({currentUserOrgId:e})=>e),i=(0,k.I7)("exp_aa_test_org_drafts");a&&i.getConfig();let{queryResult:[n,o],pageSize:l}=xi({folderId:e.folderId}),d=n.data?.folder,c=(0,eP.R)(d?.team_id),u=xz({resourceType:eK.vt.FOLDER,resource:d,teamId:d?.team_id||null}).unwrapOr(!1),p=_.useCallback(()=>{!n.isFetchingNextPage&&n.hasNextPage&&o.fetchNextPage()},[n.isFetchingNextPage,n.hasNextPage,o]),f=_.useMemo(()=>n.transform(e=>{let t=(e.files||[]).map(e=>(0,m9.fA)(e)),i=e.filesByRepoId||{};return[...t,...(e.repos||[]).map(e=>({type:m9.nb.REPO,repo:e,branches:i[e.id],selectedBranchKey:r[e.id]||""})),...Object.values(s).filter(e=>e.orgId===a).map(m9.gB)]}),[a,n,s,r]),h=_l({tilesResult:f,tileSortFilterConfig:t.tileSortFilterConfig,isDataPartial:!!n.hasNextPage,isDraftsFolder:!0}),g="loaded"===f.status,b=m3({isEligbileForProTeamLockedRevampUI:c}),j=m8(b),y=t.tileSortFilterConfig.viewMode??nl.XU.GRID,w=xm({viewMode:y}),{openDropdown:E,dropdownData:T,isDropdownOpen:C}=_f(),[N,S]=_.useState([]),R=(0,_D.p)(h.data??[],N),A=_d({sortFilterOptions:t,selectedView:(0,eW._6)()}),{visibleTiles:F,setVisibleTiles:O}=_m({viewMode:t.tileSortFilterConfig.viewMode,sortedFilteredTilesLength:h.data?.length??0});(0,m7.Cm)(F??[]);let{setRenderedTiles:P}=xc(),L=(0,m.jsx)(_L,{...b,isDraftsFolder:!0}),D=(0,e$.FC)(),z=_.useMemo(()=>(0,eO.R$)(D.user,D.currentUserOrgId),[D]),W=(0,_c.v)({selectedTiles:R}),V=(0,m.jsx)(ep.Bm,{loadingElementId:"loading-content-pane",result:a7.Qw.all([f,h]),loadingElementClassName:B.s.pr32.$,children:([e,r])=>{let s;return 0===r.length&&(e.length>0?s=(0,m.jsx)(_b,{}):z||(s=(0,m.jsx)(_y,{title:(0,M.t)("file_browser.folder.no_files_yet"),planCard:L}))),(0,m.jsx)(_M.xj,{children:(0,m.jsxs)(nr.B,{onShouldFetchNextPage:p,isFetchingNextPage:n.isFetchingNextPage,initialViewportEventOptions:{view:"Drafts",viewMode:y,hasNextPage:n.hasNextPage||!1,pageSize:l,isMobileDevice:v.A.mobile},children:[0===r.length?s:(0,m.jsx)("div",{className:_h,children:(0,m.jsxs)("div",{className:_g,children:[(0,m.jsx)(_U.d,{checksForViewOnlyLabels:j,handleDeleteKey:W,handleOpenDropdown:E,handleOpenTile:w,items:r,listViewColumnsConfig:(0,_B.l1)(j),selectedTiles:R,setSelectedTiles:S,sortBy:A,sortConfig:t.tileSortFilterConfig.sort,updateRenderedItems:P,updateVisibleItems:O,viewType:t.tileSortFilterConfig.viewMode}),L]})}),(0,m.jsx)(_x,{dropdownData:T,isDropdownOpen:C,tileActions:xJ,selectedTiles:R,openTile:w}),(0,m.jsx)(mf.cx,{})]},`${t.tileSortFilterConfig.filters.fileType}`)})}});return(0,I.kF)("Drafts"),(0,I.WX)({markName:"MainBodyContent",isLoaded:g,contextArgs:{numFiles:n.transform(e=>e.files.length).unwrapOr(null),pageSize:l}}),(0,U.T8)((0,m.jsx)(nI.r,{viewBarSticky:!0,banner:u?(0,m.jsx)(xq,{folderId:e.folderId}):void 0,content:V,viewbar:(0,m.jsx)(xY,{})}),sP.e0.FILE_BROWSER,{view:"drafts"})}function xZ({org:e,currentResourceId:t,hasTrailingDivider:r}){let s=(0,x.wA)();return(0,m.jsx)(ll.J5,{text:e.name,onClick:r=>{s(ez.sf({view:"org",orgId:e.id,orgViewTab:tB.X.HOME})),(0,nW.Cu)({clickedResourceType:"org",clickedResourceId:e.id,currentResource:t,orgId:e.id})},hasTrailingDivider:r})}var x0=r(69806);function x1({planEntity:e}){return(0,m.jsxs)(s1.Y,{spacing:4,children:[(0,m.jsx)(x0.H,{entityId:e.id,entityName:e.name,imgUrl:e.imgUrl??void 0}),(0,m.jsx)(z.E,{fontSize:13,color:"secondary",children:e.name})]})}function x2({team:e,currentResourceId:t,orgId:r,hasTrailingDivider:s}){let a=(0,x.wA)();return(0,m.jsx)(ll.J5,{text:e.name,onClick:s=>{a(ez.sf({view:"team",teamId:e.id})),(0,nW.Cu)({clickedResourceType:"workspace",clickedResourceId:e.id,currentResource:t,orgId:r})},hasTrailingDivider:s})}var x4=r(651528);function x5({workspace:e,currentResourceId:t,orgId:r,hasTrailingDivider:s}){let a=(0,x4.$)(),i=e.id===nx.O,n=!e.canRead;return(0,m.jsx)(ll.J5,{text:i?(0,M.t)("breadcrumbs.unassigned_license_group"):n?(0,M.t)("breadcrumbs.private_workspace_ellipses"):e.name,onClick:s=>{a(e.id,s),(0,nW.Cu)({clickedResourceType:"workspace",clickedResourceId:e.id,currentResource:t,orgId:r})},hasTrailingDivider:s,disabled:i||n})}function x7({folderId:e}){let t,r=(0,E.bc)(tI.L8O,{projectId:e}),s=r.data?.project||null,a=(0,eo.dq)(),i=(0,tk.X$)("FolderPageBreadcrumbs").unwrapOr(null),n=i?.key.type===eK.OL.ORG;if(!s?.team)return null;t=n||s.team.org?a!==s.team.org?.id:!s.team.canRead;let o={...s.team,name:s.teamLimitedInfo?.name||"",imgUrl:s.teamLimitedInfo?.imgUrl??null};if(t)return(0,m.jsx)(x1,{planEntity:s.team.org??o});let l=(0,ec.Zr)(s.team.org);return(0,m.jsxs)(ll.A5,{children:[s.team.org&&(0,m.jsx)(xZ,{org:s.team.org,currentResourceId:s.id,hasTrailingDivider:!0}),(s.team.workspace||l)&&s.team.org&&(0,m.jsx)(x5,{workspace:s.team.workspace??{id:nx.O},currentResourceId:s.id,orgId:s.team.org.id,hasTrailingDivider:!0}),(0,m.jsx)(x2,{team:{id:s.team.id,name:s.teamLimitedInfo?.name||""},currentResourceId:s.id,orgId:s.team.org?.id,hasTrailingDivider:!1})]})}var x3=r(425085),x8=r(953236),x6=r(47550),x9=r(555318);let pe=(0,op.fc)(eK.eD),pt=(0,op.fc)(eK.PQ),pr=(0,x9.x1)(rG.lH,e=>({id:e.camel(),name:e.camel(),description:e.camel(),path:e.camel(),team_id:e.camel(),org_id:e.camel(),updated_at:e.camel().stringToDate(),created_at:e.camel().stringToDate(),is_invite_only:e.camel(),is_view_only:e.camel(),deleted_at:e.stringToDateNullable().camel(),trashed_at:e.stringToDateNullable().camel(),trashed_user_id:e.camel(),is_abandoned_drafts:e.camel(),sharing_audience_control:e.custom({toLiveGraph:e=>pt.parse(e),toSinatra:e=>e}).camel(),team_access:e.custom({toLiveGraph:e=>pe.parse(e),toSinatra:e=>e}).camel(),resource_connection:e.custom({toLiveGraph:e=>e?[{...e}]:null,toSinatra:e=>{let t=(0,x6.unwrap)(e)??null;return t&&t.length>0?{hostPlanName:t[0]?.hostPlanName||"",connectedPlanName:t[0]?.connectedPlanName||""}:null}}).rename("activeProjectResourceConnections"),workspace_id:e.custom({toLiveGraph:e=>e??null,toSinatra:e=>e}).camel(),touched_at:e.drop(),shared_at:e.drop(),shared_by:e.drop(),org_or_team_id:e.drop(),parent_org_id:e.drop(),shared_by_user:e.drop(),parent_org:e.drop(),parent_team:e.drop(),team_name:e.drop(),is_editable:e.drop(),is_connected_project:e.drop(),has_pending_connection_invite:e.drop(),is_subscribed:e.drop(),is_favorited:e.drop()}));(0,x9.xi)((e,t,r)=>[e()(pr),t(pr)(),r(pr)()]),(0,x9.xi)((e,t,r)=>[e()(pr),t(pr)(),r(pr)()]);let ps="seen_folder_settings_disconnected_project_share_copy_onboarding",pa="FOLDER_SETTINGS_DISCONNECTED_PROJECT_SHARE_COPY_ONBOARDING_KEY",pi=(0,eE.r1)(ps);function pn({folderId:e}){let t=(0,ev.md)(pi),[r]=(0,T.IT)((0,tI.eQD)({projectId:e})),s=_.useMemo(()=>r.transform(e=>{let t=e.project;if(!t)return!1;let r=t.mostRecentResourceConnection,s=!!r&&!!r.disconnectedAt,a=!!r&&!r.assetTransferRequestId,i=t.canTransferCopy;return s&&a&&i}),[r]),{show:a,isShowing:i,complete:n}=(0,ew.e)({overlay:eN.j9$,priority:eI.N.DEFAULT_MODAL},[t,s]);return(0,h.h)(()=>{a({canShow:(e,t)=>!e&&t})}),(0,m.jsx)(ek.rq,{arrowPosition:eC.F_.TOP,clickOutsideToHide:!0,description:(0,m.jsx)(po,{result:r}),emphasized:!0,isShowing:i,onClose:n,primaryCta:{label:(0,M.tx)("general.got_it"),ctaTrackingDescriptor:eb.c.GOT_IT,type:"button",onClick:n},shouldCenterArrow:eC.EL.FALLBACK,targetKey:pa,title:(0,M.tx)("resource_connection.onboarding.share_a_project_copy_onboarding_title"),trackingContextName:"seen folder settings disconnected project share copy onboarding overlay",userFlagOnShow:ps})}function po({result:e}){let t=e.data?.project?.mostRecentResourceConnection;if(!t)return null;let r=e=>(0,m.jsx)("span",{className:"folder_settings_disconnected_project_share_copy_onboarding_overlay--planName--6ABM4",children:e});return(0,m.jsx)("div",{className:"folder_settings_disconnected_project_share_copy_onboarding_overlay--descriptionText--hwA1i",children:(0,M.tx)("resource_connection.onboarding.share_a_project_copy_onboarding_description",{hostPlanName:r(t.hostPlanName),connectedPlanName:r(t.connectedPlanName)})})}function pl(e){return(0,m.jsx)(a_.u9,{label:"TeamUpgradeBanner",children:(0,m.jsx)(pd,{...e})})}function pd(e){let{selectedView:t,userFlags:r,userTeamFlags:s,userEduVerified:a,isFreeUser:i,userAnalyticsData:n,...o}=(0,a5.R)(e=>({selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!e.user?.student_validated_at,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,iA.getPermissionsState)(e)})),l=(0,x.wA)(),d=(0,E.bc)(tI.UpR,{}),{teamId:c,selectedTab:u}=e,p=o.teams[c]??null,f=!!p?.org_id,h=!!p?.subscription,g=(0,E.bc)((0,tI.LKQ)(c?{teamId:c}:null)),v=_.useMemo(()=>g.transform(({team:e})=>!!e?.canAdmin),[g]).unwrapOr(!1),b=(0,x.d4)(e=>e.loadingState),j=xV.Be.loadingKeyForPayload({teamId:c}),y=(0,l6.VP)(b,j),w=(0,l6.D2)(b,j);(0,_.useEffect)(()=>{!y&&!w&&c&&!f&&h&&v&&l(xV.Be({teamId:c}))},[l,c,f,h,v,y,w]);let T=(0,x.d4)(e=>e.teamBilling?.summary),I=xB(eK.vt.TEAM,p,c,{selectedView:t,userFlags:r,userTeamFlags:s,selectedTab:u,isFreeUser:i,userAnalyticsData:n,eduPeriodEnd:d.data?.currentUser?.eduPeriodEnd,billingSummary:T,...o},l).unwrapOr(null);if(!I)return(0,m.jsx)("div",{});let k=xW({resourceType:eK.vt.TEAM,teamId:c},I),C=I.severity===xv.c.WARN?xb:"",N=I.bannerClassName||"",S=`${xS} ${C} ${N}`;return(0,m.jsx)("div",{className:S,children:(0,m.jsx)(x$,{...I,tracking:k})})}var pc=r(998277);function pu({folderId:e,pinnedFiles:t,tileActions:r}){let s,a=(0,x.wA)(),i=(0,eW._6)(),n=(0,ed.TA)(),{Sprig:o}=(0,tZ.A)(),{showing:l,show:d,data:c}=(0,oO.L)(),u=(0,oF.v)(),p=_.useCallback((t,r,s)=>{u(t,r);let a=t.type===m9.nb.PINNED_FILE?t.file:null;(0,oL.E9)(oD.gH,a,{entrypoint:s,selectedView:i.view,resourceType:"folder",resourceId:e,pinDescription:"file open from pinned files for file named "+a?.name})},[u,i.view,e]),h=_.useCallback((e,t)=>{p(pp(e.file),t,"pinned files")},[p]),g=_.useCallback((e,t,r)=>{d({data:{tile:pp(e[0].file),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[d]),v=_.useCallback(t=>{if(1!==t.length)return;let r=t[0];r?.pinnedByUser?.id===n&&(a(pc.z6({folderId:e,fileKey:r.file.key})),(0,f.getFeatureFlags)().file_browser_sentiment_survey&&o("setAttribute","fb_file_organized",!0))},[n,a,e,o]),[b,j]=_.useState([]),y=_.useMemo(()=>b.filter(({file:e})=>!!e).map(e=>pp(e.file)),[b]),w=_.useMemo(()=>t.sort((e,t)=>e.file.createdAt>t.file.createdAt?1:-1),[t]);return(0,m.jsxs)("div",{className:B.s.px32.pb8.m0.$,children:[t.length>0?(0,m.jsx)(ns.A,{handleContextMenu:g,items:w,doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:nl.XU.GRID,handleOpenItem:h,handleDeleteKey:v,onSelection:j,gridViewProps:{containerStyle:pf.grid,renderCard:({ref:e,item:t,isSelected:r,role:s,onFocus:a,onClick:i,onBlur:n})=>(0,m.jsx)(pm,{pinnedFile:t,ref:e,isSelected:r,cardRole:s,onFocus:a,onClick:i,onBlur:n}),renderTileDragImage:e=>(0,m.jsx)(rg.NM,{file:e.file,noBorder:!0})}}):(0,m.jsx)("div",{}),(s=c?.tile??null,(0,m.jsx)(oP.i,{tile:s,selectedTiles:y,tileActions:r,openTile:e=>{s&&p(s,e,"pinned files: context menu")},dropdownVisible:l}))]})}let pm=_.forwardRef(function({pinnedFile:e,isSelected:t,cardRole:r,onClick:s,onFocus:a,onBlur:i,draggable:n},o){let l=pp(e.file),d=e.file.name;return(0,m.jsx)(oA,{ref:o,cardLabel:d,cardRole:r,draggable:n,isSelected:t,onBlur:i,onClick:s,onFocus:a,subtitle:(0,m.jsx)(px,{pinnedFile:e}),thumbnail:(0,m.jsx)(oN.e,{tile:l,noBorder:!0,size:r0.y.SMALL}),title:(0,m.jsx)(p_,{name:d})})});function p_({name:e}){return(0,m.jsx)("span",{className:B.s.ellipsis.textBodyLargeStrong.truncate.$,children:e})}function px({pinnedFile:e}){return(0,m.jsx)(z.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary",children:(0,M.t)("tile.file_tile.pinned_by_user",{name:e.pinnedByUser?.name??""})})}function pp(e){return{type:m9.nb.PINNED_FILE,file:e}}let pf={grid:{kumcoG:"x1g5i94c",kfSwDN:"x87ps6o",$$css:!0}};var ph=r(594671),pg=r(177209),pv=r(634993),pb=r(12086),pj=r(370764),py=r(665002),pw=r(559365);let pE=new Set(["PM","ENG","DES","MKT","UR"]),pT=(0,pw.nh)(e=>{var t=e?.profile?.job_title??"OTH";if(!t)return"OTH";let r={"software-development":"ENG","user-research":"UR",design:"DES",marketing:"MKT","product-management":"PM",other:"OTH"};if(t in r)return r[t];let s={"project-manager":"PM",designer:"DES",developer:"ENG",marketer:"MKT","product-manager":"PM",consultant:"OTH",sales:"MKT","ux-researcher":"UR",student:"OTH",educator:"OTH"};return t in s?s[t]:t.endsWith("-developer")?"ENG":t.endsWith("-designer")?"DES":t.includes("Eng")||t.includes("Dev")?"ENG":t.includes("Des")?"DES":t.includes("Lead")||t.includes("Man")?"PM":"OTH"});var pI=r(205663),pk=r(401299),pC=r(767813),pN=r(942514);let pS=[eK._Y.WHITEBOARD,eK._Y.SLIDES],pR=(0,ev.eU)(!1);function pA(e){let t=(0,x.wA)(),r=pT((0,ed.iZ)()),s=pg.sz.loadingKeyForPayload({shelfType:cV.cS.FILE_BROWSER_RECOMMENDED_TEMPLATES}),a=(0,l6.oh)(s),i=(0,l6.mC)(s),n=pE.has(r)?r:cV.iF.ALL,o=(0,ev.Xr)(pR);_.useEffect(()=>(o(!0),()=>o(!1)),[o]),_.useEffect(()=>{if(!a&&!i)return t(pg.Dw({shelfType:cV.cS.FILE_BROWSER_TEMPLATES_BAR,filterLabel:n}))},[a,i,t,r,n]);let l=(0,x.d4)(e=>e.communityHub.shelves[cV.cS.FILE_BROWSER_TEMPLATES_BAR]||[]),d=_.useMemo(()=>{let e=new Map;return l.forEach(t=>{e.set(t.id,t.shelf_content.map(e=>e))}),e},[l]),c=_.useCallback(e=>{switch(e){case"All":return(0,M.t)("file_browser.templates_shelf.for_you");case"Brainstorm":return(0,M.t)("file_browser.templates_shelf.brainstorm");case"Reviews":return(0,M.t)("file_browser.templates_shelf.reviews");case"Meetings":return(0,M.t)("file_browser.templates_shelf.meetings");case"Planning":return(0,M.t)("file_browser.templates_shelf.planning");case"Diagram":return(0,M.t)("file_browser.templates_shelf.diagram");default:return null}},[]),u=_.useMemo(()=>{let e=[];return l.forEach(t=>{t.shelf_content.length>0&&e.push({tabKey:t.id,tabTitle:t.title,modifiedTabTitle:c(t.title)})}),e},[l,c]);return 0===u.length?null:(0,m.jsx)(U.fu,{name:"topbar_templates_shown",children:(0,m.jsx)("div",{className:"templates_bar--container--FsvIP",children:(0,m.jsx)(pF,{tabNameToTemplatesMap:d,folderId:e.folderId,onClose:e.onClose,tabList:u,newFileFrom:e.newFileFrom})})})}function pF(e){let[t,r]=_.useState(e.tabList[0]),[s,a]=_.useState(e.tabNameToTemplatesMap.get(t.tabKey)??[]),[i,n]=_.useState(null),{sizeRef:o,numTemplates:l,templateWidth:d,templateHeight:c}=function(e){let t=(0,_.useRef)(null),[r,s]=(0,_.useState)(0),a=Math.min(r-4,2229);(0,_.useLayoutEffect)(()=>{s(t?.current?.offsetWidth??0)},[s,t]),(0,ph.wY)(t,e=>{s(e.width)});let i=(0,_.useMemo)(()=>a?Math.min(Math.floor((a+16)/187),e):0,[a,e]),n=i&&a?Math.floor((a-16*(i+1))/i):0,o=n?Math.floor(136*n/171):0;return{sizeRef:t,numTemplates:i,templateWidth:n,templateHeight:o}}(s?.length??0);_.useEffect(()=>{if(!e.tabList||0===e.tabList.length)return;let t=e.tabList[0];r(t),a(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[e.tabList,e.tabNameToTemplatesMap]),_.useEffect(()=>{a(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[t,e.tabNameToTemplatesMap]);let u=(0,m.jsx)(pL,{tabs:e.tabList,activeTab:t,setActiveTab:r});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"templates_bar--headerContainer--cn78F",children:[(0,m.jsx)("div",{className:"templates_bar--headerLeft--E9ICi",children:(0,m.jsx)(pO,{})}),(0,m.jsx)("div",{className:"templates_bar--headerEnd--JC9c4",children:u}),(0,m.jsx)("div",{className:"templates_bar--headerRightOld--GTmiK",children:(0,m.jsx)("div",{className:"templates_bar--closeButton--b3VvU",children:(0,m.jsx)(em.K,{onClick:e.onClose,"aria-label":(0,M.t)("general.close"),children:(0,m.jsx)(e_.X,{})})})})]}),(0,m.jsx)("div",{className:"templates_bar--body--1v7AK",ref:o,children:(0,m.jsx)("div",{className:"templates_bar--tilesContainer--iaibN","data-testid":"templates-bar-tiles-container",children:s?.slice(0,l??0).map((r,s)=>(0,m.jsx)("div",{style:{width:d,height:c,marginRight:16},children:(0,m.jsx)(pP,{hubFile:r,rank:s,folderId:e.folderId,tab:t,duplicatingHubId:i,setDuplicatingHubId:n,newFileFrom:e.newFileFrom})},r.id))})})]})}function pO(){return(0,m.jsx)("div",{className:"templates_bar--headerTitle--E1F5Q text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:(0,M.tx)("file_browser.templates_shelf.interim_title")})}function pP(e){var t;let r=(0,x.wA)(),s=e.hubFile,a=s.id,i=null!==e.duplicatingHubId,n=e.duplicatingHubId===a,o=s&&(0,pI.a6)(e.hubFile),l=t=>{t.stopPropagation(),e.setDuplicatingHubId(a),r(pv.rL({hubFileId:a,hubFileName:o?.name||"this file",openInNewTab:!1,folderId:e.folderId,source:d_.f6.FILE_BROWSER_TEMPLATES_BAR,callback:t=>{e.setDuplicatingHubId(null),(0,nW.Cu)({fileKey:t,rank:e.rank,templateId:a,productType:(0,pb.L)(s.viewer_mode)},"topbar_template_selected"),(0,pj._)("resource_inserted",{fileKey:t,resourceId:a,resourceName:o.name,resourceType:"template",templateType:pk.n.HubFile,triggeredFrom:e.newFileFrom,category:e.tab.tabTitle,templateCategory:e.tab.tabKey})}}))};return s?(0,m.jsx)(pC.zq,{containerStyle:"templates_bar--templatesTileContainer--KPXNj",onClick:i?void 0:l,image:(0,m.jsxs)(pC.FK,{backgroundColor:(0,py.Cn)(s.client_meta),removeBorder:!0,className:"templates_bar--templatesTileImage--XJTbC",customRatioClassName:"templates_bar--imageRatio--N-woz",children:[(0,m.jsx)(pC.zx.Cover,{children:(0,m.jsx)("button",{className:"templates_bar--hoverOverlay--6tUuh browse_templates_modal--hoverOverlay--w0Qyl",onClick:l,disabled:i})}),(0,m.jsx)(pC.zx.Center,{children:(0,m.jsx)("div",{className:ee()("templates_bar--useTemplateButton--vjKJ5",B.s.bRadius6.$),tabIndex:-1,children:(0,m.jsx)(nB.J,{brand:(t=s.viewer_mode)===eK.y4.WHITEBOARD?"whiteboard":t===eK.y4.SLIDE_TEMPLATE?"piper":"design",children:(0,m.jsx)(tU.$n,{onClick:l,disabled:i,children:n?(0,m.jsx)(nz.k,{}):(0,M.tx)("file_browser.new_file_creation_topbar.use_templates")})})})}),(0,m.jsx)(pN.Ho,{image:e.overrideThumbnailUrl||s.thumbnail_url||void 0,isSet:!!e.overrideThumbnailUrl||!!s.thumbnail_is_set,isWhiteboard:s.viewer_mode===eK.y4.WHITEBOARD,hubFileId:s.id,alt:(0,pI.a6)(s).name,imageClassName:s.viewer_mode===eK.y4.SLIDE_TEMPLATE?"templates_bar--slidesThumbnailImage--aHG6g templates_bar--thumbnailImage--t-Ce0":"templates_bar--thumbnailImage--t-Ce0",resizedThumbnailUrls:s.resized_thumbnail_urls})]}),bottomRow:(0,m.jsx)(pC.Wf.NameAndFileIconMetadata,{name:o.name,className:"templates_bar--tilesBottomRowContainer--pUQ2l",textClassName:"templates_bar--tileBottomRowNameOnly--WBxtg text--fontPos11--rO47d text--_fontBase--VaHfk",viewerMode:s.viewer_mode}),bottomRowStyle:"templates_bar--bottomRowStyle--U5-Yp"}):null}function pL(e){return(0,m.jsx)("div",{className:"templates_bar--tabs--ZqPwn text--fontPos13--5OfL8 text--_fontBase--VaHfk",style:ny.sx.add({columnGap:"26px"}).$,children:e.tabs.map(t=>(0,m.jsx)(pD,{tab:t,isActive:t.tabKey===e.activeTab.tabKey,setActiveTab:e.setActiveTab},t.tabKey))})}function pD(e){return(0,m.jsx)(iu.E,{className:ee()("templates_bar--tab--pUz4K text--fontPos11--rO47d text--_fontBase--VaHfk",{"templates_bar--activeTab--e2PZ0":e.isActive}),onClick:()=>{(0,nW.Cu)({triggeredFrom:"file-browser",category:e.tab.tabTitle},"template_shelf_category_toggled"),e.setActiveTab(e.tab)},children:e.tab.modifiedTabTitle??e.tab.tabTitle})}var pM=r(478369),pU=r(39304),pB=r(999886),pz=r(308040),pW=r(747902),pV=r(542179),pG=r(128485);let pH="connected_folder_empty_view--subtitle--gV25e",p$="connected_folder_empty_view--betaTag--b6MjO";function pq(e){var t;let r,{folder:s,hostPlanName:a,user:i}=e,n=(0,x.wA)(),{properties:o}=(0,U.j6)(),{handleUpgrade:l,getUpgradeEligibility:d,hasPendingRequest:c,getUpgradePathway:u}=(0,rm.wH)({folderId:s.id}),_=s.canCreateDesignFileWithReasons.result&&s.canEdit,p=(0,cK.$)({folderData:s,editorType:eK._Y.DESIGN,newFileFrom:d_.f6.FILE_BROWSER_CONNECT_FOLDER_EMPTY_PAGE,contextClicked:"empty_connected_project_page"}),f=(r=d(eK.G_.DESIGN,_))===pV.q.CAN_UPGRADE?((0,nW.Cu)({...o,trackingDescriptor:eb.c.CREATE_FILE,licenseType:eK.G_.DESIGN,billableProductKey:(0,pB.F2)(eK.G_.DESIGN),needsUpgrade:!0}),l({afterUpgradeCallback:p,licenseType:eK.G_.DESIGN,editorType:eK._Y.DESIGN,upgradeReason:pG.i.CREATE_FILE,entryPoint:pU.tc.CREATE_FILE_EMPTY_CONNECTED_PROJECT})):r===pV.q.CANNOT_UPGRADE?()=>n(t_.F.enqueue({message:"Can't upgrade",error:!0})):p,h=()=>!_&&d(eK.G_.DESIGN)===pV.q.CANNOT_UPGRADE&&c(eK.G_.DESIGN),g=s.team?.org?.id,v=(0,eO.R$)(i,g),b=(0,pW.ud)(s)&&!v;return(0,m.jsxs)("div",{className:"connected_folder_empty_view--connectEmptyStateContainer--kjYZO",children:[(0,m.jsx)("div",{className:"connected_folder_empty_view--connectedEmptyHeading--sGIxU",children:(0,M.tx)("file_browser.folder.what_s_a_connected_project_without_files")}),(0,m.jsxs)("div",{className:"connected_folder_empty_view--creationButtonsContainer--XR38l",children:[(0,m.jsx)(pK,{hideDisabledTooltip:h(),isDisabled:h(),onClick:f,showRequestSentTag:h(),showRequestTag:!_&&d(eK.G_.DESIGN)===pV.q.CAN_UPGRADE&&u(eK.G_.DESIGN)!==pV.J.AUTO_PATHWAY&&!c(eK.G_.DESIGN),subtitle:(0,M.t)("file_browser.folder.create_a_file_in_any_figma_product"),title:(0,M.t)("file_browser.folder.start_from_scratch")}),b&&(0,m.jsx)(pK,{title:(0,M.t)("file_browser.folder.use_existing_work"),onClick:()=>{s&&(n(L.gN(s.id)),n((0,pz.L)({importToFolderData:s})))},subtitle:(0,M.t)("file_browser.folder.import_images_sketch_files_and_pdfs")})]}),(0,m.jsxs)("div",{className:pH,children:[(0,m.jsx)(pM.l,{className:"connected_folder_empty_view--libraryIcon--PC-cB"}),(0,m.jsx)("div",{children:(0,M.tx)("file_browser.folder.the_host_team_can_add_libraries",{hostPlanName:(0,m.jsx)("span",{className:"connected_folder_empty_view--bold--0upsV",children:a}),learnMoreLink:(0,m.jsx)("a",{className:"connected_folder_empty_view--learnMore--4978P modal--blueLink--Mcac6 blue_link--blueLink--4ER8T",href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",target:"_blank",children:t||(0,M.tx)("resource_connection.request_modal.learn_more")})})})]})]})}function pK(e){let t=e.isDisabled,r=e.onClick,s=_.useRef(null),a=_.useCallback(e=>{r(e),s.current?.blur()},[r]),i=(0,lI.qI)().unwrapOr(null);return(0,m.jsxs)("button",{className:ee()("connected_folder_empty_view--creationButton--BIU3A",t&&"connected_folder_empty_view--disabled--UVjpq"),ref:s,"data-testid":"connect_file_browser_create_file_button",tabIndex:0,disabled:t,onClick:t?void 0:a,"data-tooltip":e.isDisabled&&!e.hideDisabledTooltip&&i?i:void 0,"data-tooltip-type":sO.Ib.TEXT,children:[(0,m.jsx)("div",{className:"connected_folder_empty_view--creationIcon--eg0JQ",children:(0,m.jsx)(nk.$,{})}),(0,m.jsxs)("div",{className:"connected_folder_empty_view--productNameContainer--fOglf",children:[(0,m.jsx)("span",{className:"connected_folder_empty_view--productName---pgLQ",children:e.title}),(0,m.jsx)("span",{className:pH,children:e.subtitle})]}),e.showRequestTag&&(0,m.jsx)(sR.Ex,{className:p$,text:(0,M.t)("upgrades.request"),color:sR.zE.DEFAULT_TRANSLUCENT}),e.showRequestSentTag&&(0,m.jsx)(sR.Ex,{className:p$,text:(0,M.t)("upgrades.request_sent"),color:sR.zE.DEFAULT_TRANSLUCENT})]})}let pY={open:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0,pinToFolder:!0,pinToWorkspace:!0};function pJ(e){let t=(0,x.wA)(),r=(0,E.bc)(tI.CH9,{folderId:e.folderId}),s=_.useMemo(()=>"loaded"===r.status?(r.data.project?.pinnedFiles||[]).filter(e=>!!e.file):[],[r]);return _.useEffect(()=>{t(pc.MR({folderId:e.folderId,fileKeys:s.map(e=>e.file.key)}))},[s,t,e.folderId]),0!==s.length?(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"folder_page_view--pinnedHeader--dHqL9",children:(0,m.jsx)(z.E,{fontSize:13,color:"secondary",children:(0,M.tx)("file_browser.folder.pinned")})}),(0,m.jsx)(pu,{pinnedFiles:s,folderId:e.folderId,tileActions:e.tileActions})]}):null}function pX({files:e,filesByRepoId:t,folderId:r,hasBanner:s,isEditingLocked:a,folder:i,repos:n,team:o,activeProjectConnection:l,infiniteScrollOptions:d}){let c=(0,ed.Pc)(),u=(0,eP.R)(o?.id),p=(0,eP.jn)(),f=(0,x.d4)(e=>pQ(r,e.tileSortFilterStateByView)),h=(0,x.d4)(e=>e.selectedBranchKeyByRepoId),g=(0,eL.vt)(o?.id),b=!!i&&(0,lI.f3)(i),j=b&&!a,{shouldShowTemplatesBar:y,hideTemplatesBar:w}=function({folderId:e,hideTemplatesUserFlag:t,isShowingLockedRedesign:r,additionalVisibilityRequirements:s=!0}){let a=(0,x.wA)(),i=(0,ed.TA)(),{data:n}=(0,lI.nt)(e),o=!!n&&pS.every(e=>(0,lI.d6)(n,e)),l=(0,x.d4)(eY.yK),d=(0,x.d4)(e=>e.userFlags[t]),c=(0,tk.X$)("useTemplatesBarVisibility").unwrapOr(null),u=c?.tier===eK.Ag.PRO||c?.tier===eK.Ag.STUDENT;return{shouldShowTemplatesBar:!v.A.mobile&&o&&!l&&!d&&!r&&u&&s,hideTemplatesBar:(0,_.useCallback)(()=>{a(eH.b({[t]:!0})),(0,nW.Cu)({userId:i,opening:!1},"topbar_recommended_templates_toggled")},[i,a,t])}}({folderId:r,hideTemplatesUserFlag:"hide_recommended_templates_in_projects",isShowingLockedRedesign:g||p&&u,additionalVisibilityRequirements:!s}),E=_.useMemo(()=>[...e.map(e=>(0,m9.fA)(e)),...n.filter(e=>!e.trashed_at).map(e=>({type:m9.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:h[e.id]||""}))],[e,t,n,h]),T=function({tiles:e,...t}){return _l({tilesResult:_.useMemo(()=>a7.Qw.loaded(e),[e]),...t}).data}({tiles:E,tileSortFilterConfig:f.tileSortFilterConfig}),I=m3({isEligbileForProTeamLockedRevampUI:u}),k=m8(I),C=xm({viewMode:f.tileSortFilterConfig.viewMode??nl.XU.GRID}),{openDropdown:N,dropdownData:S,isDropdownOpen:R}=_f(),[A,F]=_.useState([]),O=(0,_D.p)(T,A),P=_d({sortFilterOptions:f,selectedView:(0,eW._6)()}),{visibleTiles:L,setVisibleTiles:D}=_m({viewMode:f.tileSortFilterConfig.viewMode,sortedFilteredTilesLength:T.length});(0,m7.Cm)(L??[]);let{setRenderedTiles:U}=xc(),B=(0,ab.ol)(),z=_.useMemo(()=>(0,m.jsx)(_L,{...I,isDraftsFolder:!1}),[I]),W=(0,e$.FC)(),V=_.useMemo(()=>(0,eO.R$)(W.user,W.currentUserOrgId),[W]),G=(0,_c.v)({selectedTiles:O}),H=_.useMemo(()=>{if(0===T.length){if(E.length>0)return(0,m.jsx)(_b,{});if(!j)return(0,m.jsx)(_j,{text:(0,M.t)("file_browser.folder.no_files_yet"),planCard:!!B&&z});if(v.A.mobile||v.A.tablet)return(0,m.jsx)(_j,{text:(0,M.t)("file_browser.folder.this_project_is_empty"),planCard:!!B&&z});if(l&&b)return(0,m.jsx)("div",{className:_h,children:(0,m.jsx)(pq,{folder:i,hostPlanName:l.hostPlanName,user:c})});if(!V)return(0,m.jsx)(_y,{title:(0,M.t)("file_browser.folder.this_project_doesn_t_have_any_files"),planCard:z})}},[l,b,i,z,j,T.length,B,E.length,c,V]);return(0,m.jsx)(_M.xj,{children:(0,m.jsx)(nr.B,{onShouldFetchNextPage:d.onShouldFetchNextPage,isFetchingNextPage:d.isFetchingNextPage,initialViewportEventOptions:d.initialViewportEventOptions,children:(0,m.jsxs)("div",{className:"folder_page_view--container--wruJf",children:[y&&(0,m.jsx)(pA,{folderId:r,newFileFrom:d_.f6.FILE_BROWSER_TOPBAR_FOLDER,onClose:w}),(0,m.jsx)(pJ,{folderId:r,repos:n,tileActions:pY}),0===T.length?H:(0,m.jsx)("div",{className:_h,children:(0,m.jsxs)("div",{className:_g,children:[(0,m.jsx)(_U.d,{checksForViewOnlyLabels:k,handleDeleteKey:G,handleOpenDropdown:N,handleOpenTile:C,items:T,listViewColumnsConfig:(0,_B.l1)(k),selectedTiles:O,setSelectedTiles:F,sortBy:P,sortConfig:f.tileSortFilterConfig.sort,updateRenderedItems:U,updateVisibleItems:D,viewType:f.tileSortFilterConfig.viewMode}),z]})}),(0,m.jsx)(_x,{dropdownData:S,isDropdownOpen:R,isFolder:!0,tileActions:pY,selectedTiles:O,openTile:C})]})})})}let pQ=(0,mX.xx)(rj.ZN);var pZ=r(718401),p0=r(375391),p1=r(674614);let p2="CONNECTED_PROJECTS_PROJECT_PAGE_ONBOARDING_KEY";function p4({resourceConnection:e}){let t=(0,m.jsx)(cU.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",newTab:!0,children:(0,M.tx)("resource_connection.onboarding.connected_projects_capitalized")}),r=(0,M.tx)("resource_connection.onboarding.connected_projects_are_just_like_normal_projects",{hostPlanName:e.hostPlanName,connectedProjects:t,connectedPlanName:e.connectedPlanName});return(0,m.jsx)(p1.b,{description:r,title:(0,M.tx)("resource_connection.onboarding.projects_are_better_together"),trackingContext:"Connected Projects Project Page Onboarding Modal",onboardingKey:p2,arrowPosition:p0.F_.BOTTOM})}function p5(e){return(0,E.Rs)((0,tI.L8O)(e?{projectId:e}:null))}var p7=r(835048),p3=r(195003),p8=r(933544),p6=r(888214);function p9({folder:e,onShareClick:t,setFavorite:r,removeFavorite:s}){let{getTriggerProps:a,manager:i}=t8.b(),n=e.team?.org?.id??null,o=(0,eu.Q)({currentOrgId:n,currentTeamId:null}),l=(0,p7.Y)(e.id,eK.bk.FOLDER,n,null),d=o.transform(e=>(0,ei.t$)((0,et.oA)(e.currentUser.userSidebarSections)??[],e.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[])).unwrapOr([]),c=_.useMemo(()=>{if("loaded"===o.status)return(0,ei.T0)(o.data.currentUser,e.id)},[o,e.id]),u=_.useCallback(({sectionId:e})=>{r({favoriteId:c?.id,sectionId:e})},[r,c]),x=_.useCallback(()=>{c&&s({favoriteId:c.id})},[s,c]),p=!o.data||(0,ei.gV)(o.data.currentUser),{favorite:h,hasMaxFavorites:g,orderedSidebarSections:v}=(0,p3.u8)({oldValue:{favorite:c,hasMaxFavorites:p,orderedSidebarSections:d},newValue:{favorite:l.favorite,hasMaxFavorites:l.hasMaxFavorites,orderedSidebarSections:(0,ei.t$)((0,et.oA)(l.userSidebarSections)??[],l.orderedSidebarSections??[])},label:p3.A5.ProjectToolbarMobileOverflowDropdown.sidebarData,oldValueReady:"loaded"===o.status,newValueReady:"loaded"===l.status,enableShadowRead:(0,f.getFeatureFlags)().context_menu_favorites_shadow_reads});if("loaded"!==o.status)return(0,m.jsx)("div",{className:B.s.flex.itemsCenter.colorIcon.$,children:(0,m.jsx)(sF.B,{svg:p6.A})});let b=[];return e.canRead&&b.push((0,m.jsx)(t8.q7,{onClick:t,children:(0,M.tx)("file_browser.folder.share")},"share")),(0,m.jsxs)(t8.bL,{manager:i,children:[(0,m.jsx)(iu.E,{className:ee()(B.s.flex.itemsCenter.colorIcon.$,p8.HM),...a(),children:(0,m.jsx)(t9.J,{})}),(0,m.jsxs)(t8.mc,{children:[b,(0,m.jsxs)(t8.g8,{children:[(0,m.jsx)(t8.ZP,{children:(0,M.tx)("favorited_resources.add_to_sidebar")}),(0,m.jsx)(t8.MJ,{children:(0,m.jsx)(rE.t,{setFavorite:u,removeFavorite:x,resourceId:e.id,resourceType:eK.bk.FOLDER,favoriteId:h?.id,currentSectionId:h?.resource.sidebarSectionId??void 0,orderedSidebarSections:v,userHasMaxFavorites:g})})]})]})]})}var fe=r(269800),ft=r(414192),fr=r(379323),fs=r(856201),fa=r(862629),fi=r(528727),fn=r(852401),fo=r(635862);function fl({folder:e,currentOrgId:t}){return!e.canEdit&&!!e.plan?.isMember&&!e.team?.canAdmin&&null!==t}var fd=r(78207);function fc({folder:e,team:t}){let r,s,a,i,n,o,l,d,c,u=(0,x.wA)(),p=(0,x.d4)(e=>"folder"===e.selectedView.view&&e.selectedView.shouldShowRenameModal||!1),f=(r=(0,eL.vt)(),s=(0,eP.jn)(),r||s),g=(a=(0,x.Pj)(),(0,_.useCallback)(async e=>{try{await mv.Ay.post(`/api/folders/${e}/claim`),a.dispatch(pc.qp({folderId:e})),(0,rj.qF)(e)||a.dispatch((0,xa.jl)({folderId:e,loadedFolders:{}}))}catch(e){a.dispatch(aD.s.error(e.message||(0,M.t)("file_browser.file_browser_actions.claim_team_error")))}},[a])),v=_.useCallback(()=>g(e.id),[g,e.id]),b=(i=(0,x.wA)(),n=e.canEdit,(0,_.useCallback)(()=>{e.name&&n&&i(rd.to({type:(0,fo.y)(),data:{folder:{...e,team_id:e.teamId}}}))},[i,e,n]));(0,h.h)(()=>{p&&b()});let j=(0,x.d4)(e=>e.currentUserOrgId),y=(0,x.d4)(e=>e.teamRoleRequests),w=e.team?.org?.id,E=e.team?.id,T=fl({folder:e,currentOrgId:j}),I=function({folder:e}){let t=eD({project:e}),r=(0,x.d4)(e=>e.currentUserOrgId);return e.canEdit&&!e.isEditingLockedForUser&&t&&!fl({folder:e,currentOrgId:r})}({folder:e}),k=()=>{u(rd.to({type:fn.WY,data:{folderId:e.id}}))},C=e.canRead,N=_.useMemo(()=>{if(T&&y&&t&&y[t.id]&&y[t.id].status===fa.c.PENDING)return y[t.id].id},[T,y,t]);_.useEffect(()=>{T&&j&&u((0,fr.Rw)())},[T,u,j]);let S=(0,rT.jm)(w,E),R=f?(0,M.t)("locked_team.label.tooltip"):void 0,A=f?sO.Ib.TEXT:void 0,F=({favoriteId:t,sectionId:r})=>{u(eG.Mv({folder:e,entrypoint:"folder_page_view",sectionId:r,favoriteId:t}))},O=({favoriteId:t})=>{u(eG.jv({folderId:e.id,entrypoint:"folder_page_view",favoriteId:t}))},P=(o=(0,_4.u)(e.id),l=e.canRead,d=e.team?.org?.id,c=(0,_.useMemo)(()=>o({folder:{...e,orgId:d??null},shouldShowJoinButton:!1,shouldHideShareOption:!0}),[o,e,d]),(0,_.useMemo)(()=>{let e=c.some(e=>e.items.length>0);if(l&&e)return{kind:nw.A.CUSTOM,key:nN.DROPDOWN,element:(0,m.jsx)(nG,{dataOnboardingKey:pa,buttonAriaLabel:(0,M.t)("file_browser.folder.page_header_dropdown_label"),menuGroups:c})}},[l,c])),L=e?.activeProjectResourceConnections?.[0];return(0,m.jsxs)(J.tH,{boundaryKey:"FolderPageViewHeader",fallback:J.H4.NONE_I_KNOW_WHAT_IM_DOING,severity:xs.DZ.Critical,sentryTags:{area:Q.FigmaTeam.EXPANSION},children:[(0,m.jsx)(nT,{title:e.name,badge:L?(0,m.jsx)(rz.W,{hostPlanName:L?.hostPlanName,connectedPlanName:L?.connectedPlanName,large:!0,dataOnboardingKey:p2}):void 0,rightSideActions:(()=>{let r=[];if(!e.ownerRole&&e.team?.canAdmin&&r.push({kind:nw.A.CUSTOM,key:nN.CLAIM,element:(0,m.jsx)(eg.$z,{variant:"secondary",onClick:v,size:"lg",children:(0,M.t)("file_browser.folder.join_as_owner")})}),I&&r.push({kind:nw.A.CUSTOM,key:nN.NEW_RESOURCE,showOnMobile:!0,element:(0,m.jsx)(fd.FolderPageViewOmnicreateDropdown,{folder:e,newFileFrom:d_.f6.FILE_BROWSER_TOPBAR_FOLDER})}),C){let e={kind:nw.A.CUSTOM,key:nN.SHARE,element:(0,m.jsx)(eg.$z,{variant:"secondary",onClick:k,"data-tooltip-type":A,"data-tooltip":R,disabled:f,size:"lg",children:(0,M.t)("file_browser.folder.share")})};r.push(e)}T&&r.push({kind:nw.A.CUSTOM,key:nN.REQUEST_TO_EDIT,element:(0,m.jsx)(eg.$z,{variant:"secondary",size:"lg",onClick:()=>{N?u(ft.lT({requestId:N})):t&&u(rd.to({type:fi.$,data:{team:t,requesterCurrentLevel:fs.e6.VIEWER,source:"FolderPageView"}}))},children:void 0!==N?(0,M.t)("file_browser.team.cancel_request"):(0,M.t)("file_browser.team.request_to_edit")})}),r.push({kind:nw.A.CUSTOM,key:nN.SETTINGS,element:(0,m.jsx)("div",{...{className:"x1n2onr6"},children:(0,m.jsx)(eg.Me,{variant:"secondary",size:"lg",onClick:()=>{u(rd.to({type:fe.l,data:{folderId:e.id}}))},"aria-label":(0,M.t)("file_browser.folder_settings_modal.tooltip.settings"),"data-tooltip":(0,M.t)("file_browser.folder_settings_modal.tooltip.settings"),children:(0,m.jsx)(pZ.k,{})})})}),S&&r.push({kind:nw.A.CUSTOM,key:nN.FAVORITE,element:(0,m.jsx)(nH.i,{setFavorite:F,removeFavorite:O,favoriteType:eK.bk.FOLDER,resourceId:e.id,orgId:j,teamId:E,size:"lg"})});let s=(0,m.jsx)(p9,{folder:e,onShareClick:k,setFavorite:F,removeFavorite:O});return r.push({kind:nw.A.CUSTOM,key:nN.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:s}),r})(),rightSideOfTitleAction:P}),!!L&&(0,m.jsx)(p4,{resourceConnection:L})]})}function fu({folderId:e}){let t=p5(e);!function(e){let[t]=(0,T.IT)((0,tI.oFF)({projectId:e})),r=t.transform(e=>e.project?.name??null).unwrapOr(null);_.useEffect(()=>{r&&(0,rT.hL)(r)},[r])}(e);let r=(0,e$.FC)(),[s,a,i]=function(e){let{queryResult:[t,r],pageSize:s}=xi({folderId:e}),a=_.useCallback(()=>{!t.isFetchingNextPage&&t.hasNextPage&&r.fetchNextPage()},[t.isFetchingNextPage,t.hasNextPage,r]);return(0,i6.I)("loaded"===t.status,(t,r,s)=>{0===t||r||s||sJ.az.trackDefinedMetric("file_browser.folder_files_load_time",{durationMs:t,folderId:e})}),[t,a,s]}(e),n=t.data?.project||null,o=(0,x.wA)(),l=(0,rW.EB)(),d=tQ.v.getFeatureGate("nested_folders_plan"),c=_.useCallback(e=>t=>{l(e,t)},[l]),u=(0,E.bc)(tI.Udv,{id:e}),p=(0,eW._6)(),f="loaded"===u.status&&!u.data.project?.hasPermission||n?.trashedAt,h=n?.trashedAt,g=n?.isAbandonedDrafts&&n?.currentPlanUser?.permission===eK.Xn.ADMIN,b=(0,E.Rs)((0,tI.V77)({parentFolderId:e}),{enabled:!!d}),j=d?((0,et.oA)(b.data?.project)?.untrashedChildFolders||[]).map(e=>({...pr.toSinatra(e),touched_at:e.trashedAt?.toISOString()||e.updatedAt.toISOString(),is_subscribed:!1,is_connected_project:!1})):[];_.useLayoutEffect(()=>{if(f||h)if(n?.team){let e=n.team.id;o(ez.sf({view:"team",teamId:e}))}else o(ez.sf({view:"recentsAndSharing"}));g&&n.plan&&n.plan.key.parentId&&(n.plan.tier===eK.Ag.PRO?o(ez.sf({view:"abandonedDraftFiles",abandonedDraftFolderId:n.id,planId:n.plan.key.parentId,adminPlanType:dx.O.TEAM})):n.plan.key.type===eK.OL.ORG&&o(ez.sf({view:"abandonedDraftFiles",abandonedDraftFolderId:n.id,planId:n.plan.key.parentId,adminPlanType:dx.O.ORG})))},[o,u,n,f,h,g]);let y=r.teams[n?.teamId||""]||null;_.useEffect(()=>{n&&!n.inviteOnlyAt&&n.teamId&&!y&&o(x8.Jt({teamId:n.teamId}))},[o,n,y]);let w=n?.activeProjectResourceConnections?.[0],k=!!y&&!!n?.teamId,C=xz({resource:y,resourceType:eK.vt.TEAM,teamId:n?.teamId}).unwrapOr(!1)&&k,N=(0,eo.dq)(),S=(0,mX.xx)(rj.ZN),R=(0,x.d4)(t=>S(e,t.tileSortFilterStateByView)),A=!n||"loaded"!==t.status;if((0,I.kF)("Folder"),(0,I.WX)({markName:"MainBodyContent",isLoaded:!A&&"loaded"===s.status,contextArgs:{numFiles:s.transform(e=>e.files.length).unwrapOr(null),pageSize:i}}),A)return(0,m.jsx)("div",{...{className:"x1n2onr6 x5yr21d x78see x1wal9xq"},children:(0,m.jsx)(ep.AV,{loaded:!1,loadingElementId:"loading-content-pane"})});let F={view:"project",folderId:e,canEdit:n.canEdit,userSpace:N?sP.qo.ORG:sP.qo.PERSONAL},O=(0,m.jsxs)("div",{...{className:"x78zum5 x167g77z x6s0dn4"},children:[(0,m.jsx)(mZ.ye,{config:R.tileSortFilterConfig}),(0,m.jsx)(mZ.mc,{dispatch:o,options:R,selectedView:p}),(0,m.jsx)(m0.$c,{initialViewMode:R.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,sJ.sx)("file view toggle",{viewType:e===nl.XU.GRID?"grid":"list"}),o(eU.JF({selectedView:p,config:{...R.tileSortFilterConfig,viewMode:e}}))}})]});return(0,U.T8)((0,m.jsx)(nI.r,{content:(0,m.jsx)(ep.Bm,{loadingElementId:"loading-content-pane",result:s,loadingElementClassName:B.s.pr32.$,children:t=>(0,m.jsxs)("div",{className:B.s.flex.flexColumn.$,children:[j.length>0&&(0,m.jsx)("div",{...{className:"xrvj5dj x1rr9rqv x1rzw5jd x1iymm2a xr9ek0c x1swdo50 x1ldx8e x1tudf5h x1m2p0i2"},children:j.map(e=>(0,m.jsx)(x3.Z,{folder:e,onClick:c(e.id)},e.id))}),(0,m.jsx)(pX,{activeProjectConnection:w?{id:w.id,hostPlanName:w.hostPlanName}:void 0,files:t.files,filesByRepoId:t.filesByRepoId,folder:n,folderId:e,hasBanner:C,infiniteScrollOptions:{onShouldFetchNextPage:a,isFetchingNextPage:"isFetchingNextPage"in s&&s.isFetchingNextPage,initialViewportEventOptions:{view:"Folder",viewMode:R.tileSortFilterConfig.viewMode,hasNextPage:s.hasNextPage||!1,pageSize:i,isMobileDevice:v.A.mobile}},isEditingLocked:n.isEditingLockedForUser,repos:t.repos,team:y}),(0,m.jsx)(mf.cx,{})]})}),banner:y&&C?(0,m.jsx)(pl,{teamId:y.id}):void 0,toolbar:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(fc,{team:y,folder:n}),(0,m.jsx)(pn,{folderId:e})]}),viewbar:(0,m.jsx)(uP.f,{leftSide:null,rightSide:O})}),sP.e0.FILE_BROWSER,F)}function fm(){let e=(0,x.d4)(e=>e.currentTeamId),t=(0,eW._6)(),r=(0,E.bc)(tI.RRC,{teamId:e??""},{enabled:!!e}),s=function({unsortedFolderList:e,folderSortConfig:t}){return _$({foldersResult:_.useMemo(()=>a7.Qw.loaded(e),[e]),folderSortConfig:t}).data}({unsortedFolderList:(r.data&&"loaded"===r.data.currentUser.status&&r.data.currentUser.data.teamProjectRoles||[]).filter(e=>!!e.project&&""!==e.project.path).map(e=>{let t=e.project,r=t.activeProjectResourceConnections?.[0]??null;return{id:t.id,name:t.name,description:t.description,path:t.path,team_id:t.teamId,is_invite_only:!!t.inviteOnlyAt,is_view_only:!!t.viewOnlyAt,deleted_at:t.deletedAt?t.deletedAt.toISOString():null,updated_at:t.updatedAt.toISOString(),created_at:t.createdAt.toISOString(),touched_at:t.lastModifiedAt,shared_at:e.sharedWithYouFolder?.sharedAt.toISOString(),shared_by_user:e.sharedWithYouFolder?.sharedByUser,is_connected_project:!!r,resource_connection:r?{hostPlanName:r.hostPlanName,connectedPlanName:r.connectedPlanName}:null}}),folderSortConfig:{sort:{key:nl.C0.TOUCHED_AT,dir:nl.ue.DESC},filters:{}}}),a="loaded"!==r.status?(0,m.jsx)(nO.qc,{}):(0,m.jsx)(_3,{viewId:`limitedTeam-${e}`,sortedFolderList:s,selectedView:t,isSharerInfoIncluded:!0,viewMode:nl.XU.GRID});return(0,U.T8)((0,m.jsx)(nI.r,{content:(0,m.jsx)(m.Fragment,{children:a}),viewbar:(0,m.jsx)("div",{className:"limited_space_team_projects_page_view--viewbar--BPMr0",children:(0,m.jsx)("div",{className:"limited_space_team_projects_page_view--viewbarHeading--2OmTH",children:(0,M.tx)("file_browser.limited_space_team_projects.heading")})})}),sP.e0.FILE_BROWSER,{view:"limitedSpaceTeamProjects"})}function f_({orgId:e}){let t=(0,x.wA)(),r=(0,tk.D6)("ViewLibrariesAction");return(0,tk.Kd)(r).data?(0,m.jsx)(nw.K,{action:{kind:nw.A.BUTTON,key:nN.VIEW_LIBRARIES,displayText:(0,M.t)("org_view.view_libraries"),onClick:()=>{t(ez.sf({view:"org",orgId:e,orgViewTab:tB.X.LIBRARIES}))}}}):null}function fx({canCreateTeam:e,isEnterpriseOrgDirectoryEnabled:t}){let r=(0,x.wA)();return t||!e?null:(0,m.jsx)(nw.K,{action:{kind:nw.A.CUSTOM,key:nN.NEW_TEAM,element:(0,m.jsx)(tU.$n,{"aria-label":(0,M.t)("license_group_view.toolbar.new_team_button_aria_label"),variant:"primary",onClick:()=>{r(rd.to({type:np.Uc,data:{}}))},iconPrefix:(0,m.jsx)(nk.$,{}),children:(0,M.t)("license_group_view.toolbar.new_team_button")})}})}function fp({orgId:e}){let t=(0,eY.LM)(e),{canCreateTeam:r,cannotCreateTeamReason:s}=(0,ec.LM)({id:e},null);return"loaded"!==t.status||s===ec.z4.LG_LOADING?null:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(fx,{canCreateTeam:r,isEnterpriseOrgDirectoryEnabled:t.data}),(0,m.jsx)(f_,{orgId:e},"org-library")]})}var ff=r(64561);function fh(){let e=(0,x.wA)(),t=(0,eo.dq)(),r=xM((0,a5.R)(e=>({...(0,iA.getPermissionsState)(e),selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData})),e).unwrapOr(null);if(!r)return(0,m.jsx)("div",{});let s=xW({resourceType:"org",orgId:t},r),a=r.severity===xv.c.WARN?xb:"",i=`${xS} ${a}`;return(0,m.jsx)("div",{className:i,children:(0,m.jsx)(x$,{...r,tracking:s})})}var fg=r(34420),fv=r(908295),fb=r(928495);function fj(){let e=(0,tk.T5)("OrgConnectedProjectsContent"),t=e.unwrapOr(null),r=t?.connectionCount??0,s=(0,E.bc)(tI.ifD,{planType:t?.key.type??null,planId:t?.key.parentId??""},{enabled:null!==t}),a=_.useMemo(()=>"loaded"!==s.status?[]:((0,et.oA)(s.data?.planConnectedProjectsForUser)||[]).map(e=>{let t=(0,et.oA)(e.project);return null!=t?(0,r2.W2)(t):null}).filter(e=>null!==e),[s]);return"loaded"!==e.status||"loaded"!==s.status?(0,m.jsx)("div",{className:B.s.flex.wFull.hFull.alignCenter.justifyCenter.$,children:(0,m.jsx)(nz.k,{"data-testid":"loading-spinner"})}):0===r?(0,m.jsx)("div",{className:"org_connected_projects_view--emptyContent--FpVOP",children:(0,m.jsx)(fv.K,{entryPoint:fg.wR.CONNECTED_PROJECT_ORG_PAGE})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(fb.A,{}),(0,m.jsx)("div",{className:"org_connected_projects_view--tabContentContainer--lsxEg",children:(0,m.jsx)("div",{className:B.s.wFull.$,children:(0,m.jsx)(_2.m,{folderList:a,dataOnboardingKeyIndex:void 0,onChangeSortOptions:p.lQ,viewType:nl.XU.GRID,isSharerInfoIncluded:!1})})})]})}var fy=r(67892),fw=r(100087),fE=r(943735),fT=r(682945),fI=r(997265),fk=r(856680);function fC(e){return(0,m.jsx)(a_.u9,{label:"UserGroupsCreateButtonOnboardingOverlay",children:(0,m.jsx)(fN,{...e})})}function fN(e){return((0,h.h)(()=>{e.show()}),e.isShowing)?(0,m.jsxs)(U.fu,{name:fI.KT,children:[(0,m.jsx)(fk.x,{target:fI.ru}),(0,m.jsx)(fT.bL,{manager:e.manager,variant:"strong",children:(0,m.jsxs)(os.vo,{...{className:"x16em4ew"},children:[(0,m.jsx)(fT.Y9,{children:(0,m.jsx)(os.hE,{autofocus:!0,children:(0,M.tx)("user_groups.onboarding.create_button_title")})}),(0,m.jsx)(os.nB,{...{className:"x1vi7shn x1gcgh60 x1jwbysl x1vamu9a"},children:(0,M.tx)("user_groups.onboarding.create_button_description")})]})})]}):null}var fS=r(36722),fR=r(541391),fA=r(874937),fF=r(951468);function fO({opacity:e}){return(0,m.jsxs)("div",{...ex.Ay.props(fD.userGroupContainer,fD.noHover,fD.skeletonRowOpacity(e)),children:[(0,m.jsx)(l_.Wi,{style:{width:24,height:24,borderRadius:4,flexShrink:0}}),(0,m.jsx)(l_.Wi,{style:{height:14,width:100,borderRadius:2}})]})}function fP(){return(0,m.jsx)(m.Fragment,{children:Array.from({length:3},(e,t)=>(0,m.jsx)(fO,{opacity:1-.25*t},t))})}function fL(e){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.selectedView),{canCreate:s,userGroupCreationSetting:a}=(0,fS.en)(fS.Ls.FILE_BROWSER),i=a===eK.W2.ADMINS,n=(0,fw.j_)().unwrapOr(!1),{getTriggerProps:o,...l}=function(){let{show:e,isShowing:t,complete:r}=(0,ew.e)({overlay:eN.$23,priority:eI.N.DEFAULT_MODAL}),{getTriggerProps:s,manager:a}=fT.gR({isOpen:t,onOpenChange:e=>!e&&r(),placement:"top-end",middleware:[(0,fE.cY)(8),(0,fE.BN)({padding:8})]});return(0,_.useMemo)(()=>({isShowing:t,manager:a,show:e,complete:r,getTriggerProps:s}),[t,a,e,r,s])}();return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{...{0:{className:"x78zum5 x6s0dn4 x1qughib x1ef8nbk"},1:{className:"x78zum5 x6s0dn4 x1qughib xat24cr"}}[0|!!(!e.isLoading&&0===e.userGroups.length)],children:[(0,m.jsx)("h2",{...{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly"},children:e.label||(0,M.t)("org_home_view_meta.user_groups")}),(s||i)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(fC,{...l}),(0,m.jsx)(iu.E,{...{0:{className:"x78zum5 x6s0dn4 x1nhvcw1 x1nfngrj x12oqio5 x1akne3o xjbqb8w x1bldm2b xri4lhc x7s97pk"},1:{className:"x78zum5 x6s0dn4 x1nhvcw1 x1nfngrj x12oqio5 x1akne3o xri4lhc x7s97pk xz8z4lq xjbqb8w x1n5bzlp"}}[0|!!i],...o(),onClick:()=>{l.complete(),t((0,rd.to)({type:fR.C,data:{source:"sidebar_user_groups_preview",prefillCreatorEmail:!0,onSuccess:r=>{e.onUserGroupCreated?.(),t((0,rd.AS)()),t((0,rd.to)({type:fA.y,data:{userGroupId:r.id,onBack:()=>{t((0,rd.AS)()),t((0,rd.to)({type:fF.$f,data:{}}))}}}))}}})),Y.J.addAction("right_rail_user_group_create_clicked",Q.FigmaTeam.WAYFINDING,K.$.INFO,{sourceComponent:"user_group_preview",selectedView:r.view})},disabled:i,"data-onboarding-key":fI.ru,...i&&{"data-tooltip":n?(0,M.t)("user_groups.create_user_group_disabled_by_admins_admin_tooltip"):(0,M.t)("user_groups.create_user_group_disabled_by_admins"),"data-tooltip-type":"text","data-tooltip-tip-align-right":!0},children:(0,m.jsx)(rr.e,{})})]})]}),(0,m.jsx)("div",{...{className:"x78zum5 xdt5ytf xg2d0mh xilkfi8"},children:e.isLoading?(0,m.jsx)(fP,{}):e.userGroups.map(s=>(0,m.jsxs)(iu.E,{...{className:"x78zum5 x6s0dn4 x1nhvcw1 x1nfngrj x1gskr33 x1ihwiht xilkfi8 x1bvt8p6 x12oqio5 xa2wbu8 xjbqb8w x1bldm2b xri4lhc x7s97pk"},onClick:()=>{t((0,rd.to)({type:fA.y,data:{userGroupId:s.id,onBack:()=>{t((0,rd.AS)()),t((0,rd.to)({type:fF.$f,data:{onUserGroupCreated:e.onUserGroupCreated}}))}}})),Y.J.addAction("right_rail_user_group_clicked",Q.FigmaTeam.WAYFINDING,K.$.INFO,{sourceComponent:"user_group_preview",selectedView:r.view})},children:[(0,m.jsx)(fy.q,{userGroup:s,size:24}),(0,m.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1akne3o xb3r6kr xlyipyv xuxw1ft"},children:s.name})]},s.id))}),!e.isLoading&&e.userGroups.length>0&&(0,m.jsx)("div",{...{className:"x1vi7shn x1ihwiht"},children:(0,m.jsx)(iu.E,{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1quhyk7 x1cum3z5 xri4lhc x7s97pk"},onClick:()=>{t((0,rd.to)({type:fF.$f,data:{onUserGroupCreated:e.onUserGroupCreated}})),Y.J.addAction("right_rail_user_group_see_all_clicked",Q.FigmaTeam.WAYFINDING,K.$.INFO,{sourceComponent:"user_group_preview",selectedView:r.view})},children:(0,M.t)("sidebar.see_all")})})]})}let fD={userGroupContainer:{k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kjj79g:"x1nhvcw1",kOIVth:"x1nfngrj",khm7nJ:null,k1C7PZ:null,kLKAdn:"x1gskr33",kGO01o:"x1ihwiht",kE3dHu:"xilkfi8",kZCmMZ:null,kwRFfy:null,koQZXg:"x1bvt8p6",keTefX:null,k71WvV:null,kaIpWk:"x12oqio5",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kzqmXN:"xa2wbu8",kWkggS:"xjbqb8w x1bldm2b",kI3sdo:"xri4lhc",kjBf7l:null,k3XXqK:null,kMeerF:null,kInvED:"x7s97pk",$$css:!0},skeletonRowOpacity:e=>[{kSiTet:null!=e?"xb4nw82":e,$$css:!0},{"--x-opacity":null!=e?e:void 0}],noHover:{kWkggS:"xjbqb8w",$$css:!0}};var fM=r(676835);let fU="org_meta_content--container--fC-E8";function fB({org:e}){return(0,m.jsxs)("div",{className:B.s.flex.flexColumn.rowGap12.$,children:[(0,m.jsx)(ss.Ro,{entity:e,size:40}),(0,m.jsx)("div",{...{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx"},children:e.name})]})}function fz({handle:e}){let t=(0,x.wA)();return(0,m.jsx)(cU.N,{trusted:!0,href:new db.xn({profileHandle:e}).href,onClick:r=>{r.metaKey||(r.preventDefault(),t(ez.sf({view:"communityHub",subView:"handle",handle:e})),Y.J.addAction("right_rail_community_profile_clicked",Q.FigmaTeam.WAYFINDING,K.$.INFO,{sourceComponent:"community_profile_handle",selectedView:"org"}))},children:(0,m.jsxs)(z.E,{fontSize:11,children:["@",e]})})}function fW({orgId:e,useTransparentHover:t}){let r=(0,x.d4)(t=>(0,eT.Xy)(t.orgUsersByOrgId[e]).map(e=>e.user)),s=(0,x.wA)();return(0,m.jsx)(oa,{label:(0,M.t)("org_home_view_meta.admins"),members:r,onMemberClick:(e,t)=>{s(ez.sf({view:"user",userId:t.id,userViewTab:oi.o.INTERNAL_PROFILE})),Y.J.addAction("right_rail_org_admin_clicked",Q.FigmaTeam.WAYFINDING,K.$.INFO,{sourceComponent:"admin_preview",selectedView:"org"})},useTransparentHover:t})}function fV(){let{refetchToken:e,triggerRefetch:t}=(0,fS.tM)(),{userGroups:r,status:s}=(0,fS.Zw)({numGroupsToReturn:3,refetchToken:e}),a=_.useMemo(()=>r.map(e=>(0,fM.c)(e)),[r]);return(0,m.jsx)(fL,{userGroups:a,onUserGroupCreated:t,isLoading:"loading"===s})}function fG({org:e,orgStats:t}){let r=(0,tk.S2)().unwrapOr(null)?.planRecordId,s=(0,st.y)(r,!0),a=(0,fS.uX)(),i=t?(0,m.jsxs)(z.E,{fontSize:11,color:"secondary",children:[(0,M.tx)("org_home_view_meta.member_count",{memberCount:t.memberCount.data}),(0,m.jsx)("span",{children:"\xa0\xb7\xa0"}),s?(0,M.tx)("org_home_view_meta.user_groups_count",{userGroupsCount:a.data}):"workspaceCount"in t?(0,M.tx)("org_home_view_meta.workspace_count",{workspaceCount:t.workspaceCount.data}):(0,M.tx)("org_home_view_meta.team_count",{teamCount:t.discoverableTeamCount.data})]}):(0,m.jsx)(l_.Wi,{className:B.s.mb4.$,animationType:l_.JR.SHIMMER});return(0,m.jsx)("div",{className:fU,children:(0,m.jsxs)("div",{...{0:{className:"x78zum5 xdt5ytf"},1:{className:"x78zum5 xdt5ytf xuzqwsy x5tiur9 x1s7jvk7 xx6bls6 x9h44rk x6x9ccz"}}[0|!!s],children:[(0,m.jsx)(fB,{org:e}),e.community_profile_handle?(0,m.jsx)("span",{className:B.s.mt2.$,children:(0,m.jsx)(fz,{handle:e.community_profile_handle})}):null,(0,m.jsx)("span",{className:B.s.mt4.$,children:i}),s&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"xehsoiq x12sbs06 xjm9jq1 xbpqucl"}),(0,m.jsx)(fV,{})]}),(0,m.jsx)("div",{className:"xehsoiq x12sbs06 xjm9jq1 xbpqucl"}),(0,m.jsx)(fW,{orgId:e.id,useTransparentHover:s})]})})}function fH({org:e}){let t=(0,E.bc)(tI.nYs,{orgId:e.id});return(0,m.jsx)(fG,{orgStats:t.data?.org??null,org:e})}function f$({org:e}){let t=(0,E.bc)(tI.kei,{orgId:e.id});return(0,m.jsx)(fG,{orgStats:t.data?.org??null,org:e})}function fq({org:e}){let t=(0,tk.S2)().unwrapOr(null)?.planRecordId,r=(0,st.y)(t,!0);return(0,m.jsx)("div",{className:fU,children:(0,m.jsxs)("div",{...{0:{className:"x78zum5 xdt5ytf"},1:{className:"x78zum5 xdt5ytf xuzqwsy x5tiur9 x1s7jvk7 xx6bls6 x9h44rk x6x9ccz"}}[0|!!r],children:[(0,m.jsx)(fB,{org:e}),e.community_profile_handle?(0,m.jsx)("span",{className:B.s.mt4.$,children:(0,m.jsx)(fz,{handle:e.community_profile_handle})}):null,(0,m.jsx)("div",{className:"xehsoiq x12sbs06 xjm9jq1 xbpqucl"}),(0,m.jsxs)(z.E,{fontSize:11,color:"secondary",children:[(0,M.tx)("payments_modal.guest_permission_disclaimer")," ",(0,m.jsx)(cU.N,{trusted:!0,newTab:!0,href:"https://help.figma.com/hc/articles/360039957374",children:(0,M.tx)("org_home_view_meta.learn_more")})]})]})})}var fK=r(63138);let fY={[tB.X.HOME]:!0,[tB.X.YOUR_TEAMS]:!0,[tB.X.CONNECTED_PROJECTS]:!0,[tB.X.PLUGINS]:!0,[tB.X.WIDGETS]:!0,[tB.X.LIBRARIES]:!1,[tB.X.FONTS]:!1},fJ=Object.keys(fY).filter(e=>fY[e]);function fX(e){let t=(0,x.wA)(),r=(0,tk.X$)("OrgPageViewBar").unwrapOr(null),s=(0,tk.H3)(r),[a,i,n]=ot.t.useManagedTabs(fY,e.selectedTab,e=>{t(ez.sf({view:"org",orgId:s??"",orgViewTab:e}))}),o=fJ.map(e=>(0,_.createElement)(ot.t.Tab,{...a[e],key:e},(e=>{switch(e){case tB.X.HOME:return(0,M.t)("org_view.overview");case tB.X.YOUR_TEAMS:return(0,M.t)("org_view.your_teams");case tB.X.PLUGINS:return(0,M.t)("org_view.plugins");case tB.X.WIDGETS:return(0,M.t)("org_view.widgets");case tB.X.CONNECTED_PROJECTS:return(0,M.t)("org_view.connected_projects");default:return null}})(e)));return(0,m.jsx)(uP.f,{leftSide:(0,m.jsx)(ot.t.TabStrip,{manager:n,children:o}),rightSide:[]})}var fQ=r(136852),fZ=r(169250),f0=r(165617);function f1({workspace:e,targetRect:t,isDropdownOpen:r}){let s=n0(),a=(0,eo.sZ)(),i=(0,x.wA)();if(!a||!r||!t)return null;let n=s({workspace:e,org:a});return(0,m.jsx)(f0.j,{parentRect:t,items:(0,nV.o)(n),dispatch:i,onSelectItem:e=>{e.callback&&e.callback("",null,i)},showPoint:!1,shouldUsePortal:!0})}var f2=r(575569),f4=r(219567),f5=r(674470);let f7=_.forwardRef(function({isSelected:e,unassignedTeams:t,draggable:r,cardRole:s,onClick:a,onFocus:i,onBlur:n},o){let l,d,c=(0,ev.md)(fZ.Fd),u=(0,M.t)("org_view.license_group.unassigned_tile.name");if(t)l=(0,m.jsx)(ss.md,{teams:t,size:40}),d=(0,M.tx)("org_view.license_group.unassigned_tile.description",{teamCount:t.length});else if(c&&"loaded"!==c.status)l=(0,m.jsx)(l_.Qp,{className:"x100vrsf x1vqgdyp"}),d=(0,m.jsx)(l_.Wi,{className:"x1oysuqx",dataTestId:"unassigned-workspace-tile-loading-text"});else{let e=c.data;l=(0,m.jsx)(ss.md,{teams:e,size:40}),d=(0,M.tx)("org_view.license_group.unassigned_tile.description",{teamCount:e.length})}return(0,m.jsx)(f5.P,{ref:o,cardLabel:u,cardRole:s,draggable:r,iconImage:l,isSelected:e,onBlur:n,onClick:a,onFocus:i,subtitle:d,title:(0,m.jsx)(z.E,{fontWeight:"medium",fontSize:13,fontFamily:"primary",truncate:"end",children:u})})});var f3=r(567019),f8=r(739565),f6=r(370963),f9=r(179667);function he({teamCount:e,workspace:t}){let r=(0,ev.md)((0,fZ.aN)(t.id));return void 0!==e?(0,M.tx)("org_view.license_group.team_count",{teamCount:e}):"loaded"!==r.status?(0,m.jsx)(l_.Wi,{className:B.s.w64.$,dataTestId:"workspace-tile-teams-loading-text"}):(0,M.tx)("org_view.license_group.team_count",{teamCount:r.data})}function ht({workspace:e,titleTextColorClassName:t}){let r=f3.iv({placement:"bottom",offset:4}),s=e.orgAccess===eK.bU.SECRET?(0,m.jsxs)(th.HG,{children:[(0,m.jsx)(f8.o,{eventListeners:["onClick"],children:(0,m.jsx)(f3.Uj,{...r.getTriggerProps(),"aria-label":(0,M.t)("workspace_table.secret_workspace_lock_sr_only_text"),children:(0,m.jsx)(_S.s,{})})}),(0,m.jsx)(f3.mc,{manager:r,children:(0,m.jsxs)(f3.UC,{children:[(0,M.t)("workspace_table.secret_workspace_lock_tooltip"),(0,m.jsx)("div",{...{className:"x1n0bwc9"},children:(0,M.t)("workspace_table.secret_workspace_lock_tooltip_subtext")})]})})]}):null;return(0,m.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,m.jsx)(z.E,{fontWeight:"medium",fontSize:13,fontFamily:"primary",truncate:"end",children:(0,m.jsx)("span",{className:t,children:e.name})}),s]})}function hr({workspace:e,teamCountDisplay:t,secondaryTextColorClassName:r}){return(0,m.jsxs)("div",{className:ee()(B.s.flex.flexRow.itemsCenter.$,r),children:[(0,M.tx)("org_view.license_group.member_count",{memberCount:e.memberCount.data??0}),(0,m.jsx)("span",{children:"\xa0\xb7\xa0"}),t]})}let hs=_.forwardRef(function({workspace:e,isSelected:t,isMainWorkspace:r,draggable:s,onClick:a,onFocus:i,onBlur:n,cardRole:o,teamCount:l},d){let c,u,p=(0,x.d4)(e=>e.currentUserOrgId),f=(0,f9.aq)(),h=e.colorConfig?.colors??[],g=r?h[0]:void 0,v=t8.b(),b=(0,p7.Y)(e.id,eK.bk.WORKSPACE,p),j=_.useMemo(()=>"loaded"===b.status&&void 0!==b.favorite,[b]);g&&(g=function(e,t,r){try{let s=(0,iq.H0)(t),a=(0,iq.kx)(s),i=(0,iK.oN)(t,!a,a);return r&&i!==t&&(0,sJ.sx)("workspace_background_color_adjusted_for_accessibility",{workspace_id:e,original_background_color:t,adjusted_background_color:i}),i}catch(e){console.error(e)}return t}(e.id,g,f()));let y=(0,x.wA)(),w=_.useCallback(({favoriteId:t,sectionId:r})=>{y(eG.ZW({workspace:e,entrypoint:"workspace_tile",sectionId:r,favoriteId:t}))},[y,e]),E=_.useCallback(({favoriteId:t})=>{y(eG.if({workspace:e,entrypoint:"workspace_tile",favoriteId:t}))},[y,e]);g&&((0,iq.kx)(g)?(c="org_page_view--workspaceTileTitleColorForDarkBackground--Pqhyg",u="org_page_view--secondaryTextColorOnDarkBackground--lAUzz"):(c="org_page_view--workspaceTileTitleColorForLightBackground--sQh-a",u="org_page_view--secondaryTextColorOnLightBackground--EuM3Q"));let T=(0,m.jsx)(ss.z6,{entity:e,size:40}),I=(0,m.jsx)(he,{teamCount:l,workspace:e}),k=(0,m.jsx)(hr,{workspace:e,teamCountDisplay:I,secondaryTextColorClassName:u}),C=(0,m.jsx)(oR.R.Overlay,{isHoverContentVisibleOverride:j,children:(0,m.jsx)(f6.H,{favoriteStarMenu:v,setFavorite:w,removeFavorite:E,favoriteType:eK.bk.WORKSPACE,resourceId:e.id,orgId:p})}),N=(0,m.jsx)(ht,{workspace:e,titleTextColorClassName:c});return(0,m.jsx)(f5.P,{ref:d,ariaCurrent:t,backgroundColor:g,cardLabel:e.name,cardRole:o,draggable:s,iconImage:T,isHoverContentVisibleOverride:v.manager.isOpen,isSelected:t,onBlur:n,onClick:a,onFocus:i,subtitle:k,title:N,topRightContent:C})});function ha(){return(0,m.jsx)(a_.u9,{label:"OrgWorkspacesView",children:(0,m.jsx)(hi,{})})}function hi(){let e=(0,x.wA)(),t=(0,e$.FC)(),r=(0,eo.dq)(),s=(0,ec.Au)(r),{canCreateTeam:a}=(0,ec.LM)(r?{id:r}:null,null),i=function(e,{description:t,level:r=K.$.INFO,start:s=!0,context:a}={}){let i=(0,_.useRef)(Y.J.createVital(e,{level:r,description:t,context:a}));return(0,_.useEffect)(()=>{if(e.includes(" "))throw Error(`Vital name cannot include spaces: ${e}`);s&&i.current.start()},[s,e]),i.current}("OrgWorkspacesView.Load"),n=(0,ev.md)(fZ.wT),{workspaceTeamCounts:o,unassignedTeams:l}=_.useMemo(()=>{let e=(n.data||[]).filter(e=>(0,f4.ox)(e,t));return{workspaceTeamCounts:(0,sc.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[t,n]),d=(0,E.bc)(tI.bUn,{orgId:r}),c="loaded"!==n.status,{currentWorkspace:u,otherWorkspaces:p}=_.useMemo(()=>{let e=d.transform(e=>{let t=e.org?.workspaces??[];(0,tP.KQ)(t,"name");let r=t.find(e=>e.id===s.data),a=t.filter(e=>e.id!==r?.id);return(l.length>0||c)&&a.push(nx.O),{currentWorkspace:r,otherWorkspaces:a}});return"loaded"===e.status?e.data:{currentWorkspace:null,otherWorkspaces:[]}},[d,s,l,c]);_.useEffect(()=>{i.addContext({currentWorkspaceId:u?.id,workspaceQuery:s?.data}),"loaded"===d.status&&i.stop()},[u,d,i,s.data]);let h=_.useCallback(()=>{e(rd.to({type:np.Uc,data:{}}))},[e]),g=!(0,f.getFeatureFlags)().all_workspaces_incremental_load_teams,v="loaded"!==d.status||g&&c,b=d.transform(e=>e.org?.workspaces?.length??null).unwrapOr(null);if((0,I.kF)("OrgAllWorkspaces"),(0,I.WX)({markName:"MainBodyContent",isLoaded:!v,contextArgs:{numWorkspaces:b}}),v)return(0,m.jsx)(i9.X,{isLoading:!0});let j=u&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{...{className:"x1tudf5h"},children:(0,m.jsx)(z.E,{color:"secondary",fontSize:11,children:(0,M.tx)("org_view.your_workspace")})}),(0,m.jsx)(hn,{items:[u],isMainWorkspace:!0,workspaceTeamCounts:o,waitForOrgTeamsToLoad:g,unassignedTeams:l,focusOnLoad:!0})]});return(0,m.jsxs)(m.Fragment,{children:[j,u&&(0,m.jsx)("div",{...{className:"x1tudf5h"},children:(0,m.jsx)(z.E,{color:"secondary",fontSize:11,children:(0,M.tx)("org_view.other_workspaces")})}),0===p.length?(0,m.jsx)(f2.C,{onCreateTeam:a?h:void 0}):(0,m.jsx)(hn,{items:p,isMainWorkspace:!1,workspaceTeamCounts:o,waitForOrgTeamsToLoad:g,unassignedTeams:l,focusOnLoad:!u})]})}function hn({items:e,isMainWorkspace:t,waitForOrgTeamsToLoad:r,workspaceTeamCounts:s,unassignedTeams:a,focusOnLoad:i}){let{showing:n,show:o,data:l}=(0,no.BK)("WORKSPACE_CONTEXT_MENU"),d=(0,x4.$)(),c=_.useCallback(e=>e===nx.O?(0,M.t)("org_view.license_group.unassigned_tile.name"):e.name,[]),u=_.useCallback((e,t)=>{d(e===nx.O?null:e.id,t)},[d]),x=_.useCallback((e,t)=>{let r=e[0];r!==nx.O&&o({data:{workspace:r,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[o]),p=_.useMemo(()=>({containerStyle:ho.grid,renderCard:({ref:e,item:i,isSelected:n,role:o,onFocus:l,onClick:d,onBlur:c})=>i===nx.O?(0,m.jsx)(f7,{isSelected:n,unassignedTeams:r?a:void 0,ref:e,cardRole:o,onFocus:l,onClick:d,onBlur:c}):(0,m.jsx)(hs,{workspace:i,teamCount:r?s[i.id]??0:void 0,isSelected:n,ref:e,cardRole:o,onFocus:l,onClick:d,onBlur:c,isMainWorkspace:t})}),[t,a,s,r]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ns.A,{viewType:nl.XU.GRID,isDraggable:!1,items:e,multiselectDisabled:!0,getAriaLabel:c,gridViewProps:p,handleOpenItem:u,handleContextMenu:x,doNotFocusOnLoad:!i}),n&&(0,m.jsx)(f1,{workspace:l.workspace,isDropdownOpen:n,targetRect:l.targetRect})]})}let ho={grid:{kLKAdn:"x1p5oq8j",kGO01o:"x1gan7if",kE3dHu:"x1tudf5h",kpe85a:"x1m2p0i2",kZCmMZ:null,kwRFfy:null,kumcoG:"x192fo39",$$css:!0}};function hl(e){let t=(0,x.d4)(t=>t.orgById[e.orgId]),r=(0,x.wA)(),s=(0,eY.LM)(e.orgId),a=(0,tk.D6)("OrgPageView"),i=(0,tk.Kd)(a),n=(0,tk.sI)(a);_.useEffect(()=>{i.unwrapOr(!1)&&r(ff.Pg({orgId:e.orgId}))},[i,e.orgId,r]);let o=null;switch(e.selectedTab){case tB.X.WIDGETS:o=(0,m.jsx)(fQ.x,{});break;case tB.X.PLUGINS:o=(0,m.jsx)(fK.C,{});break;case tB.X.YOUR_TEAMS:o=(0,m.jsx)(hd,{orgId:e.orgId});break;case tB.X.CONNECTED_PROJECTS:o=(0,m.jsx)(fj,{});break;case tB.X.HOME:case tB.X.FONTS:case tB.X.LIBRARIES:o="loading"===s.status?(0,m.jsx)(i9.X,{isLoading:!0}):s.data?(0,m.jsx)(ha,{}):(0,m.jsx)(hc,{orgId:e.orgId})}let l=null;n.unwrapOr(!1)?l=(0,m.jsx)(fq,{org:t}):"loading"===s.status?l=(0,m.jsx)(fG,{orgStats:null,org:t}):s.data?l=(0,m.jsx)(fH,{org:t}):s.data||(l=(0,m.jsx)(f$,{org:t}));let d=(0,m.jsx)(fX,{selectedTab:e.selectedTab});return(0,m.jsx)(nI.r,{banner:(0,m.jsx)(fh,{}),viewbar:d,content:o,metaContent:l})}function hd({orgId:e}){let t=ng(),{result:r,isLoadingNextPage:s,tryFetchNextPage:a,pageSize:i}=hu({orgId:e}),n="loaded"===r.status;return(0,I.kF)("OrgYourTeams"),(0,I.WX)({markName:"MainBodyContent",isLoaded:n,contextArgs:{isPaginated:!0,pageSize:i}}),nb({isLoaded:n,view:"OrgYourTeams",isPaginated:!0}),(0,m.jsx)(nf,{orgTeamsResult:r,isGuest:t,workspaceId:null,isLoadingNextPage:s,tryFetchNextPage:a})}function hc({orgId:e}){let t=ng(),{result:r,isLoadingNextPage:s,tryFetchNextPage:a,pageSize:i}=hm({orgId:e}),n="loaded"===r.status;return(0,I.kF)("OrgAllTeams"),(0,I.WX)({markName:"MainBodyContent",isLoaded:n,contextArgs:{isGuest:t,isPaginated:!0,pageSize:i}}),nb({isLoaded:n,view:"OrgAllTeams",isPaginated:!0}),(0,m.jsx)(nf,{orgTeamsResult:r,isGuest:t,workspaceId:null,isLoadingNextPage:s,tryFetchNextPage:a})}let hu=({orgId:e})=>{let[t]=(0,rw.IT)((0,tI.Cfp)({orgId:e,firstPageSize:tm.L}));return nj({result:_.useMemo(()=>t.transform(e=>e.orgJoinedTeams),[t]),pageSize:tm.L})},hm=({orgId:e})=>{let[t]=(0,rw.IT)((0,tI.MVj)({orgId:e,firstPageSize:tm.L}));return nj({result:_.useMemo(()=>t.transform(e=>e.orgDiscoverableTeams),[t]),pageSize:tm.L})};var h_=r(31551);function hx(){let[e,t]=_.useState(!1);return(0,m.jsxs)(nB.J,{brand:"bake-filebrowser",children:[(0,m.jsx)(tU.$n,{variant:"primary",onClick:()=>{t(!0)},iconPrefix:(0,m.jsx)(h_.J,{}),children:(0,M.t)("file_browser.cms.create_new")}),(0,m.jsx)(mx.TT,{isOpen:e,onClose:()=>{t(!1)}})]})}var hp=r(702884);function hf({cmsId:e}){let t=(0,x.wA)(),[{data:r,status:s}]=(0,T.IT)((0,tI.or7)({cmsId:e}),{enabled:!!e}),a="loaded"===s&&r?.cmsResourceById?.status===et.tT.Loaded?r.cmsResourceById.data:null,i=a?.cmsDatasets?.[0]?.tenantInstances?.[0]?.tenantDomains?.[0]?.domainName??null,n=i?`https://${i}/admin`:null;return(0,m.jsxs)(nB.J,{brand:"bake-filebrowser",children:[(0,m.jsx)(tU.$n,{variant:"secondary",onClick:()=>{let e=`${window.location.origin}${w.Ay.location.pathname}`;navigator.clipboard.writeText(e),t(t_.F.enqueue({type:"cms-manager-settings-link-copied",message:(0,M.t)("file_browser.cms.manager.settings_link_copied")}))},iconPrefix:(0,m.jsx)(hp.W,{}),children:(0,M.t)("file_browser.cms.manager.copy_link")}),(0,m.jsx)(hh,{adminUrl:n})]})}function hh({adminUrl:e}){return e?(0,m.jsx)(cU.N.Button,{variant:"primary",href:e,newTab:!0,iconPrefix:(0,m.jsx)(to.v,{}),children:(0,M.t)("file_browser.cms.manager.open")}):(0,m.jsx)(tU.$n,{variant:"primary",onClick:p.lQ,disabled:!0,iconPrefix:(0,m.jsx)(to.v,{}),children:(0,M.t)("file_browser.cms.manager.open")})}function hg(){let e=(0,x.wA)(),t=(0,ed.Pc)();return(0,m.jsx)(nw.K,{action:{kind:nw.A.BUTTON,key:nN.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(ez.sf({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,M.t)("internal_profile.view_community_profile"),styleClass:B.s.colorText.$}})}var hv=r(515748);let hb=(0,is.bt)(function(e){return e.user?.drafts_folder_id});var hj=r(534592),hy=r(879418),hw=r(348065);function hE(e){let t=(0,tk.X$)("FileCreationPillButton"),r=(0,tk.YY)(t).unwrapOr(!1),s=(0,lI.qI)().unwrapOr(null),a="";return r&&!e.isLoading&&e.showComingSoon?a=(0,M.t)("file_browser.creation_buttons.coming_soon"):e.isDisabled&&!e.isLoading&&s&&(a=s),(0,m.jsx)(hT,{...e,tooltipText:a})}function hT(e){let t=e.isDisabled||e.isLoading,r=(0,hw.O)();return(0,m.jsx)(nB.J,{brand:e.brand,children:(0,m.jsx)(iu.E,{...{0:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 xn0whsw x2lah0s x1d36bvo x1v8gsql x17c7w1w x1tt564c x8ge37t x6bkol7 xrhlwir xsfrc4e x129mn88 xb3r6kr"},2:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 x2lah0s x1d36bvo x1v8gsql x17c7w1w x1tt564c x8ge37t x6bkol7 xrhlwir xsfrc4e x129mn88 xb3r6kr xwa2v1s"},1:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 x2lah0s x1d36bvo xb3r6kr xz8z4lq x15kbib2 x1yjdb4r x6bkol7 x1icplyp"},3:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 x2lah0s x1d36bvo xb3r6kr xz8z4lq x15kbib2 x1yjdb4r x6bkol7 x1icplyp"}}[("bake-filebrowser"===e.brand)<<1|!!t],onClick:e.onClick,"data-testid":e.isLoading?void 0:e.dataTestId,disabled:t,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.tooltipText,"data-tooltip-type":sO.Ib.TEXT,"data-tooltip-timeout-delay":50,"aria-label":(0,M.t)("file_browser.file_creation_button_aria_label",{fileType:e.title}),children:(0,m.jsx)(ep.xv,{loaded:!e.isLoading,loadingSkeletonElement:(0,m.jsx)("div",{...{className:"x1yjdb4r"},children:(0,m.jsx)(l_.Qp,{animationType:l_.JR.LIGHT_SHIMMER,...{className:"x10w6t97"}})}),showElementBeforeLoaded:!0,children:(0,m.jsxs)("div",{...{className:"x1y1aw1k xwib8y2 xyfqnmn xnm25rq x78zum5 x6s0dn4 x167g77z"},children:[(0,m.jsx)("div",{...{0:{className:"xahcd82 x6s0dn4 xl56j7k x1a00udw xx3o462"},2:{className:"xu5wzci x192jxwq xahcd82 x6s0dn4 xl56j7k x1a00udw xx3o462"},1:{className:"x12u4mv4"},3:{className:"xu5wzci x192jxwq x12u4mv4"}}[!!r|!t<<1],"data-testid":"file-icon",children:e.icon}),(0,m.jsx)("div",{...{0:{className:"xtz2s2v x1a00udw xx3o462"},2:{className:"xu5wzci x192jxwq xtz2s2v x1a00udw xx3o462"},1:{className:"xtz2s2v"},3:{className:"xu5wzci x192jxwq xtz2s2v"}}[!!r|!t<<1],"data-testid":"plus-icon",children:(0,m.jsx)(h_.J,{})}),(0,m.jsx)("span",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xiuzu7u"},children:e.title})]})})})})}function hI({isDisabled:e,isLoading:t,newFileFrom:r}){let s=(0,cK.$)({folderData:"DRAFTS_FOLDER",editorType:eK._Y.COOPER,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,m.jsx)(hE,{title:(0,M.t)("file_browser.creation_buttons.marketing_asset"),brand:"cooper",dataTestId:"new-cooper-file-button",icon:(0,m.jsx)(hy.u,{}),isDisabled:e,isLoading:t,onClick:s})}var hk=r(257473);function hC({isDisabled:e,isLoading:t,newFileFrom:r}){let s=(0,cK.$)({folderData:"DRAFTS_FOLDER",editorType:eK._Y.DESIGN,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,m.jsx)(hE,{title:(0,M.t)("file_browser.creation_buttons.design"),brand:"design",dataTestId:"new-design-file-button",icon:(0,m.jsx)(hk.z,{}),isDisabled:e,isLoading:t,onClick:s})}var hN=r(176589);function hS({isDisabled:e,isLoading:t,newFileFrom:r}){let s=(0,cK.$)({folderData:"DRAFTS_FOLDER",editorType:eK._Y.WHITEBOARD,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,m.jsx)(hE,{title:(0,M.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:(0,m.jsx)(hN.D,{}),isDisabled:e,isLoading:t,onClick:s})}var hR=r(696685),hA=r(170003);function hF({isDisabled:e,isLoading:t,newFileFrom:r}){let s=(0,cK.$)({folderData:"DRAFTS_FOLDER",editorType:eK._Y.FIGMAKE,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,m.jsx)(hE,{title:(0,M.t)("file_browser.creation_buttons.figmake"),brand:"bake-filebrowser",dataOnboardingKey:hv.O,dataTestId:"new-figmake-file-button",icon:(0,m.jsx)(hR.$,{}),isDisabled:e,isLoading:t,onClick:s,showComingSoon:(0,hA.W)()})}var hO=r(709781);function hP(e){return(0,m.jsx)(iu.E,{...{className:"x2lah0s x1d36bvo xb3r6kr x1v8gsql x13bsb82 xpzxyvc x1aqsfbg x6bkol7 x622810 xsfrc4e x13nvs6n"},onClick:e.onClick,"data-testid":e.isLoading?void 0:e.dataTestId,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.tooltipText,"data-tooltip-type":sO.Ib.TEXT,"aria-label":e.tooltipText,children:(0,m.jsx)(ep.xv,{loaded:!e.isLoading,loadingSkeletonElement:(0,m.jsx)("div",{...{className:"x1yjdb4r"},children:(0,m.jsx)(l_.Qp,{animationType:l_.JR.LIGHT_SHIMMER,...{className:"x10w6t97"}})}),showElementBeforeLoaded:!0,children:(0,m.jsx)("div",{...{className:"xfawy5m"},children:e.icon})})})}function hL({isLoading:e,importToFolderData:t}){let r=(0,x.wA)();return(0,m.jsx)(hP,{dataTestId:"file-import-button",icon:(0,m.jsx)(hO.R,{}),isLoading:e,onClick:()=>{r((0,pz.L)({importToFolderData:t}))},tooltipText:(0,M.t)("file_browser.creation_buttons.import")})}var hD=r(160399),hM=r(575425);function hU({isDisabled:e,isLoading:t,newFileFrom:r}){let s=(0,cK.$)({folderData:"DRAFTS_FOLDER",editorType:eK._Y.SITES,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,m.jsx)(hE,{title:(0,M.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${hM.oQ}-file-button`,icon:(0,m.jsx)(hD.$,{}),isDisabled:e,isLoading:t,onClick:s,showComingSoon:!(0,f.getFeatureFlags)().sts_starter_enabled,dataOnboardingKey:"sites_on_starter_onboarding_key"})}var hB=r(520573);function hz({isDisabled:e,isLoading:t,newFileFrom:r}){let s=(0,cK.$)({folderData:"DRAFTS_FOLDER",editorType:eK._Y.SLIDES,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,m.jsx)(hE,{title:(0,M.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:(0,m.jsx)(hB.T,{}),isDisabled:e,isLoading:t,onClick:s})}function hW({newFileFrom:e}){let t=(0,ev.md)(hb),{data:r,status:s}=(0,lI.nt)(t),a=(0,c$.h)(r),i="loading"===s,n=a.map(({editorType:t,canCreate:r})=>{let s=!r;switch(t){case eK._Y.DESIGN:return(0,m.jsx)(hC,{isDisabled:s,isLoading:i,newFileFrom:e},"design");case eK._Y.WHITEBOARD:return(0,m.jsx)(hS,{isDisabled:s,isLoading:i,newFileFrom:e},"whiteboard");case eK._Y.SLIDES:return(0,m.jsx)(hz,{isDisabled:s,isLoading:i,newFileFrom:e},"slides");case eK._Y.SITES:return(0,hj.oz)()?(0,m.jsx)(hU,{isDisabled:s,isLoading:i,newFileFrom:e},"seascape"):null;case eK._Y.COOPER:return(0,m.jsx)(hI,{isDisabled:s,isLoading:i,newFileFrom:e},"cooper");case eK._Y.FIGMAKE:return(0,m.jsx)(hF,{isDisabled:s,isLoading:i,newFileFrom:e},"figmake");default:(0,D.xb)(t)}}).filter(Boolean);return n.push((0,m.jsx)(hL,{isLoading:i,importToFolderData:"DRAFTS_FOLDER"},"import")),(0,I.WX)({markName:"FileCreateEntrypoint",isLoaded:"loaded"===s}),(0,m.jsx)(m.Fragment,{children:n})}function hV({from:e}){let t=_.useRef(null),r=_.useRef(null),[s,a]=_.useState(!1);return _.useLayoutEffect(()=>{let e=r.current,s=t.current;if(!e||!s)return;let i=()=>{a(s.offsetWidth<e.offsetWidth)};i();let n=new ResizeObserver(i);return n.observe(t.current),()=>n.disconnect()},[]),(0,m.jsxs)("div",{...{className:"xh8yej3 x9f619 x78zum5 x7v6yn8 x1vi7shn xp6roeo"},ref:t,children:[(0,m.jsx)("div",{ref:r,...{0:{className:"x3nfvp2 x167g77z x2lah0s"},1:{className:"x3nfvp2 x167g77z x2lah0s xlshs6z"}}[0|!!s],children:(0,m.jsx)(hW,{newFileFrom:e})}),s&&(0,m.jsx)(cZ.R,{newFileFrom:e,dataOnboardingKey:hv.O}),(0,m.jsx)(mf.jS,{newFileFrom:e})]})}var hG=r(378625),hH=r(454124),h$=r(618848),hq=r(206157),hK=r(56723);let hY=(0,ev.eU)(!1);var hJ=r(405301),hX=r(493825);let hQ=["habit_tracking_app","meditation_app","neighborhood_social_app","plant_care_app","recipe_discovery_app","workout_tracker","science_trivia_app","daily_trivia_challenge","vocabulary_learning_app","grocery_shopping_app","medication_reminder_app","tarot_reading_app","meal_planning_app","flashcard_study_app","spanish_practice_app","photo_diary_app","virtual_pet_app","blogging_app","trip_itinerary_app","sleep_monitoring_app","budget_tracker","brain_training_app","productivity_dashboard","music_creation_tool","moodboard_tool","elearning_platform","event_management_system","quiz_builder","pixel_art_tool","crossword_generator","expense_management_tool","color_palette_generator","project_task_organizer","kanban_board","mind_mapping_tool","story_creation_platform","shared_drawing_space","writing_tool","collage_maker","photographer_portfolio","startup_landing_page","course_landing_page","jewelry_store_homepage","sneaker_product_page","apartment_listing","travel_blog_post","cooking_tutorial","festival_landing_page","resume_site","ux_portfolio","restaurant_menu","japan_itinerary","film_festival_schedule","gamified_resume","music_zine","glowing_button","dating_card_stack","gradient_background","product_showcase_card","confetti_burst","particle_button","magnetic_button","frosted_glass_card","star_rating","ios_toggle_switch","ripple_effect","image_card_reveal","emoji_picker","translucent_button","sparkle_trail","typewriter_effect","business_card_flip"];function hZ({onSubmit:e}){let[t,r]=(0,_.useState)(""),[s,a]=(0,_.useState)(!1),[i,n]=(0,_.useState)(!1),[o,l]=(0,_.useState)(!0),[d,c]=(0,_.useState)(!1),[u,x]=(0,_.useState)(!1),p=_.useRef(!1),f=_.useRef(!1),g=_.useRef(!1),v=(0,_.useRef)(null),b=(0,ed.TA)()||"",{placeholderText:j="",getCurrentSuggestedPrompt:y=()=>"",isAnimating:w=!1,isInitialMount:E=!1,pauseAnimation:T=()=>{},resumeAnimation:I=()=>{},resetAnimation:k=()=>{}}=function(e){let t=_.useMemo(()=>(0,tP.k4)(hQ.map(e=>(0,M.t)(`figmake.empty_state.prompt_suggestion.${e}`))),[]),[r,s]=(0,_.useState)(""),[a,i]=(0,_.useState)(0),[n,o]=(0,_.useState)(!1),[l,d]=(0,_.useState)(!0);(0,h.h)(()=>{t.length>0&&t[0]&&(p("",t[0]),d(!1))});let c=(0,_.useRef)(!0),u=(0,_.useRef)(null),m=(0,_.useRef)(4e3),x=(0,_.useRef)(null);(0,_.useEffect)(()=>(c.current=!0,()=>{c.current=!1,u.current&&(clearTimeout(u.current),u.current=null)}),[]);let{animatePlaceholderChange:p,isAnimating:f,pauseAnimation:g,resumeAnimation:v,pendingHoverPause:b}=function({setPlaceholderText:e}){let t=(0,_.useRef)(null),[r,s]=(0,_.useState)(!1),[a,i]=(0,_.useState)(!1),[n,o]=(0,_.useState)(!1);(0,_.useEffect)(()=>()=>{t.current&&clearTimeout(t.current)},[]);let l=(0,_.useCallback)(()=>{r?o(!0):i(!0)},[r]),d=(0,_.useCallback)(()=>{i(!1),o(!1)},[]);return{animatePlaceholderChange:(0,_.useCallback)((r,a)=>{let l,d,c;t.current&&clearTimeout(t.current),s(!0),o(!1);let u=e=>0===e?20:Math.max(7,Math.min(35,200/Math.sqrt(e)*1));l=u(r.length),d=r.length,(c=()=>{d>0?(d--,e(r.slice(0,d)),t.current=setTimeout(c,l)):(()=>{let r,l,d;r=u(a.length),l=0,(d=()=>{l<a.length?(l++,e(a.slice(0,l)),t.current=setTimeout(d,r)):(s(!1),n&&(i(!0),o(!1)))})()})()})()},[e,n]),isAnimating:r,isPaused:a,pauseAnimation:l,resumeAnimation:d,pendingHoverPause:n}}({setPlaceholderText:s}),j=(0,_.useCallback)(()=>{if(g(),u.current&&null!=x.current){let e=Date.now()-x.current;m.current=Math.max(0,m.current-e),clearTimeout(u.current),u.current=null,x.current=null}o(!0)},[g]),y=(0,_.useCallback)(()=>{o(!1),v()},[v]);return(0,_.useEffect)(()=>{if(!(!e&&!n&&t.length>0)){u.current&&(clearTimeout(u.current),u.current=null),n||(m.current=4e3,x.current=null);return}if(!f){if(!u.current){x.current=Date.now();let e=Math.max(0,m.current);u.current=window.setTimeout(()=>{i(e=>{let r=(e+1)%t.length,s=t[e],a=t[r];return s&&a&&p(s,a),r}),m.current=4e3,x.current=null,u.current=null},e)}return()=>{}}},[e,n,f,t,p]),{placeholderText:r,getCurrentSuggestedPrompt:()=>t[a]||"",isAnimating:f,isInitialMount:l,pauseAnimation:j,resumeAnimation:y,pendingHoverPause:b,resetAnimation:(0,_.useCallback)(()=>{u.current&&(clearTimeout(u.current),u.current=null),m.current=4e3,x.current=null,o(!1);let e=t.length>1?(a+1)%t.length:0;i(e),s("");let r=t[e];r&&c.current&&p("",r)},[t,p,a])}}(t.length>0),C=(0,_.useCallback)((e,t)=>{r(e),x(t),!d&&e.length>0&&(sJ.az.trackDefinedEvent("activation.file_browser_prompt_box.first_typed_into",{userId:b,isSuggestedPrompt:t}),c(!0))},[d,b]);(0,_.useEffect)(()=>{if(g.current&&!w){if(f.current&&s&&!i&&0===t.length&&o){let e=j||y();e&&(C(e,!0),l(!1),T(),p.current=!0)}f.current=!1}g.current=w},[w,s,i,t.length,o,j,y,T,C]),(0,_.useEffect)(()=>{if(!E&&s&&0===t.length&&!i&&o)if(T(),w)f.current=!0;else{let e=j||y();e&&(C(e,!0),p.current=!0,l(!1))}},[E,s,t.length,i,o,w,j,y,T,C]);let N=t=>{e(t),r("")};return(0,m.jsx)(nB.J,{brand:"seascape",children:(0,m.jsx)("form",{...{className:"x16v0e3u x1mxnbhz x1x0gksc x78zum5 xdt5ytf x1cy8zhl xkh2ocl xbxdop8"},onSubmit:e=>{e.preventDefault(),0!==t.trim().length&&N(t)},"data-testid":"prompt-box",onMouseDown:e=>{if(0===t.length){if(!w){let e=j||y();e&&!i&&C(e,!0)}l(!1),T(),p.current=!1,f.current=!1}let r=e.target,s=v.current;!s||r.closest("input")||r.closest("button")||r.closest('[role="button"]')||document.activeElement!==s&&requestAnimationFrame(()=>{s.focus();try{let e=s.value.length;s.setSelectionRange(e,e)}catch{}})},onFocus:()=>{n(!0),a(!1),p.current=!1,f.current=!1},onBlur:()=>{n(!1),0===t.length&&(l(!0),k())},onMouseLeave:()=>{if(f.current=!1,p.current&&!i){p.current=!1,a(!1),r(""),l(!0),I();return}0===t.length&&!i&&o&&(a(!1),I())},onMouseEnter:()=>{if(0===t.length&&!i&&o&&(a(!0),!E))if(T(),w)f.current=!0;else{let e=j||y();e&&(C(e,!0),p.current=!0,l(!1),T())}},children:(0,m.jsxs)("div",{...{className:"x78zum5 x6s0dn4 xkh2ocl x98rzlu x1n2onr6 x109j2v6 x15h74y x1hhzuzn x5tiur9 xou54vl xb3r6kr"},children:[(0,m.jsx)("input",{ref:v,...{className:"x98rzlu xktpd3l x1a2a7pz x1ed109x x4z9k3i x1akne3o xjbqb8w x17rw0jw x1ghz6dp x1717udv xjb2p0i xuggh6c"},value:t,onChange:e=>{C(e.target.value,!1),e.target.value.length>0&&(a(!1),p.current=!1,f.current=!1)},onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey&&!e.nativeEvent.isComposing){if(e.preventDefault(),0===t.trim().length)return;(0,nW.Cu)({name:"file_browser_prompt_box_make_button",promptType:u?"suggested":"custom",trackingDescriptor:eb.c.FILE_BROWSER_PROMPT_BOX_MAKE_BUTTON},void 0,void 0,{addToRUM:!0,teamName:Q.FigmaTeam.ADOPTION}),N(t)}"Enter"===e.key&&e.shiftKey&&e.preventDefault()},placeholder:t.length>0||i?"":j,"aria-label":(0,M.t)("figmake.file_browser_prompt_box.input_field_label")}),(0,m.jsxs)(eg.e6,{...{0:{className:"x78zum5 xyv8faw x14atkfc xd7y6wv x1gskr33 x1cmmqis x1ihwiht xf18ygs x6s0dn4 xl56j7k xdlk57i x131gfan x1jnr06f x2lah0s x8x9d4c"},1:{className:"x78zum5 xyv8faw x14atkfc xd7y6wv x1gskr33 x1cmmqis x1ihwiht xf18ygs x6s0dn4 xl56j7k xdlk57i x131gfan x1jnr06f x2lah0s x8x9d4c xgbcquw x7oc584"}}[0===t.trim().length|0],type:"submit",disabled:0===t.trim().length,"data-testid":"prompt-box-submit-button",trackingProperties:{name:"file_browser_prompt_box_make_button",promptType:u?"suggested":"custom",trackingDescriptor:eb.c.FILE_BROWSER_PROMPT_BOX_MAKE_BUTTON},"aria-label":(0,M.t)("figmake.file_browser_prompt_box.make_button_label"),trackingOptions:{teamName:Q.FigmaTeam.ADOPTION},RUMEnabled:!0,children:[(0,m.jsx)("span",{...{className:"x1tk3asg x2b8uid xlkyzom x1j6dyjg x1j61x8r x10p5zqr x8iu3zt x1lx7fe9 xuxw1ft"},children:(0,M.t)("figmake.file_browser_prompt_box.make_button")}),(0,m.jsx)("span",{...{className:"xwa2v1s x78zum5 x6s0dn4"},children:(0,m.jsx)(hX.a,{})})]})]})})})}function h0({onDismiss:e}){let t=(0,cK.E)({folderData:"DRAFTS_FOLDER",newFileFrom:d_.f6.FILE_BROWSER_PROMPT_BOX}),r=(0,x.wA)(),{color:s}=(0,nU.G)();return(0,m.jsx)(nB.J,{brand:"seascape",children:(0,m.jsx)("div",{...{0:{className:"x1w4f5ud xpezlj7 xbdeg4j xl8oe17 x78zum5 xdt5ytf x6s0dn4 xkh2ocl xl56j7k xlvnts1"},1:{className:"x1w4f5ud xpezlj7 xbdeg4j xl8oe17 x78zum5 xdt5ytf x6s0dn4 xkh2ocl xl56j7k x1urz9vi"}}["dark"===s|0],children:(0,m.jsxs)("div",{...{className:"x1kvbfxc xh8yej3 x78zum5 xdt5ytf x6s0dn4 xou54vl"},children:[(0,m.jsxs)("div",{...{className:"x78zum5 x6s0dn4 xkh2ocl x167g77z x13y4tvo"},children:[(0,m.jsx)("h2",{...{className:"xor4psk xosj86m xaoa4km x2i041 x14terfx x1akne3o xdpxx8g"},children:(0,M.t)("figmake.file_browser_prompt_box.header")}),(0,m.jsx)("div",{...{className:"x78zum5 x6s0dn4 x2lah0s"},children:(0,m.jsx)(hJ.yi,{helpUrlVariant:hK.JT.CODE_CHAT,ariaLabel:(0,M.t)("figmake.file_browser_prompt_box.ai_badge_label")})}),(0,m.jsx)("div",{...{className:"x78zum5 x6s0dn4 xfq8vap x8x9d4c"},children:(0,m.jsx)(eg.Me,{"aria-label":(0,M.t)("figmake.file_browser_prompt_box.dismiss_label"),onClick:e,"data-testid":"prompt-box-dismiss-button",trackingProperties:{name:"file_browser_prompt_box_dismiss_button",teamName:Q.FigmaTeam.ADOPTION},trackingOptions:{teamName:Q.FigmaTeam.ADOPTION},RUMEnabled:!0,children:(0,m.jsx)(mi.A,{})})})]}),(0,m.jsx)(hZ,{onSubmit:e=>{let s=ev.zl.set(cY.fB,{makeInitialMessage:e,source:d_.f6.FILE_BROWSER_PROMPT_BOX});t({editorType:eK._Y.FIGMAKE,triggerElement:"pill",contextClicked:"file-browser-prompt-box",newFileDataLocalStorageKey:s})(),r(eH.b({used_file_browser_prompt_box:!0}))}})]})})})}function h1(){let e=(0,x.wA)(),t=(0,al.Om)(),r=(0,al.tv)(),s=(0,_.useCallback)(()=>{e(eH.b({dismissed_community_home_shelf_v2_recommendations:!0}))},[e]),[a,i]=_.useState([]),[{data:n,status:o,errors:l}]=(0,T.IT)(ck.a.getHomeShelfContent({seenResourceIds:a})),[d,c]=_.useState([]),{trackRejectedResources:u}=function({visibleResources:e}){let{trackResourceImpression:t}=(0,l1.GS)(),{properties:r}=(0,U.j6)();return(0,_.useEffect)(()=>{e.forEach(e=>{t(e)})},[t,e]),{trackRejectedResources:(0,_.useCallback)(e=>{(0,sJ.sx)("community_home_shelf_resources_rejected",{rejectedResourceIds:e.join(),...r})},[r])}}({visibleResources:d}),p=(0,_.useCallback)(()=>{let t=d.map(e=>e.id);i(t),u(t),e(eH.b({refreshed_community_home_shelf_v2_recommendations:!0}))},[u,d,e]),f=t&&r?new al.au({...t,tab:ad.N$.COMMUNITY},r).href:"",h=(0,_.useCallback)(e=>{(0,cl.q5)(),e.preventDefault(),f?w.Ay.push(f):(0,xs.$D)(Q.FigmaTeam.COMMUNITY,Error("RecommendedResourcesShelf: communityTabLink is empty"),{extra:{sharedRouteParams:t,sharedSearchParams:r}})},[f,t,r]),g=(0,_.useCallback)(e=>{(0,cl.kg)(e.resource_type,e.id)},[]);return"errors"===o?((0,xs.$D)(Q.FigmaTeam.COMMUNITY,l),null):(0,m.jsx)(lW,{allResources:n?.data.meta.recommended_resources??[],dismissLabel:(0,M.t)("community.home_shelf.dismiss_label"),isLoading:"loading"===o,minTilesToShow:2,navigation:{style:lM.NAVIGATION_TILE,props:{href:f,label:(0,M.t)("community.home_shelf.see_more_on_community"),onClick:h}},onDismiss:s,onRefresh:p,onResourceClick:g,onVisibleResourcesChange:c,orderingStrategy:lS.ROUND_ROBIN,refreshDisabled:"loading"===o,refreshLabel:(0,M.t)("community.home_shelf.refresh_label"),title:(0,M.t)("community.home_shelf.title")})}function h2(){let e=(0,x.wA)();return(0,m.jsx)(J.tH,{team:Q.FigmaTeam.COMMUNITY,boundaryKey:"RecommendedResourcesShelf",fallback:J.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{e(t_.F.enqueue({message:(0,M.t)("general.root_error_boundary_title"),type:"react-error"}))},hasCustomWASMBuild:en.y4,children:(0,m.jsx)(U.fu,{name:sP.e0.COMMUNITY_HOME_SHELF,children:(0,m.jsx)(h1,{})})})}let h4="dismissed_file_browser_prompt_box";function h5(){let e,t=(0,x.d4)(e=>e.userFlags),r=t.dismissed_file_browser_prompt_box,s=!!t.used_file_browser_prompt_box||!!(0,f.getFeatureFlags)().default_used_file_browser_prompt_box_to_true,{loading:a,exceedsLifetimeMax:i}=(e=(0,lq.BN)(h4),{loading:e?.status==="loading",exceedsLifetimeMax:(e?.data??0)>=3}),{meetsPromptBoxEnrollmentCriteria:n,filePermissionsLoading:o}=function(e){let t=(0,hH.y)(),r="loaded"!==t.status,s=t.transform(e=>e?.canCreateFigmakeFileWithReasons.result??!1).unwrapOr(!1),{meterAllowed:a}=(0,hq.Ig)(hK.JT.FIGMAKE),i=(0,h$.w)();return{meetsPromptBoxEnrollmentCriteria:s&&a&&(!i||i&&e),filePermissionsLoading:r}}(s),l=a||o,d=!!r&&!(e=>{if(!e||!e.updatedAt)return!0;let t=14*hG.ei,r=new Date(e.updatedAt).getTime();return Date.now()-r>=t})(r)||i||l,c=(0,x.d4)(e=>e.user?.drafts_folder_id)??null,u=(0,eL.vt)(),m=(0,eP.jn)(),p=u||m,h=n&&!d&&c&&!v.A.mobile&&!p,g=(0,_.useRef)(!1);return h&&(g.current=!0),{showPromptBox:h,wasPromptBoxEverShown:g.current,draftsFolderId:c,showLockedRedesign:p,isPromptBoxLoading:l}}function h7(){let e=(0,ev.Xr)(hY),t=function(){let{showPromptBox:e,draftsFolderId:t,showLockedRedesign:r,isPromptBoxLoading:s}=h5(),a=!!(0,x.d4)(e=>e.userFlags).dismissed_community_home_shelf_v2_recommendations,i=(0,l$.NP)(),n=(0,x.d4)(({currentUserOrgId:e})=>e),o=(0,x.d4)(({orgById:e})=>e),l=(0,eY.yK)({orgById:o,currentUserOrgId:n}),d=lR();return e?"SHOW_PROMPT_BOX":v.A.mobile||!t||r||a||l||0===d.length||!i()||s?"SHOW_NOTHING":"SHOW_RESOURCES_SHELF"}(),[r,s]=(0,_.useState)(!1);return((0,_.useEffect)(()=>{e("SHOW_RESOURCES_SHELF"===t)},[e,t]),"SHOW_NOTHING"===t||r)?null:"SHOW_PROMPT_BOX"===t?(0,m.jsx)(U.fu,{name:sP.e0.FILE_BROWSER_PROMPT_BOX,children:(0,m.jsx)(h0,{onDismiss:()=>{s(!0),(0,lq.FC)(h4)}})}):(0,m.jsx)(h2,{})}var h3=r(484209),h8=r(12956);let h6=function(e){let t=(0,x.wA)();return(0,m.jsx)(U.fu,{name:e.trackingContextName,properties:{severity:xv.c.EVENT},children:(0,m.jsxs)("div",{...{0:{className:"x78zum5 x6s0dn4 x1qughib x1hcpp98 xm66bo x1i71x30 x16s9xcz"},1:{className:"x78zum5 x6s0dn4 x1qughib x1i71x30 x16s9xcz x1tphvzp xm66bo"}}["large"===e.size|0],style:{backgroundColor:e.bgColor},children:[(0,m.jsx)("div",{...{className:"x78zum5 x6s0dn4 x1qughib x1iyjqo2 x1i71x30 x16s9xcz"},children:e.children}),(0,m.jsx)(em.K,{"aria-label":(0,M.t)("general.close"),onClick:()=>{var r;return r=e.userFlag,void t(eH.b({[r]:!0}))},children:(0,m.jsx)(e_.X,{})})]})})},h9=function(e){let t=e.copy?(0,m.jsx)("p",{...{0:{className:"x17hqfcz xc3vk4y xemv814 xxsj5o3 x10p5zqr x12638g3 x2d5hwz xyny9ap x798txr x1akne3o"},1:{className:"x17hqfcz xc3vk4y xemv814 xxsj5o3 x10p5zqr x12638g3 x2d5hwz xyny9ap x798txr x1n0bwc9"}}[0|!!e.title],children:e.copy}):null,r=e.beta?(0,m.jsx)("div",{...{className:"x1rg5ohu"},children:(0,m.jsx)(tn.E,{children:(0,M.t)("general.beta")})}):null;return(0,m.jsxs)("div",{children:[e.title?(0,m.jsxs)("div",{...{className:"xxymvpz x1nfngrj"},children:[(0,m.jsx)("h2",{...{0:{className:"x17hqfcz xc3vk4y xemv814 xxsj5o3 x1ma9mv9 x1yndnjs x12638g3 x2d5hwz xyny9ap x798txr xt0psk2 x1akne3o"},1:{className:"x17hqfcz xc3vk4y xemv814 xxsj5o3 x1ma9mv9 x1yndnjs x12638g3 x2d5hwz xyny9ap x798txr xt0psk2 x1akne3o x17qaar8"}}[0|!!e.beta],children:e.title}),r]}):null,t]})},ge=function(e,t){return!!(!(0,tT.f)(e)&&tQ.v.getFeatureGate(t))};var gt=r(371917),gr=r(285723),gs=r(978650),ga=r(398370);let gi="seen_ds_figma_banner_seoul",gn="seen_ds_figma_banner_apac";function go({isoCode:e}){let t="dark"===(0,n2.DP)()?gs.A:ga.A;return(0,m.jsx)(gd,{userMeetsAudienceCriteria:"KR"===e,trackingContextName:"Design Systems with Figma Seoul Banner",userFlag:gi,logo:t,registrationLink:"https://fig-events.figma.com/ds-seoul/virtual-registration/?utm_source=event&utm_medium=pdbanner&utm_campaign=Design_System_Roadshow_Seoul"})}function gl({isoCode:e}){let t=h8.uk.includes(e),r="dark"===(0,n2.DP)()?gt.A:gr.A;return(0,m.jsx)(gd,{userMeetsAudienceCriteria:t,trackingContextName:"Design Systems with Figma APAC Banner",userFlag:gn,logo:r,registrationLink:"https://fig-events.figma.com/ds-apac/virtual-registration/?utm_source=event&utm_medium=pdbanner&utm_campaign=Design_System_APAC_webinar_in_app_banner"})}function gd({userMeetsAudienceCriteria:e,trackingContextName:t,copy:r,ctaCopy:s,logo:a,registrationLink:i,userFlag:n}){let o="dark"===(0,n2.DP)(),l=tQ.v.getFeatureGate("marketing_promo_banner_testing");return e||l?(0,m.jsxs)(h6,{trackingContextName:t,bgColor:o?h3.Tj.bgDesktopFullscreen:h3.Tj.bgSecondary,userFlag:n,size:"small",children:[(0,m.jsx)("div",{...{className:"x1lliihq x1usldi9"},children:(0,m.jsx)(sF.B,{svg:a,ariaLabel:"Design Systems with Figma",useOriginalSrcFills_DEPRECATED:!0})}),(0,m.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x13a6bvl x6dy202 xnfooyd x14atkfc xrujrje"},children:[(0,m.jsx)(h9,{copy:r||(0,M.t)("banner.marketing_promo.ds_with_figma.copy")}),(0,m.jsx)(nB.J,{brand:"bake-filebrowser",children:(0,m.jsx)(a0.pW,{href:i,size:"lg",children:s||(0,M.t)("banner.marketing_promo.register")})})]})]}):null}var gc=r(522387);let gu="seen_state_of_the_designer_2026_banner";function gm(){let e="dark"===(0,n2.DP)(),t=((0,ev.md)(a9.NT).data??"").toLocaleLowerCase().includes("design"),r=tQ.v.getFeatureGate("marketing_promo_banner_testing");return t||r?(0,m.jsxs)(h6,{trackingContextName:"State of the Designer 2026",bgColor:e?h3.Tj.bgDesktopFullscreen:h3.Tj.bgSecondary,userFlag:gu,size:"small",children:[(0,m.jsx)("div",{...{className:"x1lliihq x1usldi9"},children:(0,m.jsx)(sF.B,{svg:gc.A,ariaLabel:"State of the Designer 2026",useOriginalSrcFills_DEPRECATED:!0})}),(0,m.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1qughib xnfooyd xh8yej3 x1nwkjml"},children:[(0,m.jsx)(h9,{copy:(0,M.t)("banner.marketing_promo.state_of_the_designer_2026.copy")}),(0,m.jsx)(nB.J,{brand:"bake-filebrowser",children:(0,m.jsx)(a0.pW,{href:"https://fig-events.figma.com/state-of-the-designer-2026?utm_source=inproduct&utm_medium=banner",size:"lg",children:(0,M.t)("banner.marketing_promo.register")})})]})]}):null}function g_(){let{isPromptBoxLoading:e,wasPromptBoxEverShown:t}=h5(),r=ge(gu,"marketing_promo_banner_state_of_design_2026"),s=ge(gi,"marketing_promo_banner_ds_seoul"),a=ge(gn,"marketing_promo_banner_ds_apac"),i=(0,tT.f)(gi),n=(0,tT.f)(gn),o=(0,tT.f)(gu);if(e||t)return null;let l=tQ.v.getFeatureGate("marketing_promo_banner_testing");if((i||n||o)&&!l)return null;let d=lF.initialOptions().iso_code??"UNKNOWN";return s?(0,m.jsx)(go,{isoCode:d}):a?(0,m.jsx)(gl,{isoCode:d}):r?(0,m.jsx)(gm,{}):null}var gx=r(760037),gp=r(985891),gf=r(864467),gh=r(741405),gg=r(608293),gv=r(487466);let gb=(0,x9.x1)(gv.QC,e=>({deleted:e.camel(),file_key:e.camel(),id:e.camel(),name:e.camel(),page_id:e.camel(),thumbnail_meta:e.camel(),is_favorited:e.camel(),thumbnail_url:e.camel(),url:e.camel(),fig_file:e.drop(),recentPrototype:e.drop(),can_read:e.drop()}));(0,x9.xi)((e,t,r)=>[e()(gb),t(gb)(),r(gb)()]);let gj=(0,x9.x1)(gv.CN,e=>({shared_at:e.camel().custom({toLiveGraph:e=>new Date(e),toSinatra:e=>e.toISOString()}),shared_by:e.camel().custom({toLiveGraph:e=>null==e?null:e,toSinatra:e=>null===e?null:e}),id:e.camel(),org_or_team_name:e.drop(),shared_by_text:e.drop(),thumbnail_url:e.drop(),resource_id:e.drop(),resource_type:e.drop(),prototype:e.drop(),parent_org:e.drop(),parent_team:e.drop(),shared_by_user:e.drop(),accessed_at:e.drop()}));(0,x9.xi)((e,t,r)=>[e()(gj),t(gj)(),r(gj)()]);let gy=(0,x9.x1)(gv.h4,e=>({id:e.camel(),name:e.camel()}));(0,x9.xi)((e,t,r)=>[e()(gy),t(gy)(),r(gy)()]);let gw=(0,x9.x1)(gv.ZC,e=>({id:e.camel(),name:e.camel(),imgUrl:e.camel()}));(0,x9.xi)((e,t,r)=>[e()(gw),t(gw)(),r(gw)()]);let gE=(0,x9.x1)(gv.ks,e=>({id:e.camel(),name:e.camel().custom({toLiveGraph:e=>null===e?"":e,toSinatra:e=>e}),imgUrl:e.camel()}));function gT(e){let t=(0,tk.S2)().unwrapOr(null),r=(0,st.y)(t?.planRecordId),s=(0,E.bc)(tI.ox,{resourceTypes:e.resourceTypes,firstPageSize:e.pageSize,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null,sharedToFilter:e.sharedWithFilter||null,sharedToUserGroupIdFilter:e.sharedWithUserGroupIdFilter||null}),a=(0,_.useCallback)(()=>{r?s.data?.sharedWithYouResourcesV2.loadNext(e.pageSize):s.data?.sharedWithYouResources?.loadNext(e.pageSize)},[s,r,e.pageSize]),i="loaded"===s.status&&(r?s.data.sharedWithYouResourcesV2.isLoadingNextPage:s.data.sharedWithYouResources.isLoadingNextPage);return(0,_.useMemo)(()=>({subscription:s,fetchNextPage:a,isFetchingNextPage:i,userGroupsEnabled:r}),[s,a,i,r])}function gI(e){return(0,m.jsx)(a_.u9,{label:"SharedWithYouFilesView",children:(0,m.jsx)(gk,{...e})})}function gk(e){let t=(0,x.wA)(),r=(0,eW._6)(),s=(0,x.d4)(e=>e.tileSortFilterStateByView),a="recentsAndSharing"===r.view?s.recentsAndSharing.sharedFiles:s.sharedWithYou,i="recentsAndSharing"===r.view?r.filters?.sharedWithUserGroupId:void 0;(0,_.useEffect)(()=>{if(i){let e=gp.HQ.recentsAndSharing.sharedFiles;t(eU.JF({selectedView:r,config:{...e,filters:{...e.filters,sharedWith:_u.oc.USER_GROUP,sharedWithUserGroupIdFilter:i}},tab:gx.Gw.SHARED_FILES}));let s=new URLSearchParams(w.Ay.location.search);s.delete("sharedWithUserGroupId");let a=s.toString(),n=a?`${w.Ay.location.pathname}?${a}`:w.Ay.location.pathname;w.Ay.replace(n)}},[i,t,r]);let n={tileSortFilterConfig:a,sortKeys:[nl.C0.SHARED_AT]},o={showInFolder:!0,open:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,moveFile:!0,pinToWorkspace:!0,removeFromSharedFiles:!0},{subscription:l,fetchNextPage:d,isFetchingNextPage:c,hasNextPage:u,pageSize:p}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:s,userGroupsEnabled:a}=gT({...e,resourceTypes:["file","file_repo","prototype"],pageSize:tm.L}),i=(0,_.useMemo)(()=>a?t.data?.sharedWithYouResourcesV2.hasNextPage():t.data?.sharedWithYouResources.hasNextPage(),[t,a]),n=(0,_.useMemo)(()=>t.transform(e=>{let t=a?e.sharedWithYouResourcesV2:e.sharedWithYouResources;return(a?t:t.filter(e=>null===(e.sharedWithYouFile?.userGroupId??e.sharedWithYouRepo?.userGroupId??e.sharedWithYouPrototype?.userGroupId??null))).reduce((e,t)=>{if(t.sharedWithYouFile){let r=function(e){if(null==e||null==e.file)return null;let{file:t,...r}=e,s={...t,...r,editUrl:`${window.location.origin}/file/${t.key}/${(0,gg.sy)(t.name||"")}`,signedPreviewThumbnailUrls:null,trackTags:null,isClaimableFile:!1};return(0,m9.fA)(oU.F.toSinatra(s),{sharedAt:r.sharedAt,sharedByUser:r.sharedByUser,id:r.id})}(t.sharedWithYouFile);r&&e.push(r)}else if(t.sharedWithYouRepo){let r=function(e){let{repo:t,...r}=e;if(null===t)return null;let{branches:s,...a}=t,i=s?.filter(e=>null!=e)?.map(e=>(0,r2.V1)({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${(0,gg.sy)(e.name||"")}`:"",client_meta:e.checkpointClientMeta}))??[],n=(0,r2.V1)({...a,...r});return(0,r2.V1)({type:m9.nb.REPO,repo:n,branches:i,selectedBranchKey:""},{repoPerms:(0,gh.zh)(t)})}(t.sharedWithYouRepo);r&&e.push(r)}else if(t.sharedWithYouPrototype){let r=function(e){let t,r,s,a,{prototype:i,...n}=e;if(null==i)return null;let o=(0,r2.V1)({...i,...n,shared_with_you_id:n.id}),l=oU.F.toSinatra(i.fig_file),d={...o,fig_file:l,accessed_at:o.recent_prototype?.viewedAt?.toISOString()??null,shared_at:o.shared_at.toISOString()},c=(t=gb.toSinatra(i),r=oU.F.toSinatra(i.fig_file),s={...t,fig_file:r},a=gj.toSinatra(n),{...s,...a,shared_by_user:(n.sharedByUser&&gy.toSinatra(n.sharedByUser))??null,parent_org:(n.parentOrg&&gE.toSinatra(n.parentOrg))??null,parent_team:(n.parentTeam&&gw.toSinatra(n.parentTeam))??null,accessed_at:i.recentPrototype?.viewedAt?.toISOString()??null}),u=(0,f.getFeatureFlags)().swy_prototype_converter_full_reads?c:d;return(0,r2.V1)({type:m9.nb.PROTOTYPE,prototype:u},{prototypePerms:(0,gf.R)(i)})}(t.sharedWithYouPrototype);r&&e.push(r)}return e},[])}),[t,a]);return(0,_.useMemo)(()=>({subscription:n,fetchNextPage:r,isFetchingNextPage:s,hasNextPage:i,pageSize:tm.L}),[n,r,s,i])}({sharedBy:a.filters.sharedBy??"",planId:a.filters.plan?.planId??"",planType:a.filters.plan?.planType??"",fileType:(e=>{switch(e){case nl.t2.DESIGN:return"design";case nl.t2.FIGJAM:return"whiteboard";case nl.t2.PROTOTYPE:return"prototype";case nl.t2.SITES:return"sites";case nl.t2.SLIDES:return"slides";case nl.t2.COOPER:return"cooper";case nl.t2.MAKE:return"figmake";case nl.t2.ANY:return null;default:(0,D.xb)(e)}})(a.filters.fileType)??"",sortOrder:a.sort.dir===nl.ue.ASC?"asc":"desc",sortKey:(0,_u.De)(a.sort.key)??"shared_at",sharedWithFilter:a.filters.sharedWith??"",sharedWithUserGroupIdFilter:a.filters.sharedWithUserGroupIdFilter?[a.filters.sharedWithUserGroupIdFilter]:[]}),h=(0,_.useCallback)(()=>{c||d()},[c,d]),g=_.useMemo(()=>l.transform(e=>{let t={[m9.nb.FILE]:0,[m9.nb.PROTOTYPE]:0,[m9.nb.REPO]:0,[m9.nb.PINNED_FILE]:0,[m9.nb.OFFLINE_FILE]:0};for(let r of e)t[r.type]++;return t}),[l]),b="loaded"===l.status;(0,I.kF)("SharedFiles"),(0,I.WX)({markName:"MainBodyContent",isLoaded:b,contextArgs:{pageSize:p,numFileTiles:g.data?.[m9.nb.FILE]??null,numPrototypeTiles:g.data?.[m9.nb.PROTOTYPE]??null,numRepoTiles:g.data?.[m9.nb.REPO]??null}});let j=m3({isEligbileForProTeamLockedRevampUI:e.isEligbileForProTeamLockedRevampUI}),y=m8(j),E=n.tileSortFilterConfig.viewMode??nl.XU.GRID,T=xm({currentPlanFilter:a.filters.plan,currentSharedByFilter:a.filters.sharedBy,viewMode:E}),{openDropdown:k,dropdownData:C,isDropdownOpen:N}=_f(),[S,R]=_.useState([]),A=(0,_D.p)(l.data??[],S),F=_d({sortFilterOptions:n,selectedView:r,tab:gx.Gw.SHARED_FILES}),{visibleTiles:O,setVisibleTiles:P}=_m({viewMode:n.tileSortFilterConfig.viewMode,sortedFilteredTilesLength:l.data?.length??0});(0,m7.Cm)(O??[]);let{setRenderedTiles:L}=xc(),U=(0,m.jsx)(_L,{...j,isDraftsFolder:!1}),z=(0,ab.ol)(),W=(0,_c.v)({selectedTiles:A});return(0,m.jsx)(ep.Bm,{loadingElementId:"loading-content-pane",delay:250,result:l,loadingElementClassName:B.s.pr32.$,children:e=>{let t=0!==e.length||c?void 0:(0,m.jsx)(_j,{text:(0,M.t)("shared_with_you.no_items"),planCard:!!z&&U});return(0,m.jsx)(_M.xj,{children:(0,m.jsxs)(nr.B,{onShouldFetchNextPage:h,isFetchingNextPage:c,initialViewportEventOptions:{view:"SharedFiles",viewMode:E,hasNextPage:u??!1,pageSize:p,isMobileDevice:v.A.mobile},children:[0===e.length?t:(0,m.jsx)("div",{className:_h,children:(0,m.jsxs)("div",{className:_g,children:[(0,m.jsx)(_U.d,{checksForViewOnlyLabels:y,handleDeleteKey:W,handleOpenDropdown:k,handleOpenTile:T,items:e,listViewColumnsConfig:_B.TF,selectedTiles:A,setSelectedTiles:R,sortBy:F,sortConfig:n.tileSortFilterConfig.sort,updateRenderedItems:L,updateVisibleItems:P,viewType:n.tileSortFilterConfig.viewMode}),U]})}),(0,m.jsx)(_x,{dropdownData:C,isDropdownOpen:N,tileActions:o,selectedTiles:A,openTile:T})]})})}})}function gC(e){return(0,m.jsx)(a_.u9,{label:"SharedWithYouProjectsView",children:(0,m.jsx)(gN,{...e})})}function gN(e){let t=(0,eW._6)(),r=(0,ab.ol)(),s=(0,E.bc)(tI.kQI,{id:r?.id||""},{enabled:!!r}),a=(0,E.bc)(tI.TNJ,{id:r?.id||""},{enabled:!!r}),i=(0,x.d4)(e=>e.tileSortFilterStateByView),n="recentsAndSharing"===t.view?i.recentsAndSharing.sharedProjects:i.sharedWithYou,{subscription:o,fetchNextPage:l,isFetchingNextPage:d,hasNextPage:c,pageSize:u}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:s,userGroupsEnabled:a}=gT({...e,resourceTypes:["folder"],pageSize:tm.L}),i=(0,_.useMemo)(()=>a?t.data?.sharedWithYouResourcesV2.hasNextPage():t.data?.sharedWithYouResources.hasNextPage(),[t,a]),n=(0,_.useMemo)(()=>t.transform(e=>{let t=a?e.sharedWithYouResourcesV2:e.sharedWithYouResources;return(a?t:t.filter(e=>null===(e.sharedWithYouFolder?.userGroupId??null))).reduce((e,t)=>{if(t.sharedWithYouFolder){let{folder:r,...s}=t.sharedWithYouFolder;if(null==r)return e;let a=r.updatedAt.toString(),i=r.activeProjectResourceConnections?.[0]??null,n=(0,r2.V1)({...r,...s},{created_at:r.createdAt.toString(),updated_at:a,deleted_at:r.deletedAt?.toString()||null,touched_at:a,is_connected_project:!!i,resource_connection:i?{hostPlanName:i.hostPlanName,connectedPlanName:i.connectedPlanName}:null});e.push(n)}return e},[])}),[t,a]);return(0,_.useMemo)(()=>({subscription:n,fetchNextPage:r,isFetchingNextPage:s,hasNextPage:i,pageSize:tm.L}),[n,r,s,i])}({sharedBy:n.filters.sharedBy??"",planId:n.filters.plan?.planId??"",planType:n.filters.plan?.planType??"",orgDeletedDrafts:"",sortOrder:n.sort.dir===nl.ue.ASC?"asc":"desc",sortKey:(0,_u.De)(n.sort.key)??"shared_at",sharedWithFilter:n.filters.sharedWith??"",sharedWithUserGroupIdFilter:n.filters.sharedWithUserGroupIdFilter?[n.filters.sharedWithUserGroupIdFilter]:[]}),p=(0,_.useCallback)(()=>{d||l()},[d,l]),f="loaded"===s.status&&!!s.data.team&&s.data.team.hasPermission,h=!!a.unwrapOr({team:{hasPermission:!1}})?.team?.hasPermission,g="loaded"===o.status;(0,I.kF)("SharedProjects"),(0,I.WX)({markName:"MainBodyContent",isLoaded:g,contextArgs:{pageSize:u,numFolders:o.data?.length??null}});let b=(0,x.d4)(e=>e.tileSortFilterStateByView.recentsAndSharing.sharedProjects.viewMode??nl.XU.GRID);return(0,m.jsx)(ep.Bm,{loadingElementId:"loading-content-pane",delay:250,result:o,loadingElementClassName:B.s.pr32.$,children:s=>(0,m.jsx)(nr.B,{onShouldFetchNextPage:p,isFetchingNextPage:d,initialViewportEventOptions:{view:"SharedProjects",viewMode:b,hasNextPage:c??!1,pageSize:u,isMobileDevice:v.A.mobile},children:(0,m.jsx)(_3,{canAdminTeam:h,canEditTeamContents:f,chunkSize:s.length,currentPlanFilter:n.filters.plan,emptyStateText:d?"":(0,M.t)("shared_with_you.no_items"),isEligbileForProTeamLockedRevampUI:!!r&&e.isEligbileForProTeamLockedRevampUI,isSharerInfoIncluded:!0,selectedView:t,sortedFolderList:s,team:r,teamId:r?r.id:void 0,viewId:"shared-with-you-projects",viewMode:b})})})}(0,x9.xi)((e,t,r)=>[e()(gE),t(gE)(),r(gE)()]);var gS=r(515672),gR=r(493614),gA=r(120061),gF=r(663116),gO=r(27410),gP=r(713986);let gL=e=>(0,m.jsx)("span",{className:"unsubscribe_confirmation_modal--boldText--YhbIg",children:e}),gD=(0,ro.Ju)(function(e){let t=(0,x.wA)(),r=(0,ed.iZ)();return r?(0,m.jsxs)(gO.u,{tintedModalBackground:!0,headerText:(0,M.t)("interstitial.unsubscribe_success_header"),children:[(0,m.jsx)("div",{className:gP.Yg,children:(0,M.tx)("interstitial.unsubscribe_success_subheader_with_address",{emailName:gL((()=>{switch(e.policyType){case"FileCommentActivity":return(0,M.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,M.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,M.t)("interstitial.feed_weekly_digest");case"WorkspaceActivity":return(0,M.t)("interstitial.workspace_activity");default:(0,D.xb)(e.policyType)}})()),emailAddress:gL(r.email)})}),(0,m.jsx)(sL.nD,{onClick:()=>{t(rd.Lo())},className:"unsubscribe_confirmation_modal--button--KkLFH",children:(0,M.tx)("interstitial.done")}),(0,m.jsx)("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--0w-gp interstitial_modal--secondaryText--rGF-r",onClick:()=>{t((0,rd.to)({type:gA.s,data:{tab:gA.c.NOTIFICATIONS}})),t(rd.aZ())},children:(0,M.tx)("interstitial.open_notifications_settings")})]}):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");var gM=r(56967);let gU={showInFolder:!0,open:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,moveFile:!0,pinToWorkspace:!0};function gB({isEligbileForProTeamLockedRevampUI:e}){let t,{tilesResult:r,sortedFilteredTilesResult:s,tileSortFilterConfig:a,isPaginatedFilesQuery:i,filesPageSize:n,hasNextPage:o,tryLoadNextPage:l,isFetchingNextPage:d}=function(){let e,t,r,s,a=(0,x.d4)(e=>e.tileSortFilterStateByView.recentsAndSharing.recents),{isPaginatedQuery:i,recentFileTilesResult:n,isFetchingNextPage:o,tryLoadNextPage:l,hasNextPage:d,pageSize:c}=function(e){let t,r=(0,_u.Gv)(e.filters.fileType),s=!(e.sort.key!==nl.C0.ACCESSED_AT||e.filters.plan?.planId),[a]=(0,rw.IT)((t={action:"view",firstPageSize:tm.L,sortOrder:e.sort.dir===nl.ue.DESC?"DESC":"ASC"},r?s?tI.FdV.Query({...t,_editorTypeRaw:r}):tI.gB$.Query({_editorTypeRaw:r}):s?tI.XwL.Query(t):tI.wZi.Query({}))),i=_.useMemo(()=>a.transform(e=>"paginatedRecentFiles"in e.currentUser?e.currentUser.paginatedRecentFiles:"paginatedRecentFilesByEditorType"in e.currentUser?e.currentUser.paginatedRecentFilesByEditorType:"recentFiles2"in e.currentUser?e.currentUser.recentFiles2:e.currentUser.recentFiles2ByEditorType),[a]),n=_.useCallback(()=>{let e=i.data;if(e&&"hasNextPage"in e&&e?.hasNextPage())return e?.loadNext(tm.L)},[i]),o=_.useMemo(()=>{let e=i.data;return!!e&&"isLoadingNextPage"in e&&e.isLoadingNextPage},[i]),l=_.useMemo(()=>{let e=i.data;return!!e&&"hasNextPage"in e&&e.hasNextPage()},[i]);_.useEffect(()=>{"loaded"===i.status&&(0,gM.eF)(i.data)},[i]);let d=_.useMemo(()=>i.transform(e=>(0,r2.YN)(e)),[i]);return _.useEffect(()=>{"loaded"===d.status&&(0,gM.Wn)(d.data)},[d]),_.useMemo(()=>({isPaginatedQuery:s,recentFileTilesResult:d.transform(e=>e.recent_files.map(e=>(0,m9.fA)(e))),tryLoadNextPage:n,isFetchingNextPage:o,hasNextPage:l,pageSize:tm.L}),[d,n,o,l,s])}(a),u=(e=(0,gM.O8)(),_.useMemo(()=>e.transform(e=>e.map(m9.Nu)),[e])),m=(t=(0,x.d4)(e=>e.recentRepos),r=(0,x.d4)(e=>e.selectedBranchKeyByRepoId),_.useMemo(()=>t.map(e=>(0,m9.uy)(e,r)),[t,r])),p=(s=(0,x_.Rp)(),_.useMemo(()=>Object.values(s).map(m9.gB),[s])),f=_.useMemo(()=>a7.Qw.merge([n,u],m,p),[p,n,u,m]),h=_l({tilesResult:f,tileSortFilterConfig:a}),g=a.filters.fileType!==nl.t2.PROTOTYPE;return{tilesResult:f,sortedFilteredTilesResult:_.useMemo(()=>h.transform(e=>{if(!d||!g)return e;let t=-1;for(let r=e.length-1;r>=0;r--){let s=e[r];if(s&&s.type===m9.nb.FILE){t=r;break}}return -1===t?[]:e.slice(0,t+1)}),[h,d,g]),tileSortFilterConfig:a,isPaginatedFilesQuery:i,hasNextPage:d,filesPageSize:c,tryLoadNextPage:_.useCallback(()=>{g&&l()},[l,g]),isFetchingNextPage:o}}(),c=_.useMemo(()=>({tileSortFilterConfig:a,sortKeys:[nl.C0.NAME,nl.C0.CREATED_AT,nl.C0.ACCESSED_AT]}),[a]);!function({sort:e,viewMode:t}){let r=t??nl.XU.GRID,s=_.useRef(e),a=_.useRef(r);a.current=r,_.useEffect(()=>{sJ.az.trackDefinedEvent("file_browser.recents_sort_on_load",{sortKey:(0,_u._5)(s.current.key),sortDir:(0,_u.GB)(s.current.dir),viewMode:(0,_u.jq)(a.current)})},[]);let i=_.useRef(!0);_.useEffect(()=>{if(i.current){i.current=!1;return}sJ.az.trackDefinedEvent("file_browser.recents_sort_updated",{sortKey:(0,_u._5)(e.key),sortDir:(0,_u.GB)(e.dir),viewMode:(0,_u.jq)(a.current)})},[e.dir,e.key])}(a),t=(0,xl.wm)(()=>s.transform(e=>e.filter(e=>e.type===m9.nb.FILE).map(m9.Tf.getId)).unwrapOr(null),[s]),_.useEffect(()=>{t&&(0,f.getFeatureFlags)().track_recents_file_keys&&sJ.az.trackDefinedEvent("file_browser.recents_file_keys",{fileKeys:t.join(","),count:t.length})},[t]);let u=(0,_u.Gv)(a.filters.fileType),p=a.filters.plan?.planId,h=a.sort.dir,g=a.sort.key,b="loaded"===r.status;(0,I.kF)("RecentFiles"),(0,I.WX)({markName:"MainBodyContent",isLoaded:b,contextArgs:{pageSize:n}});let j=m3({isEligbileForProTeamLockedRevampUI:e}),y=m8(j),w=xm({viewMode:c.tileSortFilterConfig.viewMode??nl.XU.GRID}),{openDropdown:E,dropdownData:T,isDropdownOpen:k}=_f(),[C,N]=_.useState([]),S=(0,_D.p)(s.data??[],C),R=_d({sortFilterOptions:c,selectedView:(0,eW._6)(),tab:xu.G.RECENTLY_VIEWED}),{visibleTiles:A,setVisibleTiles:F}=_m({shouldLogVisibleTileCount:!0,viewMode:c.tileSortFilterConfig.viewMode,sortedFilteredTilesLength:s.data?.length??0});(0,m7.Cm)(A??[]);let{setRenderedTiles:O}=xc(),P=(0,m.jsx)(_L,{...j,isDraftsFolder:!1}),L=(0,ab.ol)(),D=(0,e$.FC)(),U=_.useMemo(()=>(0,eO.R$)(D.user,D.currentUserOrgId),[D]),z=(0,_c.v)({selectedTiles:S});return(0,m.jsx)(ep.Bm,{loadingElementId:"loading-content-pane",result:a7.Qw.all([r,s]),loadingElementClassName:B.s.pr32.$,children:([e,t])=>{let r;return 0===t.length&&(e.length>0?r=(0,m.jsx)(_b,{}):null!==u?r=(0,m.jsx)(_j,{text:(0,M.t)("file_browser.tiles_view.default_overfiltered_text"),planCard:!!L&&P}):v.A.mobile||v.A.tablet?r=(0,m.jsx)(_j,{text:(0,M.t)("file_browser.tool_bar.recently_viewed_empty_state"),planCard:!!L&&P}):U||(r=(0,m.jsx)(_y,{title:(0,M.t)("file_browser.folder.no_files_yet"),planCard:P}))),(0,m.jsxs)(_M.xj,{children:[(0,m.jsxs)(nr.B,{onShouldFetchNextPage:l,isFetchingNextPage:d,initialViewportEventOptions:{view:"RecentFiles",viewMode:a.viewMode,hasNextPage:o,pageSize:n,isMobileDevice:v.A.mobile,disabled:!i},children:[0===t.length?r:(0,m.jsx)("div",{className:_h,children:(0,m.jsxs)("div",{className:_g,children:[(0,m.jsx)(_U.d,{checksForViewOnlyLabels:y,handleDeleteKey:z,handleOpenDropdown:E,handleOpenTile:w,items:t,listViewColumnsConfig:(0,_B.l1)(y),selectedTiles:S,setSelectedTiles:N,sortBy:R,sortConfig:a.sort,updateRenderedItems:O,updateVisibleItems:F,viewType:a.viewMode}),P]})}),(0,m.jsx)(_x,{dropdownData:T,isDropdownOpen:k,tileActions:gU,selectedTiles:S,openTile:w})]},`${u}-${p}-${g}-${h}`),(0,m.jsx)(mf.cx,{})]})}})}var gz=r(418754),gW=r(691414);function gV(){return{"":{label:(0,M.t)("shared_with_you.filters.all_organizations")}}}let gG=rw.M4.Query({fetch:async e=>{let t=await gW.j.getPlanFilterOptions({resource_type:e}),r={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(r[e.plan_id]=t)}),{...gV(),...r}}});function gH(){return{"":(0,M.t)("shared_with.you.filters.anyone")}}let g$=[gx.Gw.RECENTLY_VIEWED,gx.Gw.SHARED_FILES,gx.Gw.SHARED_PROJECTS];function gq(e){let t=e.options.tileSortFilterConfig.filters.sharedBy,r=e.options.tileSortFilterConfig.filters.plan,s=(0,tk.S2)().unwrapOr(null),a=(0,st.y)(s?.planRecordId);return(0,m.jsxs)("div",{className:B.s.flex.flexWrap.gap8.$,children:[a&&e.filters?.sharedWith&&(0,m.jsx)(mZ.ve,{config:e.options.tileSortFilterConfig,tab:e.tab,userGroupIdFilterOptions:e.filters.sharedWithUserGroupIdFilter}),e.filters?.sharer&&Object.keys(e.filters?.sharer).length>1&&(0,m.jsxs)(m.Fragment,{children:[t&&(0,m.jsx)(mZ.qD,{userId:t}),(0,m.jsx)(mZ.lI,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})]}),e.filters?.plan&&Object.keys(e.filters?.plan).length>1&&(0,m.jsxs)(m.Fragment,{children:[r?.planId&&(0,m.jsx)(mZ.lV,{planOption:e.filters.plan[r.planId]}),(0,m.jsx)(mZ.FU,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})]}),e.filters?.fileType&&(0,m.jsx)(mZ.ye,{config:e.options.tileSortFilterConfig,tab:e.tab})]})}function gK(){let e,t,r,s=(0,eW._6)(),a="recentsAndSharing"===s.view?s.tab:gx.Gw.RECENTLY_VIEWED,i=(0,x.wA)(),n=(0,x.d4)(e=>e.tileSortFilterStateByView),o=a===gx.Gw.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],l={[_u.oc.ALL]:(0,M.t)("shared_with_you.filters.shared_with.all"),[_u.oc.USER]:(0,M.t)("shared_with_you.filters.shared_with.you_directly"),[_u.oc.USER_GROUP]:(0,M.t)("shared_with_you.filters.shared_with.your_user_groups")},d=function(e){let[t,r]=(0,_.useState)(gH()),s=e.join("&resource_type[]=");return(0,_.useEffect)(()=>{gW.j.getSharerFilterOptions({resource_type:s}).then(({data:e})=>{r(e.meta.shared_by_filters.reduce((e,{user_id:t,label:r})=>({...e,[t]:r}),{...gH()}))})},[s]),t}(o),c=(e=(0,x.d4)(e=>e.plans),t=(0,x.d4)(e=>e.orgById),r=(0,x.d4)(gz.P),e.map(e=>{let s="";if(e.plan_type===dx.O.ORG){let r=t[e.plan_id];s=r?.name??s}else{let t=r[e.plan_id];s=t?.name??s}return{label:s,plan_id:e.plan_id,plan_type:e.plan_type===dx.O.ORG?dx.O.ORG:dx.O.TEAM}}).reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...gV()})),u=function(e){let t=e.join("&resource_type[]="),[r]=(0,rw.IT)(gG(t));return r.data||gV()}(o),p={[_u.cT.ALL]:(0,M.t)("shared_with_you.filters.org_deleted_drafts.all"),[_u.cT.SHARED]:(0,M.t)("shared_with_you.filters.org_deleted_drafts.shared"),[_u.cT.ORG_DELETED_DRAFTS]:(0,M.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")},f=function(){let[e,t]=(0,_.useState)({}),r=(0,tk.S2)().unwrapOr(null),s=(0,st.y)(r?.planRecordId);return(0,_.useEffect)(()=>{s&&gW.j.getUserGroupIdFilterOptions().then(({data:e})=>{t(Object.fromEntries(e.meta.shared_with_user_group_filters.map(({id:e,name:t})=>[e,t])))})},[s]),e}(),h={sharer:a!==gx.Gw.RECENTLY_VIEWED?d:void 0,plan:a===gx.Gw.RECENTLY_VIEWED?c:u,fileType:a!==gx.Gw.SHARED_PROJECTS,orgDeletedDrafts:a===gx.Gw.SHARED_PROJECTS?p:void 0,sharedWith:a!==gx.Gw.RECENTLY_VIEWED?l:void 0,sharedWithUserGroupIdFilter:a!==gx.Gw.RECENTLY_VIEWED?f:void 0},g=_.useMemo(()=>{let e;switch(a){case gx.Gw.RECENTLY_VIEWED:e=n.recentsAndSharing.recents;break;case gx.Gw.SHARED_FILES:e=n.recentsAndSharing.sharedFiles;break;case gx.Gw.SHARED_PROJECTS:e=n.recentsAndSharing.sharedProjects;break;default:(0,D.xb)(a)}return{tileSortFilterConfig:e,sortKeys:gx.oU[a]}},[a,n]),v=(0,m.jsx)("div",{...{className:"x78zum5 x6s0dn4"},children:(0,m.jsx)(m0.$c,{initialViewMode:g.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,sJ.sx)("file view toggle",{viewType:e===nl.XU.GRID?"grid":"list"}),Object.keys(gx.Gw).map(t=>{i(eU.JF({selectedView:s,config:{...g.tileSortFilterConfig,viewMode:e},tab:gx.Gw[t]}))},i(eU.uV({viewId:"shared-with-you-projects",viewMode:e})))}})}),b=(0,m.jsx)(mZ.mc,{options:g,selectedView:s,dispatch:i,tab:a}),j=(0,m.jsxs)("div",{className:B.s.flex.gap8.$,children:[b,v]},"sortWithViewOptions"),y=(0,m.jsx)(gq,{options:g,filters:h,tab:a},"recentsAndSharingTileFilters"),[w,E,T]=ot.t.useManagedTabs({[gx.Gw.RECENTLY_VIEWED]:!0,[gx.Gw.SHARED_FILES]:!0,[gx.Gw.SHARED_PROJECTS]:!0},a,e=>{e===gx.Gw.SHARED_FILES?(0,sJ.sx)("file_browser_shared_files"):e===gx.Gw.SHARED_PROJECTS&&(0,sJ.sx)("file_browser_shared_projects"),i(ez.sf({view:"recentsAndSharing",tab:e}))}),I=g$.map((e,t)=>(0,m.jsx)(ot.t.Tab,{...w[e],children:(e=>{switch(e){case gx.Gw.RECENTLY_VIEWED:return(0,M.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case gx.Gw.SHARED_PROJECTS:return(0,M.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case gx.Gw.SHARED_FILES:return(0,M.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,D.xb)(e)}})(e)},t)),k=[y,j];return(0,m.jsx)(uP.f,{leftSide:(0,m.jsx)(ot.t.TabStrip,{manager:T,children:I}),rightSide:k,rightSideMobile:k,shouldStackRightSideMobile:!0})}function gY(e){switch(e){case iO.bb.ACCOUNT:return gA.c.ACCOUNT;case iO.bb.COMMUNITY:return gA.c.COMMUNITY;case iO.bb.NOTIFICATIONS:return gA.c.NOTIFICATIONS}}function gJ(e){let t,r,s,a=(0,x.wA)(),i=(0,eP.R)(),n=xz({checks:{isEligbileForProTeamLockedRevampUI:i}}).unwrapOr(!1),{accountModalTab:o,emailPolicyToUnsubscribeFrom:l}=e,d=(0,m.jsx)(gK,{}),c=(0,g.ZC)(o),u=(0,g.ZC)(l);return(0,gR.i)(),(0,gS.V)(),t=(0,x.wA)(),r=(0,ed.iZ)(),s=(0,ab.ol)(),(0,_.useEffect)(()=>{if(r&&s&&"true"===sessionStorage.getItem("figma_initial_api_paywall")){sessionStorage.removeItem("figma_initial_api_paywall");let e=s.student_team?eK.Ag.STUDENT:s.org_team?eK.Ag.ORG:s.pro_team?eK.Ag.PRO:eK.Ag.STARTER,a=s.id.toString();if(sJ.az.trackDefinedEvent("monetization_expansion.api_paywall_redirect",{userId:r.id.toString(),planType:e,planParentType:e,planId:a,planParentId:a,redirectDestination:e===eK.Ag.STARTER?"pricing":"settings"}),e===eK.Ag.STARTER||e===eK.Ag.STUDENT)return void w.Ay.redirect("/pricing","_blank");t((0,rd.to)({type:gA.s,data:{tab:gA.c.ACCOUNT}}))}},[r,s,t]),(0,_.useEffect)(()=>{o&&o!==c?(a((0,rd.to)({type:gA.s,data:{tab:gY(o)}})),a(ez.sf({view:"recentsAndSharing"}))):l&&l!==u&&(gF.z.updateUserCommunicationPreference({channelType:"email",policyType:l,policySetting:"none"}).then(()=>{a((0,rd.to)({type:gD,data:{policyType:l}}))}).catch(e=>{a((0,rd.to)({type:gA.s,data:{tab:gY(iO.bb.NOTIFICATIONS)}})),a(t_.F.dequeue({}))}),a(ez.sf({view:"recentsAndSharing"})))},[o,c,l,u,a]),(0,m.jsx)(nI.r,{banner:n?(0,m.jsx)(xq,{folderId:null}):(0,m.jsx)(g_,{}),viewbar:d,toolbar:(0,m.jsx)(h7,{}),viewBarSticky:!0,content:function(e){let t=(0,eW._6)(),r="recentsAndSharing"===t.view?t.tab:gx.Gw.RECENTLY_VIEWED;switch(r){case gx.Gw.SHARED_FILES:return(0,m.jsx)(gI,{isEligbileForProTeamLockedRevampUI:e?.isEligbileForProTeamLockedRevampUI});case gx.Gw.SHARED_PROJECTS:return(0,m.jsx)(gC,{isEligbileForProTeamLockedRevampUI:e?.isEligbileForProTeamLockedRevampUI});case gx.Gw.RECENTLY_VIEWED:return(0,m.jsx)(gB,{isEligbileForProTeamLockedRevampUI:e?.isEligbileForProTeamLockedRevampUI});default:(0,D.xb)(r)}}({isEligbileForProTeamLockedRevampUI:i})})}var gX=r(79251);function gQ({teamId:e}){let t=(0,E.bc)(tI.GyZ,{teamId:e}),r=t.data?.team||null,s=(0,eo.dq)();if(!r?.org)return null;if(s!==r.org.id)return(0,m.jsx)(x1,{planEntity:r.org});let a=r.org?.hasWorkspaces&&r.plan?.tier===gX.PlanTier.ENTERPRISE;return(0,m.jsxs)(ll.A5,{children:[r.org&&(0,m.jsx)(xZ,{org:r.org,currentResourceId:e,hasTrailingDivider:!!r.workspace||a}),(r.workspace||a)&&(0,m.jsx)(x5,{workspace:r.workspace??{id:nx.O},currentResourceId:e,orgId:r.org?.id,hasTrailingDivider:!1})]})}var gZ=r(37760),g0=r(389742),g1=r(570798),g2=r(462359);function g4(){return tQ.v.getFeatureGate("fb_team_page_pagination_folder_items")}var g5=r(115625);function g7(e,t){return g3(e,t).filter(({path:e})=>{let t=e[1];return!t||t in rG.lH.shape&&!g8.includes(t)})}let g3=(0,p3.BG)({strictLists:!0,strictRecords:!0}),g8=["is_favorited","is_subscribed"];var g6=r(977030);function g9(){return(0,m.jsxs)("div",{className:B.s.flex.p12.colorBgSelected.bRadius6.m32.$,children:[(0,m.jsx)("div",{className:B.s.mr12.colorIcon.itemSelfCenter.$,children:(0,m.jsx)(sF.B,{svg:g6.A})}),(0,m.jsxs)("div",{children:[(0,M.tx)("sidebar.meta.this_team_is_for_education_users_only")," ",(0,m.jsx)(sL.Us,{target:"_blank",trusted:!0,href:"/education/",children:(0,M.tx)("org_home_view_meta.learn_more")})]})]})}function ve({team:e}){let t=(0,x.wA)(),r=(0,E.bc)(tI.kQI,{id:e.id}),s=!!r.data?.team?.hasPermission,[{data:a}]=(0,T.IT)((0,xa.Xg)({teamId:e.id})),i=(a||[]).filter(e=>""!==e.name).length,n=(0,k.I7)("exp_fbg_project_limit_upsell");if(!(!e.subscription&&!e.org_id&&s&&i>=it.Wf)||n.getConfig().getValue("show_upsell",!1))return null;let o=(0,m.jsx)(sL.Us,{onClick:()=>{t((0,rd.to)({type:af.V,data:{teamId:e.id,entrypoint:av.C.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:eb.c.UPGRADE_TO_A_PAID_PLAN},"data-testid":"starterTeamUpsellFooterUpgradeLink",children:(0,M.tx)("file_browser.starter_team.upgrade_link")});return(0,m.jsx)(U.fu,{name:"Starter Team Upsell Footer",children:(0,m.jsx)("div",{className:ee()(B.s.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--8C-UI"),"data-testid":"starterTeamUpsellFooter",children:(0,m.jsxs)("div",{className:ee()(B.s.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper--MH8ZE"),children:[(0,m.jsx)("strong",{children:i===it.Wf?(0,M.tx)("file_browser.starter_team.project_limit_warning",{maxProjects:it.Wf}):(0,M.tx)("file_browser.starter_team.project_limit_warning_over_max_projects")}),(0,m.jsx)("p",{className:B.s.alignCenter.$,children:(0,M.tx)("file_browser.starter_team.project_limit_info",{upgradeLink:o})})]})})})}var vt=r(571959),vr=r(921122);function vs({team:e,onInviteClick:t,onMembersClick:r,setFavorite:s,removeFavorite:a}){let{getTriggerProps:i,manager:n}=t8.b(),o=e.org_id??null,l=(0,eu.Q)({currentOrgId:o,currentTeamId:null}),d=(0,p7.Y)(e.id,eK.bk.TEAM,o,null),c=l.transform(e=>(0,ei.t$)(e.currentUser.userSidebarSections?.status===td.OptionalStatus.Loaded?e.currentUser.userSidebarSections?.data??[]:[],e.currentUser.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[])).unwrapOr([]),u=_.useMemo(()=>{if("loaded"===l.status)return(0,ei.T0)(l.data.currentUser,e.id)},[l,e.id]),x=_.useCallback(({sectionId:e})=>{s({favoriteId:u?.id,sectionId:e})},[s,u]),p=_.useCallback(()=>{u&&a({favoriteId:u.id})},[a,u]),h=!l.data||(0,ei.gV)(l.data.currentUser),{favorite:g,hasMaxFavorites:v,orderedSidebarSections:b}=(0,p3.u8)({oldValue:{favorite:u,hasMaxFavorites:h,orderedSidebarSections:c},newValue:{favorite:d.favorite,hasMaxFavorites:d.hasMaxFavorites,orderedSidebarSections:(0,ei.t$)((0,et.oA)(d.userSidebarSections)??[],d.orderedSidebarSections??[])},label:vr.A.TeamToolbarMobileOverflowDropdown.sidebarData,oldValueReady:"loaded"===l.status,newValueReady:"loaded"===d.status,enableShadowRead:(0,f.getFeatureFlags)().context_menu_favorites_shadow_reads});return"loaded"!==l.status?(0,m.jsx)("div",{className:B.s.flex.itemsCenter.colorIcon.$,children:(0,m.jsx)(sF.B,{svg:p6.A})}):(0,m.jsxs)(t8.bL,{manager:n,children:[(0,m.jsx)(iu.E,{className:ee()(B.s.flex.itemsCenter.colorIcon.$,p8.HM),...i(),children:(0,m.jsx)(t9.J,{})}),(0,m.jsxs)(t8.mc,{children:[(0,m.jsx)(t8.q7,{onClick:t,children:(0,M.tx)("file_browser.team.invite")},"invite"),(0,m.jsx)(t8.q7,{onClick:r,children:(0,M.tx)("file_browser.team.view_members")},"view-members"),(0,m.jsxs)(t8.g8,{children:[(0,m.jsx)(t8.ZP,{children:(0,M.tx)("favorited_resources.add_to_sidebar")}),(0,m.jsx)(t8.MJ,{children:(0,m.jsx)(rE.b,{setFavorite:x,removeFavorite:p,resourceId:e.id,resourceType:eK.bk.TEAM,favoriteId:g?.id,orderedSidebarSections:b,userHasMaxFavorites:v})})]})]})]})}var va=r(122639),vi=r(396041),vn=r(257155),vo=r(51712),vl=r(267925),vd=r(481934),vc=r(391090),vu=r(451265),vm=r(72655),v_=r(140295),vx=r(276562),vp=r(607965),vf=r(681636);let vh=e=>({tileSortFilterConfig:e.team,sortKeys:[nl.C0.NAME,nl.C0.TOUCHED_AT]});function vg(){let e,t=(0,x.wA)(),r=(0,eW._6)(),s=(0,x.d4)(e=>e.tileSortFilterStateByView),a=(e=(0,mX.xx)(vh)(s),[(0,m.jsx)(mZ.mc,{dispatch:t,options:e,selectedView:r},0),(0,m.jsx)(m0.$c,{initialViewMode:e.tileSortFilterConfig.viewMode,onViewModeChange:s=>{(0,sJ.sx)("team folder view toggle",{viewType:s===nl.XU.GRID?"grid":"list"}),t(eU.JF({selectedView:r,config:{...e.tileSortFilterConfig,viewMode:s}}))}},1)]);return(0,m.jsx)(uP.f,{leftSide:null,rightSide:a})}function vv(e){let{team:t,orgTeamActionType:r}=e;switch(r){case f4.gO.CLICK_JOIN:case f4.gO.BYPASS_REQUEST:return(0,m.jsxs)(m.Fragment,{children:[(0,M.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),(0,m.jsx)("br",{}),(0,M.tx)("file_browser.team.please_join_team")]});case f4.gO.CLICK_REQUEST:return(0,m.jsxs)(m.Fragment,{children:[(0,M.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),(0,m.jsx)("br",{}),(0,M.tx)("file_browser.team.please_request_to_join_team")]});case f4.gO.CLICK_WITHDRAW:return(0,M.tx)("file_browser.team.request_to_join_team_is_pending",{teamName:t.name});default:return(0,M.tx)("file_browser.team.no_permissions_message",{teamName:t.name})}}function vb({team:e}){let t=(0,x.d4)(e=>(0,iA.getPermissionsStateMemoized)(e)),r=(0,x.d4)(t=>t.teamRoleRequests[e.id]),s=(0,tk.px)(),a=(0,tk.j_)(s).unwrapOr(!1),i=(0,f4.YP)(e,r,t,a),n=(0,x.wA)(),o=(0,m.jsxs)("div",{className:"team_page_view--nonMemberViewContainer--6XE5w","data-testid":"non-member-join-content",children:[(0,m.jsxs)("div",{className:"team_page_view--header--y6fEy",children:[(0,m.jsx)(r9.nl,{team:e,size:r9.Pf.LARGE}),(0,m.jsx)("span",{className:"team_page_view--teamName--VkU-3 text--fontPos18--FkHj- text--_fontBase--VaHfk",children:e.name})]}),(0,m.jsx)("div",{className:"team_page_view--joinOptionText--pqCox text--fontPos14--QJNQC text--_fontBase--VaHfk",children:(0,m.jsx)(vv,{team:e,orgTeamActionType:i})}),(0,m.jsx)("div",{className:"team_page_view--joinButton--c3QsD",children:(0,m.jsx)(vn.m3,{team:e,onJoin:(0,vt.GR)(n,e.id),onLeave:()=>{n(rd.to({type:nc.p,data:{teamId:e.id}}))},isCardActive:!1})})]});return(0,m.jsx)(nI.r,{content:o})}function vj({teamId:e,selectedTab:t,upgradeModalType:r,showProOnboardingModal:s,showResourceConnectionInviteModal:a}){let i,n=(0,a5.R)(t=>t.teams[e]),o=(0,x.d4)(e=>e.currentUserOrgId),l=(0,x.d4)(e=>n&&n.org_id&&e.orgById[n.org_id]||null),d=(0,x.d4)(e=>e.loadingState),c=(0,x.wA)(),u=(0,eW._6)(),[p,g]=_.useState(!1);(0,g0.r)(e);let v=(0,vu.Z)(a),b=(0,vd.t)(v,a);_.useEffect(()=>{a&&b()},[a,b]);let j=(0,vm.Sh)(e).transform(e=>e.tier===eK.Ag.PRO||e.tier===eK.Ag.STUDENT).unwrapOr(!1);(0,E.bc)(tI.yQw,{teamId:e});let y=(0,vc.dr)(e),w="loaded"===y.status,I=(0,x.Pj)(),k=_.useRef(!1);_.useEffect(()=>{"loaded"===y.status&&!k.current&&y.data?.canRead&&((0,vx.xN)(e,I,{shouldTrack:!0}),k.current=!0)},[y,I,e]);let[C]=(0,T.IT)((0,xa.Xg)({teamId:n?.id}),{revalidateOnMount:!0}),N=(0,x.d4)(e=>e.tileSortFilterStateByView.team),S=void 0!==N.viewMode?N.viewMode:nl.XU.GRID,R=_$({foldersResult:C,folderSortConfig:N}),A=(i={teamId:e},g4()?function({teamId:e}){let t=(0,x.d4)(e=>e.tileSortFilterStateByView.team),[r]=(0,T.IT)((0,tI.Y6$)({compositeParentResourceId:`team:${e}`,firstPageSize:tm.L,sortColumn:t.sort.key===nl.C0.NAME?"name":"touchedAt",sortOrder:t.sort.dir===nl.ue.ASC?"ASC":"DESC"}));return _.useMemo(()=>r.transform(e=>{let t=(0,et.oA)(e.folderItemsExperimentalV2,null);return t?t.reduce((e,t)=>{let r=t.folderItemExperimentalV2Folder?.folder;if(r){let s=pr.toSinatra(r),a={...s,touched_at:t.touchedAt.toISOString(),is_subscribed:!1,is_connected_project:null!==s.resource_connection};e.push(a)}return e},[]):[]}),[r])}(i):function({teamId:e}){let t=(0,x.d4)(e=>e.tileSortFilterStateByView.team),[r]=(0,T.IT)((0,tI.sNz)({teamId:e,firstPageSize:tm.L,sortType:t.sort.key===nl.C0.NAME?"name":"touched_at",sortDirection:t.sort.dir===nl.ue.ASC?"asc":"desc"}));return _.useMemo(()=>r.transform(e=>{let t=e.teamProjects;return t?t.reduce((e,t)=>{if(t.project){let r=pr.toSinatra(t.project),s={...r,touched_at:t.touchedAt.toISOString(),is_subscribed:!1,is_connected_project:null!==r.resource_connection};e.push(s)}return e},[]):[]}),[r])}(i)),F=y.data,O={canAdminOrg:!!F?.canAdminOrg,canAdminTeam:!!F?.canAdmin,canEditTeam:!!F?.canEdit,canReadTeam:!!F?.canRead,canDeleteTeam:!!F?.canDelete,isInTeam:!!F?.isInTeam,hasRoleAccess:!!F?.hasRoleAccess},P=!!n&&(0,ab.PS)(n),L=(0,E.bc)(tI.InN,{},{enabled:P}),D=(0,td.unwrap)(L.data?.personalDraftToPlanDraftLocation),U=D?.planParentId===e&&D?.status==="started";(0,h.h)(()=>{let e=(0,vl.QL)("team_role_redemption");if(e&&parseInt(e)in fs.e6){let e=(0,vp.VE)();e&&c(t_.F.enqueue({message:e})),(0,vl.EM)("team_role_redemption")}}),_.useEffect(()=>{let e=vo.um.loadingKeyForPayload();(0,l6.VP)(d,e)||(0,l6.D2)(d,e)||c(vo.um())},[c,d]),_.useEffect(()=>{o&&c((0,fr.Rw)())},[c,o]),_.useEffect(()=>{if(n)g(!1);else{let t=vt.HD.loadingKeyForPayload({teamId:e}),r=`TEAM_GET_ACTION_${e}`;o&&!d[t]?c(vt.HD({teamId:e,disableFlashError:!0})):(0,l6.VP)(d,t)||(0,l6.VP)(d,r)||g(!0)}},[c,d,n,e,o]),_.useEffect(()=>{if(!n||n.org_id)return;let e=x8.m$.loadingKeyForPayload({teamId:n.id});if((0,l6.VP)(d,e)||(0,l6.D2)(d,e)||c(x8.m$({teamId:n.id})),t===as.A$.MEMBERS){let e=x8.m$.loadingKeyForPayload({teamId:n.id});(0,l6.VP)(d,e)||(0,l6.D2)(d,e)||c(x8.m$({teamId:n.id}))}else if(t===as.A$.SETTINGS){let e=xV.Be.loadingKeyForPayload({teamId:n.id});O.canAdminTeam&&j&&!(0,l6.VP)(d,e)&&!(0,l6.D2)(d,e)&&c(xV.Be({teamId:n.id}))}},[c,t,d,n,l,j,O.canAdminTeam]);let B=(0,ed.Pc)(),z=(0,E.bc)(tI.Cit,{teamId:e}),W=z.data?.team?.currentTeamUser;_.useEffect(()=>{let e;if(!(n&&B&&W&&r)||!j)return;let s=r===eK.G_.WHITEBOARD?eK._Y.WHITEBOARD:eK._Y.DESIGN;s===eK._Y.DESIGN?e=W.designAccountTypeRequest?.status==="pending":s===eK._Y.WHITEBOARD&&(e=W.whiteboardAccountTypeRequest?.status==="pending"),!0===e&&c(aD.s.flash((0,M.t)("team_view.request_upgrade.request_already_sent"))),c(ez.sf({view:"team",teamId:n.id,teamViewTab:t}))},[c,n,B,W,r,j,t]);let V=!!aQ.Co?.getItem(g5.W),G=s&&!V;(0,h.h)(()=>{G&&c(rd.to({type:vf.C,data:{teamId:e}}))});let H=_.useRef(!1);_.useEffect(()=>{!H.current&&"team"===u.view&&u.assetTransferRequestId&&c(rd.to({type:(0,g1.S)(),data:{selectedAssetTransferRequest:u.assetTransferRequestId}})),H.current=!0});let $=p||!O.canReadTeam&&!o;return(!function({teamFoldersResult_OLD:e,teamFoldersResult_NEW:t,sortConfig:r}){var s,a;let[i]=_.useState(()=>(0,gZ.g)()),[n]=_.useState("loaded"===e.status||"loaded"===t.status),o=!!(0,f.getFeatureFlags)().team_pagination_client_side_shadow_read,l=(s=e.data,a=t.data,_.useMemo(()=>{if(!s||!a)return[];let e={},t={};for(let t of s)t.touched_at&&(e[t.id]=new Date(t.touched_at));for(let e of a)e.touched_at&&(t[e.id]=new Date(e.touched_at));let r=[];for(let s of a){let a=Math.max(e[s.id]?.getTime()||0,t[s.id]?.getTime()||0);Date.now()-a<3e5&&r.push(s.id)}return r},[s,a])),d=_.useMemo(()=>{if("loaded"===e.status&&"loaded"===t.status){let r=t.data.length;return e.data.slice(0,r)}return[]},[t.data,t.status,e.data,e.status]);(0,p3.u8)({oldValue:d,newValue:t.data,label:p3.A5.TeamPageView.folders,oldValueReady:"loaded"===e.status&&e.data.length>0,comparator:g7,newValueReady:"loaded"===t.status&&t.data.length>0,trackLatency:!n,enableShadowRead:!n&&o,sampleRate:100,contextArgs:{numFolders_OLD:e.transform(e=>e.length).unwrapOr(null),numFolders_NEW:t.transform(e=>e.length).unwrapOr(null),shadowReadId:i,recentTouchedAtFolderIds:l.join(","),isFolderItemsPaginatedTeamFoldersEnabled:g4(),sortType:(0,_u._5)(r.key),sortDir:(0,_u.GB)(r.dir)}})}({teamFoldersResult_OLD:R,teamFoldersResult_NEW:A,sortConfig:N.sort}),w)?$?(0,m.jsx)(nP.S,{resourceType:iO.Ft.TEAM}):n?O.canReadTeam?(0,m.jsx)(vy,{team:n,lgTeamPermissions:O,org:l,user:B,selectedTab:t,shouldBlockTeamActionsDuringDTMMigration:U,teamFoldersStatus:R.status,sortedTeamFolders:R.data??[],viewMode:S}):(0,m.jsx)(vb,{team:n}):null:(0,m.jsx)(nO.qc,{})}function vy({team:e,lgTeamPermissions:t,org:r,user:s,selectedTab:a,shouldBlockTeamActionsDuringDTMMigration:i,teamFoldersStatus:n,sortedTeamFolders:o,viewMode:l}){var d,c;let u,h,g,v,b,j,y,w,E,{canAdminOrg:T,canAdminTeam:k,canEditTeam:C,canReadTeam:N,isInTeam:S,canDeleteTeam:R}=t,A="loaded"===n,F=o?.length,O=e.id;(0,i6.I)(A&&void 0!==F&&0!==F,(e,t,r)=>{t||r||0===e||!(0,f.getFeatureFlags)().livestore_fix_throttled_invalidate||sJ.az.trackDefinedMetric("file_browser.team_page_folders_load_time",{durationMs:e,teamId:O,folderCount:F,isPaginated:!1})});let P=(0,eL.vt)(O),L=(0,eP.R)(O),D=(0,eP.jn)(),z=(0,x.d4)(e=>e.teamBilling),W=(0,x.wA)(),V=(0,eW._6)(),G=(0,tk.No)().unwrapOr(null),H=(0,st.y)(G?.planRecordId),$=_.useCallback(t=>{let r={view:"team",teamId:e?e.id:"",teamViewTab:t};W(ez.sf(r))},[W,e]),q=(0,x.d4)(e=>e.avatarEditorState),K=(0,x.d4)(e=>e.teamRoleRequests),Y=_.useMemo(()=>{if(e&&N)switch(e.org_access){case eK.bU.PRIVATE:return(0,M.t)("file_browser.team_header.closed_team_header");case eK.bU.SECRET:return(0,M.t)("file_browser.team_header.secret_team_header")}},[e,N]),J=_.useMemo(()=>{if(e&&N){if(e.org_access===eK.bU.PRIVATE)return(0,M.t)("file_browser.team_header.closed_team_subtitle");else if(e.org_access===eK.bU.SECRET)return(0,M.t)("file_browser.team_header.secret_team_subtitle")}},[e,N]),X=_.useMemo(()=>{if(e&&N){if(e.org_access===eK.bU.PRIVATE)return(0,M.t)("file_browser.team_header.closed_team_sr_only_text");else if(e.org_access===eK.bU.SECRET)return(0,M.t)("file_browser.team_header.secret_team_sr_only_text")}},[e,N]),Q=_.useCallback(({favoriteId:t,sectionId:r})=>{W(eG.DN({team:e,entrypoint:"team_page_view",sectionId:r,favoriteId:t}))},[W,e]),Z=_.useCallback(({favoriteId:t})=>{W(eG.ox({team:e,entrypoint:"team_page_view",favoriteId:t}))},[W,e]),ee=()=>{W((0,xa.SX)({where:rG.Ah.FolderListView,team:{...e,canEdit:!!t.canEditTeam}}))},et=()=>{W(ez.oB()),eo(),$(as.A$.SETTINGS)},er=(0,vi.s)(),es=_.useCallback(()=>{er({teamId:O,canAdmin:t.canAdminTeam})},[er,O,t.canAdminTeam]),ea=e?{team:e,billing:z,teamId:e.id}:void 0,ei={view:"team",teamId:O,teamViewTab:as.A$.HOME},en=(0,g2.n)(va.am.MEMBERS,ea,!!t.canAdminTeam,!!t.canEditTeam,!!t.canReadTeam,ei),eo=(0,g2.n)(va.am.SETTINGS,ea,!!t.canAdminTeam,!!t.canEditTeam,!!t.canReadTeam,ei);_.useEffect(()=>{a===as.A$.MEMBERS?en():a===as.A$.SETTINGS&&eo()},[]),(0,I.kF)("Team"),(0,I.WX)({markName:"MainBodyContent",isLoaded:A,contextArgs:{numFolders:F??null}}),u=e.org_id?A?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(_3,{canAdminTeam:k,canEditTeamContents:C,isEligbileForProTeamLockedRevampUI:L,onCreateNewFolder:ee,selectedView:V,sortedFolderList:o||[],team:e,teamId:O,viewId:`team-${O}`,viewMode:l}),(0,m.jsx)(mf.cx,{})]}):(0,m.jsx)(nO.qc,{}):(0,m.jsx)(m.Fragment,{children:A?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(_3,{canAdminTeam:k,canEditTeamContents:C,isEligbileForProTeamLockedRevampUI:L,onCreateNewFolder:ee,selectedView:V,sortedFolderList:o||[],team:e,teamId:O,viewId:`team-${O}`,viewMode:l}),(0,m.jsx)(mf.cx,{})]}):(0,m.jsx)(nO.qc,{})});let el=t.canAdminTeam?(0,m.jsx)(nq.FL,{entity:e,entityType:n$.c.TEAM,avatarEditorState:q,size:40,dispatch:W,avatarSvg:H?void 0:sn.A,svgSizeRatio:.6}):(0,m.jsx)(r9.nl,{team:e,size:40,svgSizeRatio:.6,avatarSvg:H?void 0:sn.A}),ed=!N,ec=(0,ni.F)(),eu=(()=>{if(ed)return;let t=ec({onChangeTeamIconClick:()=>{W((0,nK.o)({team:e}))},onRenameClick:()=>{W(rd.to({type:(0,nt.h)(),data:{team:e}}))},selectedTeamPermissions:{canAdmin:k,canAdminOrg:T,canDelete:R,canView:N,isInTeam:S},team:e,shouldBlockTeamActionsDuringDTMMigration:i,overrideOpenAndInviteOptions:!0}),s=[];return(ea&&(C&&(r||s.push({displayText:(0,M.t)("teams_table.view_team_members"),onClick:en}),s.push({displayText:(0,M.t)("team_view.settings.view_settings"),onClick:et})),r&&s.push({displayText:(0,M.t)("teams_table.view_team_members"),onClick:en})),s.length>0)?[{key:"team-page-header-menu-items",items:s},...t]:t})(),em=eu?{kind:nw.A.CUSTOM,key:nN.DROPDOWN,element:(0,m.jsx)(nG,{buttonAriaLabel:(0,M.t)("team_view.page_header_dropdown_label"),menuGroups:eu})}:void 0,e_=e.pro_team,ex=(0,m.jsx)(sR.Ex,{color:sR.zE.INFORMATIONAL,text:(0,M.t)("pro_onboarding.professional"),size:sR.vj.EXTRA_LARGE,dataTestId:"team-page-view-professional-badge"}),ep=e.student_team?(0,m.jsx)(g9,{}):(0,it.w5)(e)?void 0:(0,m.jsx)(ve,{team:e});return(0,m.jsx)(nI.r,{content:(0,m.jsxs)(m.Fragment,{children:[u,ep]}),viewbar:(0,m.jsx)(vg,{}),banner:(0,m.jsx)(pl,{teamId:O,selectedTab:a}),header:(0,m.jsx)(nT,{avatar:el,title:e.name,rightSideActions:(d=e=>{e.stopPropagation(),W(ez.oB()),en(),$(as.A$.MEMBERS)},c=!!O&&P||D,h=[],g=!!Object.keys(K).includes(e.id)&&K[e.id]?.status===fa.c.PENDING,v=H?t.hasRoleAccess:t.isInTeam,b=t.canAdminTeam&&!v,j={kind:nw.A.CUSTOM,key:nN.FAVORITE,element:(0,m.jsx)(nH.i,{setFavorite:Q,removeFavorite:Z,favoriteType:eK.bk.TEAM,resourceId:e.id,orgId:e.org_id,size:"lg"})},b&&h.push({kind:nw.A.CUSTOM,key:nN.JOIN_TEAM,element:(0,m.jsx)(eg.$z,{variant:"secondary",size:"lg",onClick:(0,vt.GR)(W,e.id,fs.e6.ADMIN),children:(0,M.t)("file_browser.team.join_team")})}),y=c?sO.Ib.TEXT:void 0,w=c?(0,M.t)("locked_team.label.tooltip"):void 0,t.canEditTeam&&!(0,eO.R$)(s,e.org_id)?h.push({kind:nw.A.CUSTOM,key:nN.NEW_PROJECT,element:(0,m.jsx)("div",{"data-tooltip":w,"data-tooltip-type":y,children:(0,m.jsx)(eg.$z,{"data-onboarding-key":"team-view-new-project-cta","data-testid":"team-view-new-project-cta",variant:"primary",disabled:c,"aria-label":(0,M.t)("project_creation.create_project"),iconPrefix:(0,m.jsx)(rr.e,{}),size:"lg",onClick:()=>{W((0,xa.SX)({team:{...e,canEdit:t.canEditTeam},where:rG.Ah.FolderListView}))},children:(0,M.tx)("file_browser.team.add_project")})}),showOnMobile:!0}):!e.org_id||e.org_access===eK.bU.SECRET||b||t.canAdminTeam||h.push({kind:nw.A.CUSTOM,key:nN.REQUEST_TO_EDIT,element:(0,m.jsx)(eg.$z,{variant:"primary",size:"lg",onClick:()=>{g?W(ft.lT({requestId:K[e.id]?.id})):W(rd.to({type:fi.$,data:{team:e,requesterCurrentLevel:fs.e6.VIEWER}}))},children:g?(0,M.t)("file_browser.team.cancel_request"):(0,M.t)("file_browser.team.request_to_edit")})}),h.push({kind:nw.A.CUSTOM,key:nN.INVITE,element:(0,m.jsx)(eg.$z,{variant:"secondary",size:"lg",onClick:c?p.lQ:es,disabled:c,"data-tooltip":w,"data-tooltip-type":y,children:(0,M.t)("file_browser.team.share")})}),e.org_id&&h.push(j),E=(0,m.jsx)(vs,{team:e,onInviteClick:es,onMembersClick:d,setFavorite:Q,removeFavorite:Z}),h.push({kind:nw.A.CUSTOM,key:nN.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:E}),h),rightSideOfTitleAction:em,pageHeaderIcon:void 0,badge:(0,m.jsxs)(s1.Y,{direction:"horizontal",children:[Y?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(nL.E,{children:X}),(0,m.jsx)("div",{className:B.s.ml4.mr4.$,"data-tooltip-type":sO.Ib.TEXT,"data-tooltip":Y,"data-tooltip-subtext":J,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,children:(0,m.jsx)(nM.M,{"aria-hidden":"true"})})]}):void 0,e_?k?(0,m.jsx)(U.fu,{name:sR._Y.PROFESSIONAL,properties:v_.S.getTrackingProperties(O),children:(0,m.jsx)(U.$z,{type:"button",onClick:()=>{W(rd.to({type:af.V,data:{entrypoint:av.C.PLAN_PAGE_PROFESSIONAL_BADGE}}))},className:"team_page_view--pointerOnHover--CzkTD",trackingProperties:{trackingDescriptor:eb.c.PROFESSIONAL},children:ex})}):ex:void 0]})})})}var vw=r(318779),vE=r(585255),vT=r(128101),vI=r(528984),vk=r(298732),vC=r(1026),vN=r(473295),vS=r(370481),vR=r(694772),vA=r(780210),vF=r(725143),vO=r(148723);let vP="org_user_meta_content--teamsHeader--lChRr org_user_meta_content--sectionHeader--na7OT text--fontPos13--5OfL8 text--_fontBase--VaHfk";function vL(e){let t=(0,x.wA)(),r=(0,ed.iZ)(),s=(0,vF.w)(e.user),a=(0,x.d4)(t=>t.currentUserOrgId===e.orgId),i=()=>{t((0,rd.to)({type:vO.u}))};return(0,m.jsx)("div",{className:B.s.flex.flexColumn.ml16.hFull.$,children:(0,m.jsx)(vE.x,{isLoading:e.isLoading,children:()=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"org_user_meta_content--userData--ZVHAF",children:[(0,m.jsx)(r9.H8,{user:e.user,size:r9.Pf.LARGE}),(0,m.jsx)("div",{className:"org_user_meta_content--userName---C3P2 text--fontPos18--FkHj- text--_fontBase--VaHfk",children:e.title}),e.user.profile?.job_title&&(0,m.jsxs)("div",{className:"org_user_meta_content--jobTitle--y6-5x text--fontPos11--rO47d text--_fontBase--VaHfk",children:[(0,m.jsx)(sR.Ex,{color:sR.zE.INVERT,text:(0,vN.lb)(e.user.profile?.job_title)}),e.userId===r?.id&&(0,m.jsx)(tU.$n,{variant:"link",onClick:i,children:(0,M.tx)("internal_profile.change_job_title")})]}),e.user.email&&(0,m.jsx)("div",{className:"org_user_meta_content--email--pjO1x text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:e.user.email}),(e.description||!e.isReadOnly)&&(0,m.jsx)(vS.TI,{value:e.description??"",placeholder:(0,M.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:vS.qU,readOnly:e.isReadOnly,className:"org_user_meta_content--description--XR3VX text--fontPos13--5OfL8 text--_fontBase--VaHfk"})]}),s&&e.user?.id===r?.id&&(0,m.jsx)(vW,{user:e.user}),a&&(0,m.jsxs)(ef.P,{className:B.s.flexShrink1.bt1.bSolid.colorBorder.$,innerClassName:B.s.p16.borderBox.flex.flexColumn.$,children:[(0,m.jsx)("h2",{className:vP,children:(0,M.tx)("internal_profile.teams")}),(0,m.jsx)(vB,{userId:e.userId,orgId:e.orgId}),(0,m.jsx)("h2",{className:vP,children:(0,M.tx)("internal_profile.recent_projects")}),(0,m.jsx)(vU,{files:e.recents,isYourProfile:!e.isReadOnly})]})]})})})}function vD(e){let t=(0,ed.iZ)(),r=(0,x.wA)();return(0,m.jsx)(vL,{submitDescription:t=>{r(vA.yJ({user:{id:e.userId,description:t},userInitiated:!0}))},isLoading:!e.user,isReadOnly:!t||t.id!==e.userId,description:e.user.description??null,title:e.user.name??e.user.handle??null,userId:e.userId,user:e.user,recents:e.recents,orgId:e.orgId})}function vM(e){let t=(0,x.wA)(),r=(0,ed.iZ)();return(0,m.jsx)(vL,{isLoading:!e.user||!e.orgUser||!e.org,isReadOnly:!r||r.id!==e.userId,description:(e.orgId&&e.orgUser?e.orgUser.description:e.user.description)??null,title:e.user&&e.org?(0,M.t)("internal_profile.title",{userName:e.user.handle,orgName:e.org.name}):null,recents:e.recents,submitDescription:r=>{e.orgId&&e.orgUser&&t(ff.yJ({orgUser:{id:e.orgUser.id,org_id:e.orgId,description:r},userInitiated:!0}))},user:e.user,userId:e.userId,orgId:e.orgId})}function vU(e){let t=(0,vR.u)(e=>({view:"folder",folderId:e})),r=(0,_.useMemo)(()=>{let t=new Set;for(let r of"loaded"===e.files.status?e.files.data:[])r.file.folderId&&t.add(r.file.folderId);return Array.from(t).slice(0,10)},[e.files]),s=(0,vC.Cm)(r,"loaded"===e.files.status&&!!e.files.data),a=_.useMemo(()=>{if("loaded"!==e.files.status||"loading"===s.status)return[];let t=[],a=[];if(!e.files)return t;let i=new Set;for(let n of e.files.data){let e=n.file.folderId;if(!e||i.has(e)||!r.includes(e)||(i.add(e),null==n.file.project||null==n.file.project.name||""===n.file.project.name))continue;let o=!!s?.data?.[e],l={id:e,name:n.file.project.name,teamName:n.file.team?.name??"",canView:o};if(l.canView?t.push(l):a.push(l),t.length+a.length>=5)break}return t.concat(a)},[e.files,s,r]);return(0,m.jsx)(vE.x,{isLoading:"loading"===e.files.status||"loading"===s.status,children:()=>(0,m.jsxs)("div",{children:[0===a.length&&(0,m.jsx)("div",{className:"org_user_meta_content--projectEmptyState--d722J text--fontPos11--rO47d text--_fontBase--VaHfk",children:e.isYourProfile?(0,M.t)("internal_profile.your_recent_projects_will_appear_here"):(0,M.t)("internal_profile.their_recent_projects_will_appear_here")}),a.map(e=>(0,m.jsx)(iu.E,{disabled:!e.canView,onClick:r=>{e.canView&&t(r,e.id)},className:e.canView?"org_user_meta_content--project--jNnkB org_user_meta_content--projectBase--JNu1- text--fontPos13--5OfL8 text--_fontBase--VaHfk ellipsis--ellipsis--70pHK":"org_user_meta_content--dimProject--C8mEH org_user_meta_content--dim--S0Cl9 org_user_meta_content--projectBase--JNu1- text--fontPos13--5OfL8 text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",children:(0,m.jsx)("span",{"data-tooltip-type":sO.Ib.TEXT,"data-tooltip":e.canView?void 0:(0,M.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName}),children:e.name})},e.id))]})})}function vB(e){let[t,r]=_.useState(null);_.useEffect(()=>{vT.k.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{r(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let s=(0,_.useMemo)(()=>(t||[]).slice(0,10),[t]),a=(0,ne.GG)(s.map(e=>e.id),!!s),i=(0,vR.u)(e=>({view:"team",teamId:e.id})),n=(s||[]).sort((e,t)=>{let r=a.data?.[e.id],s=a.data?.[t.id];return r&&!s?-1:!r&&s?1:0}),o=!s||"loaded"!==a.status;return(0,m.jsx)(vE.x,{isLoading:o,children:()=>(0,m.jsxs)("div",{className:B.s.flex.flexColumn.gap8.$,children:[n.map(e=>{let t=a.data?.[e.id];return(0,m.jsx)(ss.rE,{entity:e,size:12,hideFallbackInitial:!0,onClick:t?i:void 0,className:`org_user_meta_content--teamListItem--dWZj4 text--fontPos13--5OfL8 text--_fontBase--VaHfk ${t?"":"org_user_meta_content--dim--S0Cl9"}`,"data-tooltip-type":sO.Ib.TEXT,"data-tooltip":t?void 0:(0,M.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4},e.id)}),s&&0===s.length&&(0,M.tx)("internal_profile.no_teams_in_common"),t&&t.length>10&&(0,m.jsx)("div",{className:"org_user_meta_content--numOtherTeamsRow---KKYb",children:(0,M.tx)("internal_profile.N_other_teams",{numOtherTeams:t.length-10})})]})})}function vz(e){return(0,m.jsxs)("div",{className:"org_user_meta_content--userProfileNotification--dPI2e",children:[(0,m.jsx)("div",{className:"org_user_meta_content--userProfileNotificationTitle---kCUB text--fontNeg11--bghdh text--_fontBase--VaHfk text--_negText--7Cnf0",children:e.title}),(0,m.jsx)("div",{className:"org_user_meta_content--userProfileNotificationText--hKbcI text--fontNeg11--bghdh text--_fontBase--VaHfk text--_negText--7Cnf0",children:e.text}),(0,m.jsx)("div",{className:"org_user_meta_content--userProfileNotificationAction---0Jqb",children:e.action})]})}function vW(e){let{profile:t}=e.user,r=(0,x.wA)();return(0,m.jsx)(m.Fragment,{children:t?.images?null:(0,m.jsx)(vz,{title:(0,M.t)("internal_profile.profile_image_nudge.title"),text:(0,M.t)("internal_profile.profile_image_nudge.text"),action:(0,m.jsx)(tU.$n,{variant:"link",onClick:()=>{r((0,nK.X)({entity:e.user,entityType:n$.c.CURRENT_USER,shape:"CIRCLE"})),(0,nW.Cu)({trackingContext:sP.e0.FILE_BROWSER,context:"job_title",text:"Update Photo"})},children:(0,M.tx)("internal_profile.profile_image_nudge.action")})})})}var vV=r(279117);function vG(e){let t=(0,vV.i8)(e.publishedPlugins),r=(0,vV.LH)((0,vV.ky)(t,e.userId),e.org),s=Object.keys(r).map(e=>r[e]),a=(0,tP.LN)(s);return 0===a.length?null:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h2",{className:"user_org_resources--sectionHeader--2tWQy internal_user_profile_page_view--sectionHeader--9DHK0 text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:(0,M.tx)("file_browser.settings.plugins_published",{orgName:e.org.name})}),(0,m.jsxs)("div",{className:"user_org_resources--container--mZI6O profile_resources_grid--_resourcesGridTemplateColumns---lpye",children:[a.map(e=>(0,m.jsx)(pN.cS,{pluginId:e.id,showInstallCount:!0,viewContext:"UserOrgResources"},`plugin-${e.id}`)),(0,m.jsx)(pN.hT,{numResources:a.length})]})]})}function vH(e){let{org:t}=e,r=(0,x.d4)(r=>(t&&t.id&&r.orgUsersByOrgId[t.id]||{})[e.user.id]);return t?(0,m.jsx)(vM,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:r}):(0,m.jsx)(vD,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let v$={showInFolder:!0,open:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicateToDrafts:!0,delete:!0,removeFromRecents:!1,createBranch:!0,moveFile:!0,pinToWorkspace:!1},vq=e=>{let t,r=e.user.id,s=(0,x.wA)(),a=(0,x.d4)(e=>e.selectedView),i=e.orgUser&&e.orgUser.org_id,n=(0,x.d4)(e=>e.currentUserOrgId),{Sprig:o}=(0,tZ.A)(),l=void 0===i?n:i,d=(0,x.d4)(e=>l&&e.orgById[l]||null),c=(0,f.getFeatureFlags)().xr_debounce_threshold&&d,u="user"===a.view?a.userViewTab:void 0;_.useEffect(()=>{s((0,rd.ES)({type:"FeedPostDetailsModal"}))},[s,u]);let h=(0,x.d4)(e=>e.userFlags);_.useEffect(()=>{h.seen_profile||s(eH.b({seen_profile:!0}))},[s,h.seen_profile]);let g=(0,x.d4)(e=>e.tileSortFilterStateByView.user),{recentFilesResult:v,isFetchingNextPage:b,loadNextPage:j}=function({userId:e,currentOrgId:t,editorTypeFilter:r}){let s={action:"edit",userId:e,firstPageSize:55,sortOrder:"DESC"},[a]=(0,T.IT)(r?tI.RwZ.Query({...s,_editorTypeRaw:r}):tI.F8N.Query(s)),i=_.useMemo(()=>a.transform(e=>e.userPublic?"paginatedRecentFilesByEditorType"in e.userPublic?e.userPublic.paginatedRecentFilesByEditorType:e.userPublic.paginatedRecentFiles:null),[a]),n=_.useMemo(()=>i.transform(e=>{let r=[];for(let s of e??[])null===s.file||s.file.parentOrgId!==t||s.file.isDraftFile||null!==s.file.trashedAt||r.push(s);return r}),[i,t]);return{recentFilesResult:n,isFetchingNextPage:_.useMemo(()=>i.transform(e=>e?.isLoadingNextPage??!1).unwrapOr(!1),[i]),loadNextPage:_.useCallback(()=>{i.data?.loadNext(55)},[i])}}({userId:r,currentOrgId:l,editorTypeFilter:(0,_u.Gv)(g.filters.fileType)}),y=(0,vw.J)(()=>d&&d.community_profile_id?s(vk.pZ({profileId:d.community_profile_id})):Promise.resolve([]),[s,d]),w="user"===a.view&&a.userViewTab===oi.o.INTERNAL_PROFILE_POSTS?oi.o.INTERNAL_PROFILE_POSTS:oi.o.INTERNAL_PROFILE,E=u===oi.o.INTERNAL_PROFILE?[(0,m.jsx)("div",{className:"internal_user_profile_page_view--hideFilterRightPadding--OkHUU",children:(0,m.jsx)(mZ.ye,{config:g})},"sort-filter")]:[],[I,k,C]=ot.t.useManagedTabs({[oi.o.INTERNAL_PROFILE]:!0,[oi.o.INTERNAL_PROFILE_POSTS]:!0},w,e=>{s(ez.sf({view:"user",userId:r,userViewTab:e}))}),N=(0,m.jsx)(uP.f,{leftSide:c?(0,m.jsxs)(ot.t.TabStrip,{manager:C,children:[(0,m.jsx)(ot.t.Tab,{...I[oi.o.INTERNAL_PROFILE],children:(0,M.t)("internal_profile.file_contributions")},oi.o.INTERNAL_PROFILE),(0,m.jsx)(ot.t.Tab,{...I[oi.o.INTERNAL_PROFILE_POSTS],children:(0,M.t)("internal_profile.posts")},oi.o.INTERNAL_PROFILE_POSTS)]}):(0,m.jsx)("h2",{className:"internal_user_profile_page_view--sectionHeader--9DHK0 text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:(0,M.tx)("internal_profile.file_contributions")}),rightSide:E}),S=xm({viewMode:nl.XU.GRID}),{showing:R,show:A,data:F}=(0,oO.L)(),O=_.useCallback((e,t,r)=>{A({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[A]),P=_.useMemo(()=>v.transform(e=>e.map(e=>(0,m9.kR)(e.file))),[v]),[L,D]=_.useState([]),B=(0,_D.p)(P.data??[],L),z=(0,_c.v)({selectedTiles:B});return(0,U.T8)((0,m.jsx)(nI.r,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--ze7e3",containerClass:"internal_user_profile_page_view--pageContainerInner--V6b0H",content:!e.userNotInPlan&&(0,m.jsxs)("div",{className:"internal_user_profile_page_view--content---S0NI",children:[(0,m.jsx)("div",{className:"internal_user_profile_page_view--viewbar--4nRKF",children:N}),u===oi.o.INTERNAL_PROFILE&&(y.status===vI.r.SUCCESS&&"loaded"===v.status?(0,m.jsxs)(m.Fragment,{children:[d&&(0,m.jsx)(vG,{userId:r,org:d,publishedPlugins:y.value}),(0,m.jsxs)(ef.P,{children:[(0,m.jsx)(nr.B,{onShouldFetchNextPage:j,isFetchingNextPage:b,children:(0,m.jsx)(_U.d,{gridContainerStyle:vY.grid,handleDeleteKey:z,handleOpenDropdown:O,handleOpenTile:S,items:P.data??[],listViewColumnsConfig:(0,_B.l1)(),selectedTiles:B,setSelectedTiles:D,sortBy:p.lQ,sortConfig:g.sort,viewType:nl.XU.GRID})},`${g.filters.fileType}-${g.sort.key}-${g.sort.dir}`),(t=F?.tile??null,(0,m.jsx)(U.fu,{name:sP.e0.TILES_VIEW_DROP_DOWN,enabled:R,properties:{tileType:t?.type,tileFileId:t?.type===m9.nb.FILE?t?.file.key:void 0},children:(0,m.jsx)(oP.i,{tileActions:v$,selectedTiles:B,tile:t,openTile:()=>{t?.type===m9.nb.FILE&&(0,rT.Tq)({dispatch:s,fileResult:t.file,sprig:o})},dropdownVisible:R})}))]})]}):(0,m.jsx)(nO.qc,{})),u===oi.o.INTERNAL_PROFILE_POSTS&&d&&(0,m.jsx)(mV,{currentOrgId:d.id,selectedUser:e.user})]}),metaContent:(0,m.jsx)(vH,{user:e.user,recents:v,org:d,orgUser:e.orgUser})}),sP.e0.USER_DETAILS,{view:"org_user",userId:r})};function vK(e){return(0,m.jsx)(vq,{user:e.user,orgUser:e.orgUser,userNotInPlan:e.userNotInPlan},e.user.id)}let vY={grid:{kpe85a:"x1m2p0i2",kE3dHu:"x163pfp",kZCmMZ:null,kwRFfy:null,kGO01o:"x1gan7if",$$css:!0}},vJ={[oi.o.INTERNAL_PROFILE]:{Component:vK},[oi.o.INTERNAL_PROFILE_POSTS]:{Component:vK},[oi.o.PLUGINS]:{Component:_.Fragment}};function vX(e){return(0,m.jsx)(e.component,{...e.context})}function vQ(e){let t=(0,x.wA)(),r=(0,ed.iZ)(),s=e.orgId,a=(0,x.d4)(e=>e.currentUserOrgId),i=void 0===s?a:s,n=(0,tk.T5)("UserPageView").unwrapOr(null),o=(0,vw.J)(()=>{var s,a;return Promise.all([(s=e.userId,r&&r.id===s?Promise.resolve(r):vT.k.getUser({userId:s}).then(e=>e.data.meta).catch(e=>{throw t(aD.s.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e})),(a=e.userId,!i?Promise.resolve(null):t(ff.I1({orgId:i,userId:a,allowNoOrgUser:!0})))]).then(([r,s])=>(i&&!s&&t(t_.F.enqueue({type:"org_user_not_found",message:n?.name?(0,M.t)("org_user_actions.org_user_not_found",{userHandle:r.handle,planName:n.name}):(0,M.t)("org_user_actions.org_user_not_found_without_plan_name",{userHandle:r.handle}),error:!0,onDismiss:p.lQ})),(0,rT.hL)(r.handle),{userNotInPlan:!!(i&&!s),userId:e.userId,user:r,orgUser:s,profileHandle:r.community_profile_handle||null,on404Redirect:s?()=>{t(ez.sf({view:"user",userId:e.userId,orgId:i,userViewTab:oi.o.INTERNAL_PROFILE}))}:()=>{w.Ay.redirect("/404")}}))},[t,r,i,e.userId,n]),{tab:l}=e;if(!l)return null;let{Component:d}=vJ[l];return(0,m.jsx)(vE.x,{className:"user_page_view--loadingContainer--kSmnp",state:o,failure:void 0,children:t=>(0,m.jsx)(vX,{component:d,tab:l,userId:e.userId,context:t})})}function vZ({workspaceId:e}){let t=(0,eo.sZ)(),r=(0,ec.P)(t.id,e);return"loaded"!==r.status?null:"Unassigned"===r.data?(0,m.jsx)(ll.A5,{children:(0,m.jsx)(v1,{org:t,workspaceId:e})}):(0,m.jsx)(ll.A5,{children:(0,m.jsx)(v0,{org:t,workspaceId:e,workspace:r.data})})}function v0({org:e,workspaceId:t,workspace:r}){let s=iZ(r);return(0,m.jsx)(v1,{org:e,workspaceId:t,parentBackgroundColor:s})}function v1({org:e,workspaceId:t,parentBackgroundColor:r}){let s=(0,x.wA)();return(0,m.jsx)(ll.jT,{text:e.name,parentBackgroundColor:r,onClick:r=>{s(ez.sf({view:"org",orgId:e.id,orgViewTab:tB.X.HOME})),(0,nW.Cu)({clickedResourceType:"org",clickedResourceId:e.id,currentResource:t,orgId:e.id})}})}function v2({showingFileBrowserLoader:e}){let t=(0,eW._6)();_.useEffect(()=>{(0,oD.o5)(t)},[t]);let r=function(){let e,t=(0,x.wA)(),r=(0,ed.iZ)(),s=(0,eo.dq)(),a=(0,eW._6)(),i=(0,ab.cD)(),n=(0,eo.sZ)(),o=(0,x.d4)(e=>e.search),l=(e=eD({project:"drafts"}),_.useCallback(({from:t})=>e?[(0,m.jsx)(hV,{from:t},t)]:[],[e]));switch(a.view){case"resourceHub":return{pageHeaderContent:(0,m.jsx)(mu,{}),pageContent:(0,m.jsx)(u9,{})};case"deletedFiles":return{pageHeaderTitle:(0,M.t)("file_browser.tool_bar.trash"),pageContent:(0,U.T8)((0,m.jsx)(_9,{selectedTab:_6.FILES},"trashed"),sP.e0.FILE_BROWSER,{view:"trashed"})};case"cms":if("manager"!==a.subView)return{pageHeaderTitle:(0,M.t)("file_browser.payload.title"),pageHeaderActions:[(0,m.jsx)(hx,{},"cms-list-actions")],pageContent:(0,U.T8)((0,m.jsx)(mx.xY,{},"cms"),sP.e0.FILE_BROWSER,{view:"cms",subView:"list"})};if(!a.cmsId)return null;return{pageHeaderContent:(0,m.jsxs)(ll.A5,{children:[(0,m.jsx)(ll.J5,{text:(0,M.t)("file_browser.payload.breadcrumb.root"),onClick:()=>{t(ez.sf({view:"cms",subView:"list"}))},hasTrailingDivider:!0}),(0,m.jsx)(ll.J5,{text:(0,M.t)("file_browser.cms.breadcrumb.settings"),onClick:p.lQ,disabled:!0,hasTrailingDivider:!1})]}),pageHeaderActions:[(0,m.jsx)(hf,{cmsId:a.cmsId},"cms-manager-actions")],pageContent:(0,U.T8)((0,m.jsx)(mx.Sx,{cmsId:a.cmsId},`cms-manager-${a.cmsId}`),sP.e0.FILE_BROWSER,{view:"cms",subView:"manager"})};case"litmus":if(!(0,m_.OF)())return null;if("projects"===a.subView)return{pageHeaderContent:"Litmus",pageContent:(0,m.jsx)(mm.A,{})};case"trashedFolders":return{pageHeaderTitle:(0,M.t)("file_browser.tool_bar.trash"),pageContent:(0,U.T8)((0,m.jsx)(_9,{selectedTab:_6.FOLDERS},"trashed"),sP.e0.FILE_BROWSER,{view:"trashed"})};case"folder":if(a.folderId===r?.drafts_folder_id)return{pageHeaderTitle:(0,M.t)("file_browser.tool_bar.drafts"),pageHeaderActions:l({from:d_.f6.FILE_BROWSER_TOPBAR_DRAFTS}),pageContent:(0,U.T8)((0,m.jsx)(xQ,{folderId:a.folderId,userId:r?.id},"drafts"),sP.e0.FILE_BROWSER_DRAFTS,{orgId:s,teamId:i})};return{pageContent:(0,U.T8)((0,m.jsx)(fu,{folderId:a.folderId},`folder-${a.folderId}`),sP.e0.FOLDER_PAGE,{orgId:s,teamId:i,folderId:a.folderId}),pageHeaderContent:(0,m.jsx)(x7,{folderId:a.folderId}),pageHeaderDividerHidden:!0};case"workspace":switch(a.subView){case tr.V0.ADMIN:return{pageHeaderContent:(0,m.jsx)(vZ,{workspaceId:a.workspaceId}),pageHeaderDividerHidden:!0,pageContent:(0,U.T8)((0,m.jsx)(G.y$,{workspaceId:a.workspaceId,selectedTab:a.selectedTab}),sP.e0.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:a.workspaceId,workspaceViewTab:a.selectedTab})};case tr.V0.DIRECTORY:return{pageHeaderContent:(0,m.jsx)(vZ,{workspaceId:a.workspaceId??null}),pageHeaderDividerHidden:!0,pageContent:(0,U.T8)(a.workspaceId?(0,m.jsx)(la,{workspaceId:a.workspaceId},a.workspaceId):(0,m.jsx)(nA,{}),sP.e0.WORKSPACE_DIRECTORY_PAGE,{workspaceId:a.workspaceId,workspaceGroupViewTab:a.selectedTab})};default:(0,D.xb)(a)}case"licenseGroup":if(a.subView===te.GN.ADMIN)return{pageContent:(0,U.T8)((0,m.jsx)(G.VY,{licenseGroupId:a.licenseGroupId,selectedTab:a.selectedTab}),sP.e0.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:a.licenseGroupId,licenseGroupViewTab:a.selectedTab})};(0,D.xb)(a);case"org":return{pageHeaderTitle:n?(0,m.jsx)(sZ,{}):void 0,pageHeaderActions:[(0,m.jsx)(fp,{orgId:a.orgId},"org-page-header-actions")],pageContent:(0,U.T8)((0,m.jsx)(hl,{orgId:a.orgId,selectedTab:a.orgViewTab}),sP.e0.ORG_PAGE,{orgId:a.orgId,orgViewTab:(a.orgViewTab===tB.X.HOME?"HOME":a.orgViewTab)||""})};case"orgAdminSettings":let d=(0,W.aO)(a.orgAdminSettingsViewTab,a.orgAdminSettingsViewSecondaryTab,{showResourceConnectionInviteModal:!!a.showResourceConnectionInviteModal,showResourceConnectionFlyout:!!a.showResourceConnectionFlyout,isEnterpriseOrg:n?.tier===eK.Ag.ENTERPRISE,isK12Org:!!n?.k12_google_org});return{pageContent:(0,U.T8)((0,m.jsx)(G.vW,{selectedTab:a.orgAdminSettingsViewTab,selectedSecondaryTab:d,selectedExtensionId:a.selectedExtensionId,selectedWorkspaceId:a.selectedWorkspaceId,showResourceConnectionInviteModal:a.showResourceConnectionInviteModal,showResourceConnectionFlyout:a.showResourceConnectionFlyout}),sP.e0.ORG_ADMIN_SETTINGS_PAGE,{orgId:s,orgViewTab:a.orgAdminSettingsViewTab||"dashboard",source:a.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:d})};case"abandonedDraftFiles":return{pageContent:(0,U.T8)((0,m.jsx)(G.dZ,{abandonedDraftFolderId:a.abandonedDraftFolderId,planType:a.adminPlanType,planId:a.planId}),sP.e0.ABANDONED_DRAFTS_PAGE,a.adminPlanType===dx.O.ORG?{orgId:a.planId}:{teamId:a.planId})};case"orgDomainManagement":let c=(0,m.jsxs)(ll.A5,{children:[(0,m.jsx)(ll.J5,{text:(0,M.t)("general.admin"),onClick:()=>{t(ez.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:tt.J7.DASHBOARD}))},hasTrailingDivider:!0}),(0,m.jsx)(ll.J5,{text:(0,M.t)("org_dashboard.settings"),onClick:()=>{t(ez.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:tt.J7.SETTINGS}))},hasTrailingDivider:!1})]});return{pageContent:(0,U.T8)((0,m.jsx)(G.Oe,{}),sP.e0.ORG_DOMAIN_MANAGEMENT_PAGE,{orgId:s}),pageHeaderContent:c};case"billingGroupDashboard":return{pageContent:(0,U.T8)((0,m.jsx)(G.wu,{selectedTab:a.selectedTab}),sP.e0.BILLING_GROUP_DASHBOARD_SETTINGS_PAGE,{orgId:s,orgViewTab:a.selectedTab})};case"recentsAndSharing":let u=l({from:d_.f6.FILE_BROWSER_TOPBAR_RECENTS});return{pageHeaderTitle:(0,M.t)("file_browser.tool_bar.recents"),pageHeaderActions:u,pageContent:(0,U.T8)((0,m.jsx)(gJ,{userId:r?.id,accountModalTab:a.accountModalTab,emailPolicyToUnsubscribeFrom:a.emailPolicyToUnsubscribeFrom}),sP.e0.FILE_BROWSER,{view:"recentsAndSharing",userSpace:s?sP.qo.ORG:sP.qo.PERSONAL})};case"resourceUnavailable":return{pageContent:(0,m.jsx)(nP.S,{resourceType:a.resourceType})};case"search":{let{searchScope:e,query:t}=o.parameters,r=!v.A.mobile;return{pageHeaderTitle:(0,m.jsx)(v4,{query:t}),pageContent:(0,U.T8)((0,m.jsx)(du,{}),sP.e0.UNIFIED_SEARCH,{showInternalModal:r&&e!==l9.Rx.COMMUNITY,showCommunityModal:r&&e===l9.Rx.COMMUNITY}),pageHeaderActions:l({from:d_.f6.FILE_BROWSER_TOPBAR_SEARCH})}}case"seatRequests":return{pageContent:(0,U.T8)((0,m.jsx)(H.m,{}),sP.e0.SEAT_REQUESTS_PAGE,{orgId:s,teamId:i,planType:a.adminPlanType})};case"limitedTeamSharedProjects":return{pageContent:(0,m.jsx)(fm,{})};case"team":{let e=a.teamViewTab??as.A$.HOME;return{pageContent:(0,U.T8)((0,m.jsx)(vj,{teamId:a.teamId,selectedTab:e,upgradeModalType:a.upgradeModalType,showProOnboardingModal:a.isProUpgrade,showResourceConnectionInviteModal:a.showResourceConnectionInviteModal},`team-${a.teamId}`),sP.e0.TEAM_PAGE,{teamId:a.teamId,userSpace:s?sP.qo.ORG:sP.qo.PERSONAL,orgId:s}),pageHeaderContent:(0,m.jsx)(gQ,{teamId:a.teamId}),pageHeaderDividerHidden:!0}}case"teamAdminConsole":{let e=a.teamAdminConsoleViewTab??(a.isProTeam?as.Iv.DASHBOARD:as.Iv.MEMBERS),t=(0,V.X$)(e,a.teamAdminConsoleViewSecondaryTab,{showResourceConnectionInviteModal:!!a.showResourceConnectionInviteModal,showResourceConnectionFlyout:!!a.showResourceConnectionFlyout});return{pageContent:(0,U.T8)((0,m.jsx)(G.JC,{teamId:a.teamId,selectedTab:e,selectedSecondaryTab:t,showResourceConnectionInviteModal:a.showResourceConnectionInviteModal,showResourceConnectionFlyout:a.showResourceConnectionFlyout}),sP.e0.TEAM_ADMIN_PAGE,{teamId:a.teamId,teamAdminConsoleViewTab:e,teamAdminConsoleViewSecondaryTab:t})}}case"teamFeed":return{pageHeaderContent:(0,m.jsx)(ll.A5,{children:(0,m.jsx)(ll.J5,{text:(0,M.t)("fig_feed.feed"),onClick:()=>{t(ez.sf({view:"teamFeed"}))},hasTrailingDivider:!1})}),pageContent:(0,m.jsx)(v5,{postUuid:a.postUuid,creatorId:a.creatorId})};case"user":return{pageHeaderTitle:(0,M.t)("internal_profile.profile"),pageHeaderActions:r?.community_profile_handle&&r?.id===a.userId?[(0,m.jsx)(hg,{},"viewCommunityProfileAction")]:void 0,pageContent:(0,m.jsx)(vQ,{userId:a.userId,tab:a.userViewTab,orgId:a.orgId})};case"orgIdpManagement":let f=(0,m.jsxs)(ll.A5,{children:[(0,m.jsx)(ll.J5,{text:(0,M.t)("general.admin"),onClick:()=>{t(ez.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:tt.J7.DASHBOARD}))},hasTrailingDivider:!0}),(0,m.jsx)(ll.J5,{text:(0,M.t)("org_dashboard.settings"),onClick:()=>{t(ez.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:tt.J7.SETTINGS}))},hasTrailingDivider:!1})]});return{pageContent:(0,U.T8)((0,m.jsx)(G.T3,{}),sP.e0.ORG_IDP_MANAGEMENT_PAGE,{orgId:s}),pageHeaderContent:f};default:return null}}();if(!r)return null;let{pageContent:s}=r,a=r.pageHeaderContent?{pageHeaderContent:r.pageHeaderContent}:{pageHeaderTitle:r.pageHeaderTitle};return(0,m.jsx)(xr,{children:(0,m.jsx)(i8,{showingFileBrowserLoader:e,pageHeaderActions:r.pageHeaderActions,pageHeaderDividerHidden:r.pageHeaderDividerHidden,...a,children:s})})}function v4(e){return e.query?(0,m.jsxs)("div",{className:B.s.flex.columnGap8.$,children:[(0,m.jsx)("span",{className:B.s.flexShrink0.$,children:(0,m.jsx)(z.E,{color:"secondary",children:(0,M.tx)("search.search_results_for")})}),(0,m.jsxs)("div",{className:B.s.flex.fontMedium.minW0.$,children:["\u201C",(0,m.jsx)(z.E,{truncate:!0,children:e.query}),"\u201D"]})]}):(0,m.jsx)("div",{className:B.s.flex.columnGap8.$,children:(0,m.jsx)("span",{className:B.s.flexShrink0.$,children:(0,m.jsx)(z.E,{color:"secondary",children:(0,M.tx)("search.search_results")})})})}function v5(e){return(0,dm.w)()?(0,m.jsx)(mJ,{postUuid:e.postUuid,creatorId:e.creatorId}):null}var v7=r(552158),v3=r(918378),v8=r(529524),v6=r(712231),v9=r(394207),be=r(475712),bt=r(514713),br=r(366434);let bs="add_collaborators--emailListItem--1YkU3";function ba({selectedView:e}){let[t,r]=_.useState(["","",""]),s=(0,x.d4)(t=>t.teams[e.teamId]),a=(0,x.d4)(e=>e.teamCreation),i=(0,x.d4)(e=>e.payment),n=(0,x.wA)(),o=_.useCallback(()=>{s&&n(ez.sf({view:"team",teamId:s.id}))},[n,s]),l=_.useCallback((e,s)=>{if(s>=t.length)return;let a=[...t];a[s]=e,r(a)},[t]),d=_.useCallback(()=>{r([...t,""])},[t]),c=_.useCallback(()=>{let e=!!a.isEduTeam;i.promo?n(be.g_({teamId:s.id,teamName:s.name,previousView:{view:"team",teamId:s.id}})):e?n(c2.Vm({teamId:s.id,showBreadcrumbs:!0})):n(ez.sf({view:"teamUpgrade",teamFlowType:iO.SC.UPGRADE_EXISTING_TEAM,teamId:s.id,paymentStep:br.Vv.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:s.id},planType:iO.Sc.TEAM,entryPoint:0}))},[n,s,i.promo,a.isEduTeam]),u=_.useCallback(()=>t.filter(e=>e).map(e=>e.trim()),[t]),p=_.useCallback(()=>{n((0,bt.rq)({emails:u(),resourceType:eK.vt.TEAM,resourceIdOrKey:s.id,level:fs.e6.EDITOR,teamId:s.id,onSuccess:()=>{n(x8.r1({loading:!1})),c()}}))},[u,s,c,n]);return(0,m.jsx)(U.fu,{name:"Add Collaborators",properties:{teamId:s?.id},children:(0,m.jsx)("div",{children:(0,m.jsxs)(v8.O,{menu:(0,m.jsx)(v3.X,{onClick:o,children:(0,m.jsx)(sF.B,{svg:mq.A,className:"add_collaborators--modalCloseX--A5Kmi"})}),children:[(0,m.jsx)(v9.J,{index:2}),(0,m.jsx)(v6.JR,{children:(0,M.tx)("team_creation.add_your_collaborators")}),(0,m.jsx)(v6.Kh,{children:(0,M.tx)("team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up")}),(0,m.jsxs)("div",{className:"add_collaborators--formContainer--abJQ0",children:[(0,m.jsx)("div",{className:"add_collaborators--emailInputsContainer--lc92Y",children:t.map((e,t)=>(0,m.jsx)(sL.il,{className:bs,value:e,onChange:e=>l(e.target.value,t),maxLength:255,placeholder:(0,M.t)("team_creation.email")},`collaborator-email-input-${t}`))}),(0,m.jsx)(sL.nR,{className:bs,onClick:d,children:(0,M.tx)("team_creation.add_another")}),(0,m.jsx)("div",{className:"add_collaborators--spacing--XCv0w"}),(0,m.jsxs)("div",{className:"add_collaborators--ctaContainer--XOZHu",children:[(0,m.jsx)(sL.nD,{disabled:0===u().length,onClick:p,trackingProperties:{numCollaborators:u().length},children:(0,M.tx)("team_creation.continue")}),(0,m.jsx)(sL.Ph,{onClick:c,trusted:!0,children:(0,M.tx)("team_creation.skip_for_now")})]})]})]})})})}var bi=r(999355),bn=r(667449),bo=r(419547),bl=r(158295),bd=r(942496),bc=r(500401),bu=r(713038),bm=r(323440),b_=r(551683);let bx=["folder","team","search","recentsAndSharing"];function bp(){let e=(0,x.d4)(e=>e.autosave),t=(0,eW._6)(),r=(0,bn.yZ)(),{unsyncedFiles:s,localUnsyncedFiles:a}=(0,x_.Gg)();return!r||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(s.length>0||a.length>0)&&bx.includes(t.view)?(0,m.jsx)(bh,{unsyncedFiles:s,localUnsyncedFiles:a}):null}let bf=!1;function bh(e){let t=(0,x.wA)();_.useEffect(()=>{let e=()=>{t(bl.Jw())};return bu.hp.register(bu.a,e),function(){bu.hp.unregister(bu.a,e),t(rd.ES({type:bo.EO.type}))}},[t]);let r=(0,eW._6)(),[s,a]=_.useState(!1);_.useEffect(()=>{bf||(bf=!0,(0,bi.Mw)()),s||(a(!0),(0,sJ.sx)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:r.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,s,r]);let i=(0,ed.iZ)(),n=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===n.length||!i)return(0,m.jsx)(m.Fragment,{});let o=n.length>1,l=n[0],d=(0,bc.y8)(l)?l.file.name:l.name,c=d.length>40?d.substring(0,40)+"\u2026":d,u=o?(0,M.t)("autosave.notification.message.more_than_one_file"):(0,M.t)("autosave.notification.message.one_file",{fileName:c}),p=o?(0,M.tx)("autosave.notification.action_review"):(0,M.tx)("autosave.notification.action_open_to_sync");return(0,m.jsxs)("div",{className:"autosave_notification--notification--2hAjb text--_negText--7Cnf0",children:[(0,m.jsx)(sF.B,{className:"autosave_notification--icon--BLpMd",svg:b_.A,width:"24",height:"24"}),(0,m.jsx)("div",{className:"autosave_notification--message--S--Qr",children:u}),(0,m.jsxs)("div",{className:"autosave_notification--actions--X4AUD",children:[(0,m.jsx)("div",{className:"autosave_notification--mainAction--ACLtF autosave_notification--action--uD6q1",onClick:()=>{o?t(rd.to({type:bo.EO})):(0,bc.y8)(l)?w.Ay.redirect((0,ry.r1)(oU.F.toLiveGraph(l.file),!0),"_blank"):t(bd.NA({file:l,openNewFileIn:d_.ai.NEW_TAB,source:bm.U.AUTOSAVE_NOTIFICATION}))},children:p}),(0,m.jsx)("div",{className:"autosave_notification--action--uD6q1",onClick:()=>{(0,sJ.sx)("Autosave Notification Snooze",{files:n.length,firstFile:l.fileKey}),t(bl.zE(Date.now()))},children:(0,M.tx)("autosave.notification.action_later")})]})]})}var bg=r(33769),bv=r(877304),bb=r(568660),bj=r(543750),by=r(667553);function bw(){let e=(0,eW._6)(),t=function(){let e=(0,E.Rs)((0,tI.cBX)({})),[t]=(0,bv.m)([e]),r=t.currentUser?.teamRoles;if(!r?.length)return null;let s=r.find(({team:e})=>e&&null===e.subscription&&!e.orgId);return s?.team??null}(),r="purchasePro"===e.view?e.entryPoint:void 0,s="purchasePro"===e.view?e.isNewUser:void 0,a=(0,bj.C)(r,s),i=(0,by.E)({openInNewTab:!1,entryPoint:r}),n=!1;return"purchasePro"===e.view&&t?.id&&s&&(n=a()),_.useEffect(()=>{"purchasePro"===e.view&&t?.id&&s&&n&&i({isOrgUpgrade:!1,teamId:t.id})},[e.view,n,t?.id,i,s]),"purchasePro"!==e.view||t&&s&&n||w.Ay.redirect("/files/recent"),null}function bE(){return(0,m.jsx)(bb.n,{boundaryKey:"PurchaseProfessionalRouteHandler",team:Q.FigmaTeam.UPGRADES,errorFallback:()=>(w.Ay.redirect("/files/recent"),(0,m.jsx)(m.Fragment,{})),loadingFallback:(0,m.jsx)("div",{...{className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d"},children:(0,m.jsx)(nz.k,{})}),children:(0,m.jsx)(bw,{})})}let bT="team-org-access-dropdown";function bI(e){let t=(0,x.wA)(),r=e.dropdownShown&&e.dropdownShown.type===bT;return(0,m.jsxs)("div",{className:"team_org_access_dropdown--orgAccess--RJETW",children:[(0,m.jsxs)("button",{className:"team_org_access_dropdown--select--k-Ls3",onClick:e=>{e.stopPropagation(),e.preventDefault(),r?t(ez.oB()):t(ez.j7({type:bT}))},children:[(0,eO.ZP)()[e.orgAccess],(0,m.jsx)(sF.B,{svg:sV.A,className:"team_org_access_dropdown--downCaret--MGnf0"})]}),r&&(0,m.jsx)("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--O1Flc",children:(0,m.jsxs)(n1.ms,{className:"team_org_access_dropdown--orgAccessDropdown---4YjJ",children:[(0,m.jsx)(n1.MM,{checked:e.orgAccess===eK.bU.PUBLIC,onClick:()=>{e.onChangeOrgAccess(eK.bU.PUBLIC)},children:(0,eO.ZP)()[eK.bU.PUBLIC]}),(0,m.jsx)(n1.MM,{checked:e.orgAccess===eK.bU.PRIVATE,onClick:()=>{e.onChangeOrgAccess(eK.bU.PRIVATE)},children:(0,eO.ZP)()[eK.bU.PRIVATE]}),(0,m.jsx)(n1.MM,{checked:e.orgAccess===eK.bU.SECRET,onClick:()=>{e.onChangeOrgAccess(eK.bU.SECRET)},children:(0,eO.ZP)()[eK.bU.SECRET]})]})})]})}let bk="team_creation--createTeamText--kpxfD";function bC({currentTeamId:e,currentUserOrgId:t,user:r,selectedView:s,dropdownShown:a,teamCreation:i,orgById:n}){var o;let l=(0,x.wA)(),[d,c]=(0,_.useState)(null),[u,p]=(0,_.useState)(eK.bU.PUBLIC),h=s.ignoreCurrentPlan,g=t&&!h?n[t]:null,v=!e&&!t,b=Object.keys(n).length,j=(0,_.useRef)(null);(0,_.useEffect)(()=>{if(j.current)for(let e=0;e<j.current.elements.length;e++){let t=j.current.elements[e];if(!t.value){t.focus();break}}t&&!h&&(0,sJ.sx)("team_creation_started",{user_id:r?.id??"",org_id:t})},[t,r,h]);let y=e=>{e.preventDefault(),e.stopPropagation(),d?(l((0,fr.KQ)({teamName:d,orgAccess:u,dontRedirect:!!s.onSubmitReturnToPrevView,ignoreCurrentPlan:h,onSuccessNoRedirect:e=>{s.onTeamCreationSuccess?.(e)}})),s.onSubmitReturnToPrevView&&l(ez.sf((0,w.Gl)()||{view:"recentsAndSharing"}))):l(aD.s.error((0,M.t)("team_creation.your_team_name_cannot_be_empty")))},E=!(t&&!h)&&!s.onSubmitReturnToPrevView,T=v?null:(0,m.jsx)(v3.X,{onClick:()=>{l(ez.sf((0,w.Gl)()||{view:"recentsAndSharing"}))},children:(0,m.jsx)(sF.B,{svg:mq.A,className:"team_creation--modalCloseX--xbDef"})});return(0,m.jsx)(U.fu,{name:"Team Creation",children:(0,m.jsx)("div",{children:(0,m.jsxs)(v8.O,{menu:T,children:[E&&(0,m.jsx)(v9.J,{index:1}),(0,m.jsxs)("form",{ref:j,onSubmit:y,children:[(0,m.jsx)(v6.JR,{children:(0,M.tx)("team_creation.create_a_team_title")}),(0,m.jsxs)("div",{className:"team_creation--newTeamContainer--mVsAS team_creation--newTeamContainerBase--TwMX0",children:[(0,m.jsxs)("div",{className:"team_creation--teamNameContainer--iKfJR",children:[(0,m.jsx)("div",{className:"team_creation--teamNameLabel--fiZ7Y",children:(0,M.tx)("team_creation.team_name_label")}),(0,m.jsx)(sL.il,{value:d||"",onChange:e=>{c(e.target.value)},className:"team_creation--newTeamInput--oYOTR",maxLength:255,placeholder:(0,M.t)("team_creation.team_name_input_placeholder")})]}),g?(0,m.jsxs)("div",{className:"team_creation--orgTeamSettings--BkGZE",children:[(0,m.jsxs)("div",{className:B.s.flex.$,children:[(0,m.jsx)("div",{className:B.s.fontSemiBold.$,children:(0,M.tx)("team_creation.access_within_the_organization")}),(0,m.jsx)(bI,{orgAccess:u,dropdownShown:a,onChangeOrgAccess:e=>{p(e)}})]}),(0,m.jsx)("div",{className:bk,children:(o=g.name,{[eK.bU.PUBLIC]:(0,M.tx)("org_access_strings.public.description_with_org_name",{orgName:o}),[eK.bU.PRIVATE]:(0,M.tx)("org_access_strings.closed.description_with_org_name",{orgName:o}),[eK.bU.SECRET]:(0,M.tx)("org_access_strings.secret.description_with_org_name",{disclaimerLabel:(0,m.jsx)("span",{className:B.s.fontSemiBold.$,children:(0,M.tx)("org_access_strings.secret.description.disclaimer_label")}),orgName:o})})[u]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:bk,children:(0,M.tx)("team_creation.after_creating_a_team_you_can_invite_others_to_join")}),(0,f.getFeatureFlags)().team_creation_standalone_tos&&(0,m.jsxs)("div",{className:bk,children:[(0,M.tx)("team_creation.standalone_team_disclaimer",{planCount:b}),(0,m.jsx)("br",{}),(0,M.tx)("team_creation.tos_agreement",{tosLink:(0,m.jsx)(sL.CY,{href:"https://www.figma.com/legal/tos/",target:"_blank",trusted:!0,children:(0,M.tx)("team_creation.tos_link")})})]})]}),(0,m.jsx)(sL.nD,{className:t?"team_creation--createTeamButtonOrg--SnlUe":"team_creation--createTeamButton--Xhhky",type:"submit",disabled:i.loading,onClick:y,children:(0,M.tx)("team_creation.create_team_button")})]})]})]})})})}function bN({selectedView:e}){let t=(0,x.wA)(),r=(0,eo.dq)(),s=(0,x.d4)(e=>e.orgById),a=(0,ed.iZ)(),i=(0,x.d4)(e=>e.currentTeamId),n=(0,no.Um)(),o=(0,x.d4)(e=>e.teamCreation);return(0,eO.R$)(a,r)?(w.Ay.redirect("/"),t(aD.s.error((0,M.t)("team_creation.missing_team_creation_controls"))),null):(0,m.jsx)(bC,{currentTeamId:i,currentUserOrgId:r,user:a,dropdownShown:n,teamCreation:o,orgById:s,selectedView:e})}let bS="team_restore--page--mxsud",bR="team_restore--section--lFe-i",bA="team_restore--button--GDKZo";function bF({selectedView:e}){let t,r,s=(0,x.wA)(),[a,i]=_.useState(!1),n=e.teamId,o=(0,x.d4)(e=>e.teams[n]);_.useEffect(()=>{i(!0),aU.$.getDeleted({teamId:n}).then(({data:e})=>{s(x8.bE({team:e.meta})),i(!1)}).catch(e=>{400!==e.status&&(s(ez.sf({view:"recentsAndSharing"})),s(aD.s.error(`${e.data.message}`))),i(!1)})},[s,n]);let l=()=>{s(ez.sf({view:"recentsAndSharing"}))},d=(0,m.jsx)(sL.vd,{className:bA,onClick:l,children:(0,M.tx)("team_restore.back")});if(o)if(o.deleted_at){let e=(0,ej.A)(o.deleted_at).add(28,"days").toDate();t=(0,M.t)("team_restore.confirm_restore_header",{teamName:o.name}),r=(0,m.jsxs)("div",{children:[(0,M.tx)("team_restore.confirm_restore"),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,M.tx)("team_restore.confirm_restore_deadline",{deleteDeadline:e})]}),d=(0,m.jsx)(sL.vd,{className:bA,onClick:()=>{s(x8.I9({teamId:n}))},children:(0,M.tx)("team_restore.restore")})}else t=(0,M.t)("team_restore.ineligible"),r=(0,M.t)("team_restore.questions_contact_support",{supportEmail:(0,lF.supportEmail)()});else{if(a)return(0,m.jsx)("div",{className:bS,children:(0,m.jsx)("div",{className:bR,children:(0,m.jsx)(nO.kt,{})})});t=(0,M.t)("team_restore.expired_header"),r=(0,m.jsxs)("div",{children:[(0,M.tx)("team_restore.expired"),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,M.tx)("team_restore.questions_contact_support",{supportEmail:(0,lF.supportEmail)()})]})}return(0,m.jsx)(U.fu,{name:"Team Restore",properties:{teamId:n},children:(0,m.jsx)(v8.O,{menu:(0,m.jsx)(sF.B,{svg:mq.A,onClick:l,className:"team_restore--modalCloseX--ELIXg"}),children:(0,m.jsx)("div",{className:bS,children:(0,m.jsxs)("div",{className:bR,children:[(0,m.jsx)("div",{className:"team_restore--header--s7lmg text--fontPos20--WslT3 text--_fontBase--VaHfk",children:t}),(0,m.jsx)("div",{className:"team_restore--text--3Khhw text--fontPos12--oWc5z text--_fontBase--VaHfk",children:r}),d]})})})})}var bO=r(23473),bP=r(18526);function bL(e){let t=(0,ed.iZ)(),[r,s]=_.useState(()=>(0,bP.LN)()),a=(0,x.wA)(),i=null===e.selectedView.teamId?void 0:()=>{let r=t?.id;if(r){let t={userId:r,orgId:null,teamId:e.selectedView.teamId};a(L._l({workspace:t,view:{view:"allProjects"}}))}else a(ez.sf({view:"team",teamId:e.selectedView.teamId}))},n=e.selectedView.teamId,o=_.useRef(null);return(0,m.jsx)(U.fu,{name:"Upgrade Team",properties:{teamId:n,step:br.Vv.UPGRADE_NEW_TEAM},children:(0,m.jsx)("div",{className:"legacy_upgrade--teamUpgrade--552x4",children:(0,m.jsxs)(v8.O,{menu:(0,m.jsx)(v3.X,{onClick:()=>{let r=t?.id,s=e.selectedView.teamId,i={view:"recentsAndSharing"};r&&s?a(L._l({workspace:{userId:r,teamId:s,orgId:null},view:e.selectedView.previousView||i})):a(ez.sf(e.selectedView.previousView||i))},children:(0,m.jsx)(sF.B,{svg:mq.A,className:"legacy_upgrade--closeButton--3ZGnp"})}),pageRef:o,children:[(0,m.jsx)(v9.J,{index:3}),(0,m.jsx)(U.fu,{name:"Upgrade New Team",properties:{teamId:n,trackingDescriptor:eb.c.UPGRADE_YOUR_TEAM},children:(0,m.jsxs)("div",{className:ee()(e.className,"step_upgrade_new_team--container--TjQQ2"),children:[(0,m.jsx)(v6.JR,{className:"step_upgrade_new_team--stepTitleComparisonChart--lnxXM step_upgrade_new_team--stepTitle--vWpB1",children:(0,m.jsx)("span",{children:(0,M.tx)("plan_details.choose_your_team_plan")})}),(0,m.jsx)("div",{className:B.s.mxAuto.$,style:ny.sx.add({width:"fit-content"}).$,children:(0,m.jsx)(bO.P,{entrypoint:av.C.UPGRADE_NEW_TEAM,currency:r,updateCurrency:e=>{s(e),a(ez.oB())},chooseStarterPlan:i,chooseProPlan:t=>{let s;return s=e.selectedView,void a(c2.WX({teamId:e.selectedView.teamId,selectedView:s,newTeam:!0,currency:r,billingPeriod:t,entryPoint:(0,c4.cH)(av.C.UPGRADE_NEW_TEAM)}))},chooseOrgPlan:()=>{a(c2.Bq({currency:r,entryPoint:(0,c4.cH)(av.C.UPGRADE_NEW_TEAM)}))},hideModalHeader:!0})})]})})]})})})}var bD=r(188908),bM=r(287514),bU=r(735292),bB=r(55914),bz=r(975583),bW=r(922849),bV=r(717345),bG=r(308878);class bH extends _.PureComponent{constructor(){super(...arguments),this._isMounted=!1,this.timer=null,this.controller=new AbortController,this.payload=null,this.fetchScheduledDowntimeInfo=async()=>{let e=this.controller?.signal,t=(0,lF.staticAssetWithUploadsPath)("011a24693cd9b63ea5492d50d7713dfb7ed18ea6"),r=await fetch(t,{signal:e,cache:"no-cache"}),s=await r.json(),a={finished:s.finished,warningDurationMs:Number(s.warning_ms),notifDurationMs:Number(s.notif_ms),pollIntervalMinutes:Number(s.poll_interval_minutes),downtimeStartDate:new Date(s.timestamp+" UTC"),minLengthMinutes:Number(s.estimated_length_min),maxLengthMinutes:Number(s.estimated_length_max),helpcenterUrl:s.helpcenter_url};return(0,f.getFeatureFlags)().display_downtime_banner_force&&(a.warningDurationMs*=1e3,a.notifDurationMs*=1e3),"hostname"in s&&(a={...a,renderOnHostname:s.hostname}),a},this.onTick=()=>{null!=this.payload&&this.props.dispatch(bV.Z.onTick({payload:this.payload,hostname:window.location.hostname,currentTimeMs:Date.now()}))},this.poll=async()=>{for(;this._isMounted;)try{let e=await this.fetchScheduledDowntimeInfo();this._isMounted&&(this.payload=e,this.timer||(this.onTick(),this.timer=setInterval(this.onTick,3e4)))}catch(e){"AbortError"!==e.name&&console.warn(e)}finally{let e=this.payload&&60*this.payload.pollIntervalMinutes||900;await (0,bB.fm)(1e3*e)}}}componentDidMount(){this._isMounted=!0,this.poll()}componentWillUnmount(){this._isMounted=!1,this.controller?.abort(),this.timer&&clearInterval(this.timer)}render(){return null}}function b$(e){let{dispatch:t,downtime:r}=e,s=_.useCallback(e=>()=>{t(e)},[t]),a=_.useCallback((e,t)=>()=>{w.Ay.unsafeRedirect(e,"_blank"),s(t)},[s]),i=_.useCallback(e=>(0,M.t)("downtime_banner.ongoing.figma_will_be_entering_a_maintenance_period",{minutes:e}),[]),n=_.useMemo(()=>(0,M.t)("downtime_banner.ongoing.currently_undergoing_maintenance"),[]),o=_.useRef(e.notifications),l=_.useCallback(()=>{o.current.length>0&&t(bW.Q.dequeue({type:bz._.DOWNTIME}))},[t,o]);return _.useEffect(()=>{let{payload:e,status:o,hidingDowntimeNotif:d,notifMinutesRemaining:c}=r;if((0,f.getFeatureFlags)().display_downtime_banner){switch(o){case bG.A.Imminent:case bG.A.Warning:if(e&&null!=c&&d!==bG.y.warningHidden){let r=i(c),n=a(e.helpcenterUrl,bV.Z.hideWarningNotif()),o=s(bV.Z.hideWarningNotif());t(bW.Q.dequeue({type:bz._.DOWNTIME})),t(bW.Q.enqueue({notification:{type:bz._.DOWNTIME,message:r,acceptCallback:n,dismissCallback:o}}))}break;case bG.A.Ongoing:if(e&&d!==bG.y.ongoingHidden){let r=a(e.helpcenterUrl,bV.Z.hideOngoingNotif()),i=s(bV.Z.hideOngoingNotif());t(bW.Q.dequeue({type:bz._.DOWNTIME})),t(bW.Q.enqueue({notification:{type:bz._.DOWNTIME,message:n,acceptCallback:r,dismissCallback:i}}))}break;case bG.A.Finished:l()}return()=>{l()}}},[r,t,i,a,s,n,l]),null}bH.displayName="DowntimePoller";var bq=r(9785),bK=r(856011);function bY(){let e=(0,bq.W)();return(0,m.jsx)(bK.Y,{prioritizedBanners:e,location:"file_browser"})}var bJ=r(989945);function bX({children:e}){let t=(0,x.wA)(),r=(0,x.d4)(e=>e.fileImport.step),s=(0,x.d4)(e=>e.selectedView),a=p5("folder"===s.view?s.folderId:null).data?.project??null,i=(0,pW.B2)(a).unwrapOr(!1),[n,o]=_.useState(!1),l=_.useCallback(()=>o(!0),[]),d=_.useCallback(()=>o(!1),[]),c=_.useCallback(e=>{o(!1),i&&t((0,pW.b6)({dataTransfer:e,importToFolderData:a??"DRAFTS_FOLDER"}))},[t,i,a]);return(0,m.jsxs)(tu.Y,{className:B.s.flex.flexColumn.$,isDragTarget:pW.al,onTargetDragEnter:l,onTargetDragLeave:d,onTargetDrop:c,children:[e,i&&(0,m.jsx)(bQ,{step:r,dragging:n})]})}function bQ({step:e,dragging:t}){switch(e){case bJ.Y5.CONFIRM_PDF_IMPORT:case bJ.Y5.IMPORT_REPO:return null;case bJ.Y5.START:case bJ.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case bJ.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return(0,m.jsx)("div",{className:t?"file_browser_drop_zone--dragTargetDragging--CcIa0 file_browser_drop_zone--dragTargetNormal--nLi0m":"file_browser_drop_zone--dragTargetNormal--nLi0m"});default:(0,D.xb)(e)}}function bZ(e){return(0,m.jsx)(J.tH,{boundaryKey:"FileBrowserDropZone",fallback:(0,m.jsx)(m.Fragment,{children:e.children}),team:Q.FigmaTeam.WAYFINDING,children:(0,m.jsx)(bX,{...e})})}let b0="file_browser_view--filebrowserHtml--aIIa3",b1="file_browser_view--filebrowserBody--yian7",b2="file_browser_view--desktop--ZU1og";function b4(){return(0,m.jsx)(y.k,{id:"FileBrowserView",children:(0,m.jsx)(b5,{})})}function b5(){let e,t,r,s,a,i,n,o,l,d=(0,x.wA)(),c=(0,eo.dq)(),u=(0,no.Um)(),y=(0,ed.iZ)(),D=(0,eW._6)(),U=v7.q_.useIsLoading(),B=(0,x.d4)(e=>e.payment),z=(0,x.d4)(e=>e.currentTeamId),W=(0,eq.d)(),V=(0,N.v)(),G=(0,x.d4)(e=>e.downtime),H=(0,x.d4)(e=>e.notifications);e=(0,x.Pj)(),t=_.useMemo(()=>(0,gZ.g)(),[]),r=(0,E.bc)(tI.__y,{cacheNonce:t}),_.useEffect(()=>{if("loaded"===r.status&&r.data.currentUser.assetTransferReload.status===et.tT.Loaded){let t=(0,et.oA)(r.data.currentUser.assetTransferReload);if(!t)return;(0,p3.HZ)({oldValue:!!t,newValue:!1,label:vr.A.UseAssetTransferReload.assetTransferReload,contextArgs:{destOrgId:t.destOrgId,folderId:t.folderId,teamId:t.teamId,userId:t.userId,selectedView:e.getState().selectedView.view},sampleRate:100,enableShadowRead:tQ.v.getFeatureGate("use_asset_transfer_reload_shadow_read")});let s=(0,lF.default)().user_data?.id,a=e.getState(),i="folder"===a.selectedView.view&&a.selectedView.folderId===t.folderId,n="team"===a.selectedView.view&&a.selectedView.teamId===t.teamId,o="folder"===a.selectedView.view&&a.folders[a.selectedView.folderId],l=o&&o.team_id===t.teamId,d=t.folderId?i:n||l,c={view:"folder",folderId:t.folderId||""},u={view:"team",teamId:t.teamId||"",teamViewTab:as.A$.HOME};if(s&&t.userId===s){let r={userId:t.userId,orgId:t.destOrgId},s=t.folderId?c:u;if(d){let a=t.folderId?(0,M.t)("realtime.asset_reload.project_has_been_transferred_redirecting"):(0,M.t)("realtime.asset_reload.team_has_been_transferred_redirecting");e.dispatch(t_.F.enqueue({message:a})),setTimeout(()=>{e.dispatch(L._l({workspace:r,view:s}))},2e3)}else e.dispatch(L.Dj({reason:"asset transfer reload",delay:L.RH.DEFAULT}))}}},[e,r]),(0,h.h)(()=>{y&&d(bl.Jw())}),(0,T.IT)((0,bD.XZ)({currentOrgId:c??void 0,currentTeamId:z??void 0,fileTags:["figjam_template","figma_basics"]}),{enabled:(0,f.getFeatureFlags)().create_starter_files_from_file_browser&&iO.Gn.includes(D.view)});let[$,q]=_.useState(0),[K,Y]=_.useState(0),[J,X]=_.useState(!1);(0,h.h)(()=>(document.body.classList.add(b1),document.documentElement.classList.add(b0),(0,I.$o)(),(0,oD.I0)(D,c,z,W),(0,k.hW)("exp_aa_test_file_browser_view").catch(p.lQ),()=>{document.body.classList.remove(b1),document.documentElement.classList.remove(b0),(0,I.$E)(),d(rd.AS())})),_.useEffect(()=>{if(j.eD||(0,b.ce)()){let e=document.createElement("div");return e.classList.add("file_browser_view--desktopBackground--ZfAhg"),document.body.appendChild(e),document.body.classList.add(b2),()=>{document.body.classList.remove(b2),document.body.removeChild(e)}}},[]);let Q=(0,g.ZC)(D);_.useEffect(()=>{Q&&Q!==D&&((0,bM.SW)(Q,D)&&window.scrollTo(0,0),J?X(!1):(q(K+1),Y(K+1)))},[Q,D,J,K]),_.useEffect(()=>{"teamCreation"===D.view&&D.fromNewTab&&d(L.Dw({previousView:D.previousView,onSubmitReturnToPrevView:D.onSubmitReturnToPrevView,isEduTeam:D.isEduTeam,ignoreCurrentPlan:!0}))},[D,d]);let Z=v.A.isAndroidOrIosMobileBrowser;if(s=(0,eW._6)(),a=(0,x.wA)(),i=(0,ed.TA)(),n=null,("teamUpgrade"===s.view||"promoReview"===s.view||"eduReview"===s.view)&&(n=s.teamId),o=(0,E.bc)((0,tI.yY6)(n?{teamId:n}:null)),l=_.useMemo(()=>o.transform(({team:e})=>{if(!e)return!1;let t=!(0,it.a5)(e);return e.canAdmin||e.canEdit&&t}),[o]),_.useEffect(()=>{"loaded"===l.status&&!l.data&&n&&(i?a(L._l({workspace:{userId:i,teamId:n,orgId:null},view:{view:"allProjects"}})):a(ez.sf({view:"team",teamId:n})))},[i,a,l.data,l.status,n]),"teamUpgrade"===D.view)if(D.paymentStep===br.Vv.UPGRADE_NEW_TEAM)return(0,m.jsx)(bL,{selectedView:D});else return(0,f.getFeatureFlags)().cart_rewrite_full_send&&(0,f.getFeatureFlags)().cart_rewrite_pro_flow?V()?(0,m.jsx)(S.h,{teamId:D.teamId,tier:bU.Ju.PRO,currency:B.currency,renewalTerm:(0,it.ne)(B.billingPeriod),entryPoint:D.entryPoint??0,newUser:D.previousView?.view==="purchasePro"&&D.previousView?.isNewUser}):(0,m.jsx)(R.v,{teamId:D.teamId,tier:bU.Ju.PRO,currency:B.currency,renewalTerm:(0,it.ne)(B.billingPeriod),entryPoint:D.entryPoint??0,newUser:D.previousView?.view==="purchasePro"&&D.previousView?.isNewUser}):(0,m.jsx)(A.q,{selectedView:D});if("teamCreation"===D.view)if(D.fromNewTab)return null;else return(0,m.jsx)(bN,{selectedView:D});if("addCollaborators"===D.view)return(0,m.jsx)(ba,{selectedView:D});if("orgSelfServe"===D.view)return V()?(0,m.jsx)(S.h,{teamId:null,tier:bU.Ju.ORG,currency:B.currency,renewalTerm:br.NW.YEAR,entryPoint:D.entryPoint,newUser:!1}):(0,f.getFeatureFlags)().cart_rewrite_full_send&&(0,f.getFeatureFlags)().cart_rewrite_org_flow?(0,m.jsx)(R.v,{teamId:null,tier:bU.Ju.ORG,orgMigrated:!!D.orgMigrated,currency:B.currency,renewalTerm:br.NW.YEAR,entryPoint:D.entryPoint}):(0,m.jsx)(F.G,{step:D.step||xf.BK.Initial,initialDesignSeats:D.initialDesignEditors||0,orgMigrated:!!D.orgMigrated,dropdownShown:u,newTeamProps:D.newTeamProps,entryPoint:D.entryPoint});if("purchasePro"===D.view)return(0,m.jsx)(bE,{});else if("teamRestore"===D.view)return(0,m.jsx)(bF,{selectedView:D});else if("promoReview"===D.view)return(0,m.jsx)(O.z,{promo:B?.promo,selectedView:D});else if("eduReview"===D.view)return(0,m.jsx)(P.w,{selectedView:D});return y?c||z?(0,m.jsxs)(bg.C.Provider,{value:{goBack:()=>{K>0&&(history.back(),Y(K-1),X(!0))},goForward:()=>{K<$&&(history.forward(),Y(K+1),X(!0))},canGoBack:K>0,canGoForward:K<$},children:[Z&&(0,m.jsx)(C.R,{userIdForTracking:y?.id}),(0,m.jsxs)(bZ,{children:[(0,m.jsx)(bY,{}),(0,m.jsx)(b$,{downtime:G,notifications:H,dispatch:d}),(0,m.jsx)(bp,{}),(0,m.jsx)(v2,{showingFileBrowserLoader:U})]})]}):(console.error("No current organization or team plan set for user. Redirecting to /files"),w.Ay.redirect("/files"),null):(console.error(`Signed out page: unrecognized route ${w.Ay.location.pathname}, redirecting to /`),w.Ay.redirect("/"),null)}},74654(e,t,r){"use strict";r.d(t,{Ez:()=>eo,xo:()=>ee,Lz:()=>es,QH:()=>er,FileImportModal:()=>Q,hE:()=>ea,V8:()=>et});var s=r(239976),a=r(105652),i=r(645186),n=r(523924),o=r(745463),l=r(395227),d=r(71239),c=r(297151),u=r(283175),m=r(447019),_=r(799680),x=r(228783),p=r(850159),f=r(741542),h=r(194535);r(574988);var g=r(181645),v=r(214030),b=r(195784),j=r(865804),y=r(921282),w=r(140979),E=r(921424),T=r(801236),I=r(90550),k=r(86057),C=r(289886),N=r(113116),S=r(660983),R=r(183890),A=r(38900),F=r(104727),O=r(406995),P=r(235532),L=r(797880),D=r(83522),M=r(487817),U=r(644350),B=r(331850),z=r(982175),W=r(989945),V=r(852734),G=r(844060),H=r(706354),$=r(462198),q=r(985514);let K="file_import_modal--scrollContainer--R9vnf";function Y(e){let{fileImport:t,onDone:r,onCancel:o,importToFolderData:u}=e,_=l.hS({open:e.open,onClose:e.onClose}),x=(0,i.wA)(),f=es(t),h=0===f.remainingFiles,g=er("DRAFTS_FOLDER"===u?void 0:u.teamId),[v,b]=(0,a.useState)(q.uf.IMPORTING_FILES);eo(v===q.uf.IMPORTING_FILES||v===q.uf.ATTACHING_BRANCH);let j="DRAFTS_FOLDER"===u?(0,p.t)("file_browser.tool_bar.drafts"):u.name||(0,P.CI)(u),y=v===q.uf.SUCCESS?(0,p.t)("file_browser.file_import_view.imported_to_folder",{folderName:j}):(0,p.t)("file_browser.file_import_view.import_to_folder",{folderName:j}),{statusIcon:w,statusMessage:T,statusMessageSecondary:N}=function(e,t,r){let a=null,i=null,o=null,l=et(e===q.uf.SUCCESS,t,r);switch(e){case q.uf.IMPORTING_FILES:a=l.statusIcon,i=l.statusMessage,o=l.statusMessageSecondary;break;case q.uf.ATTACHING_BRANCH:a=(0,s.jsx)(I.kt,{imageBacked:!0,testId:"loadingSpinner"}),i=(0,p.tx)("file_browser.file_import_view.repo.attaching_branch"),o=(0,s.jsx)("span",{className:C.s.textBodyMedium.$,children:(0,p.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:(0,s.jsx)(E.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink",children:(0,p.tx)("file_browser.file_import_view.open_a_new_tab_link")})})});break;case q.uf.SUCCESS:a=l.statusIcon,i=l.statusMessage,o=l.statusMessageSecondary,t.importedFiles===t.totalFiles&&(i=(0,p.tx)("file_browser.file_import_view.repo.success"),o=(0,p.tx)("file_browser.file_import_view.repo.to_fix_images"));break;case q.uf.ERROR:a=(0,s.jsx)(m.R,{}),i=(0,p.tx)("file_browser.file_import_view.repo.error");break;default:(0,n.xb)(e)}return a&&i?{statusIcon:a,statusMessage:i,statusMessageSecondary:o}:((0,$.$D)(H.FigmaTeam.SCENEGRAPH_AND_SYNC,Error("Missing status in repo import")),{statusIcon:(0,s.jsx)(m.R,{}),statusMessage:(0,p.tx)("file_browser.file_import_view.repo.error"),statusMessageSecondary:null})}(v,f,j),S=ee({isImportComplete:h,fileImport:t,onDone:r,team:g,dispatch:x,stats:f,shouldShowMoveToProjectButton:!1,onMoveToProject:()=>{},filesToMove:[],onCancel:o});return(0,a.useEffect)(()=>{if(h){b(q.uf.ATTACHING_BRANCH);let e=Object.values(t.files),r=e.find(e=>e.name.includes("branch tip"))?.fileKey,s=e.find(e=>e.name.includes("branch point"))?.fileKey,a=e.find(e=>e.name.includes("main tip"))?.fileKey;r&&s&&a?(0,q.yA)(r,s,a).then(()=>{b(q.uf.SUCCESS)}).catch(()=>{b(q.uf.ERROR)}):(b(q.uf.ERROR),console.error("Missing branch key, branch point key, or main tip key files"))}},[h,t.files]),(0,s.jsx)(d.bL,{manager:_,width:480,children:(0,s.jsxs)(c.vo,{children:[(0,s.jsx)(c.Y9,{children:(0,s.jsx)(c.hE,{children:y})}),(0,s.jsx)(c.nB,{children:t&&(0,s.jsx)(k.P,{innerClassName:C.s.flex.flexColumn.$,className:K,children:Object.values(t.files).map(e=>(0,s.jsx)(ea,{file:e},`file-import-${e.id}`))})}),(0,s.jsx)(c.wi,{children:(0,s.jsxs)("div",{className:C.s.flex.flexRow.wFull.justifyBetween.py8.gap16.bt1.bSolid.colorBorder.$,children:[(0,s.jsxs)("div",{className:C.s.flex.flexRow.itemsCenter.gap8.$,children:[w&&(0,s.jsx)("div",{className:C.s.flex.itemsCenter.justifyCenter.h32.w32.$,children:w}),T&&(0,s.jsx)("span",{className:C.s.fontSemiBold.$,children:T}),N&&(0,s.jsx)("span",{className:C.s.ml8.$,children:N})]}),(0,s.jsx)("div",{children:S})]})})]})})}var J=r(45537);let X="import_progress_modal";function Q({importToFolderData:e}){let t=(0,i.wA)(),{fileImport:r}=(0,h.R)(e=>({fileImport:e.fileImport})),a=()=>{t(A.Ce()),t(L.cY())},o=()=>{t(L.yD())},l=()=>{t(L.cY())},d=(()=>{switch(r.step){case W.Y5.CONFIRM_PDF_IMPORT:return(0,s.jsx)(J.PdfConfirmationModal,{fileImportDescription:(0,p.tx)("file_browser.file_import_view.select_pdf_source_description",{pdfCount:es(r).pdfCount}),onConfirm:e=>{t(L._9(e))},onCancel:()=>{t(L.AU()),o()}});case W.Y5.IMPORT_REPO:return(0,s.jsx)(Y,{fileImport:r,importToFolderData:e,onDone:a,onCancel:o,onMoveToProject:l,onClose:()=>t(A.Ce()),open:!0});case W.Y5.START:case W.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case W.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return(0,s.jsx)(Z,{fileImport:r,importToFolderData:e,onDone:a,onCancel:o,onMoveToProject:l});default:(0,n.xb)(r.step)}})();return(0,s.jsx)(j.fu,{name:X,children:d})}function Z({fileImport:e,importToFolderData:t,onDone:r,onCancel:n,onMoveToProject:o}){let u=(0,i.wA)(),m=er("DRAFTS_FOLDER"===t?void 0:t.teamId),_=es(e),x=(0,B.X$)("ImportModal").unwrapOr(null),f=x?.tier!==M.Ag.STARTER,h=0===_.remainingFiles,g="DRAFTS_FOLDER"===t||(0,P.T9)(t);eo(!h);let j="DRAFTS_FOLDER"===t?(0,p.t)("file_browser.tool_bar.drafts"):t.name||(0,P.CI)(t),y=h?(0,p.t)("file_browser.file_import_view.imported_to_folder",{folderName:j}):(0,p.t)("file_browser.file_import_view.import_to_folder",{folderName:j}),{statusIcon:E,statusMessage:T,statusMessageSecondary:I}=et(h,_,j),C=f&&g&&_.importedFiles>=1,N=(0,a.useMemo)(()=>(function(e,t){let r=[];if(!e)return r;for(let e of Object.values(t))e.fileKey&&r.push({fileKey:e.fileKey});return r})(C,e.files),[C,e.files]),S=(0,w.p)(U.NSA,N),R=ee({isImportComplete:h,fileImport:e,onDone:r,team:m,dispatch:u,stats:_,shouldShowMoveToProjectButton:C,onMoveToProject:o,filesToMove:(0,a.useMemo)(()=>(function(e){let t=[];for(let r of e){let e=r.result.data?.file;e&&t.push({key:e.key,name:e.name,folder_id:e.folderId,team_id:e.teamId,editor_type:e.editorType,is_team_template:e.isTeamTemplate,parent_org_id:e.parentOrgId})}return t})(S),[S]),onCancel:n}),A=l.hS({open:!0,onClose:()=>{(0,b.Cu)({trackingContext:X,trackingDescriptor:v.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}),e.queue.length?n():r()},preventUserClose:!h});return(0,s.jsx)(d.bL,{manager:A,width:480,children:(0,s.jsxs)(c.vo,{children:[(0,s.jsx)(c.Y9,{children:(0,s.jsx)(c.hE,{children:y})}),(0,s.jsx)(c.nB,{padding:0,children:(0,s.jsx)(k.P,{...{className:"x78zum5 xdt5ytf"},className:K,children:Object.values(e.files).map(e=>(0,s.jsx)(ea,{file:e},`file-import-${e.id}`))})}),(0,s.jsxs)(c.wi,{children:[(0,s.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x167g77z"},children:[E,T&&(0,s.jsx)("span",{className:"xkezfkh",children:T}),I&&(0,s.jsx)("span",{className:"xet2fuk",children:I})]}),(0,s.jsx)(c.jk,{children:R})]})]})})}function ee({isImportComplete:e,fileImport:t,onDone:r,team:a,dispatch:i,stats:n,shouldShowMoveToProjectButton:o,onMoveToProject:l,filesToMove:d,onCancel:c}){var u,m,_,x,h,v,b;if(!e){return[(u=c,(0,s.jsx)(N.$z,{variant:"destructive",onClick:u,"data-testid":"cancelButton",children:(0,p.tx)("file_browser.file_import_view.cancel")},"cancelButton"))]}if(t.failedOnFileLimit){return[(m=r,_=a,x=i,h=n,(0,s.jsx)(N.$z,{variant:"primary",onClick:()=>{m(),null!=_&&x((0,A.to)({type:G.DV,data:{team:_,resource:h.hasMakeFile&&!(0,f.getFeatureFlags)().bake_starter_limit?z.Bi.FIGMAKE:z.vL.FILE,action:V.ZN.IMPORT_FILES,editorType:h.editorType,multipleResources:h.failedFiles>1,currentPlan:F.F.Plan.STARTER,upsellPlan:F.F.Plan.PRO,entryPoint:O.C.FILE_IMPORT_MODAL}}))},"data-testid":"nextButton",children:(0,p.tx)("file_browser.file_import_view.next")},"nextButton"))]}let j=[(v=o?"secondary":"primary",b=r,(0,s.jsx)(N.$z,{variant:v,onClick:b,"data-testid":"doneButton",children:(0,p.tx)("file_browser.file_import_view.done")},"doneButton"))];return o&&j.push(function({onMoveToProject:e,filesToMove:t,stats:r,dispatch:a}){return(0,s.jsx)(N.$z,{variant:"primary",onClick:()=>{e(),(0,g.sx)("file_import.move_to_project.button_clicked",{numFiles:r.importedFiles}),1===t.length&&t[0]?(0,R.h)(t[0],null,a,void 0,void 0,void 0,!0):(0,R.O)(t,[],a,!0)},"data-testid":"moveToProjectButton",children:(0,p.tx)("file_browser.file_import_view.move_to_project")},"moveToProjectButton")}({onMoveToProject:l,filesToMove:d,stats:n,dispatch:i})),j}function et(e,t,r){let a=null,i=null,n=null;return e?t.importedFiles===t.totalFiles?(i=(0,s.jsx)("div",{className:C.s.fontSemiBold.inline.$,children:(0,p.tx)("file_browser.file_import_view.file_import_all_succeeded",{totalFiles:t.totalFiles,folder:r})}),a=(0,s.jsx)(u.l,{"data-testid":"checkIcon"})):(i=(0,s.jsx)("div",{className:C.s.fontSemiBold.inline.$,children:(0,p.tx)("file_browser.file_import_view.file_import_progress_to_folder",{importedFiles:t.importedFiles,totalFiles:t.totalFiles,folder:r})}),a=(0,s.jsx)(m.R,{"data-testid":"warningIcon"}),t.canceledFiles>0&&(n=(0,p.tx)("file_browser.file_import_view.file_import_cancel"))):(a=(0,s.jsx)(I.kt,{imageBacked:!0,testId:"loadingSpinner"}),i=(0,p.tx)("file_browser.file_import_view.file_import_progress",{processedFiles:t.processedFiles,totalFiles:t.totalFiles}),n=(0,s.jsx)("span",{className:C.s.textBodyMedium.$,children:(0,p.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:(0,s.jsx)(E.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink",children:(0,p.tx)("file_browser.file_import_view.open_a_new_tab_link")})})})),{statusIcon:a,statusMessage:i,statusMessageSecondary:n}}function er(e){return(0,i.d4)(t=>(0,o.Vq)(e)?t.teams[e]:null)}function es(e){let t=Object.keys(e.files).length,r=e.queue.length,s=0,a=0,i=0,o=0,l=0,d=new Set;for(let t in e.files){let r=e.files[t];if(r){switch(r.status){case W.mO.SUCCESS:case W.mO.WARNING:s++;break;case W.mO.CANCELED:a++;break;case W.mO.FAILURE:i++;break;case W.mO.WAITING:case W.mO.BUSY:o++;break;default:(0,n.xb)(r.status)}(0,W.kI)(r.name)&&l++,d.add((0,W.NU)(r))}}return{totalFiles:t,remainingFiles:r,processedFiles:t-r,importedFiles:s,canceledFiles:a,failedFiles:i,pendingFiles:o,editorType:1===d.size&&Array.from(d)[0]||null,hasMakeFile:d.has(M._Y.FIGMAKE),pdfCount:l}}function ea(e){let{file:t}=e,r=null;return t.status===W.mO.CANCELED?r=(0,p.tx)("file_browser.file_import_view.file_row_import_cancel"):t.message&&(r=Array.isArray(t.message)?t.message.map((e,t)=>(0,s.jsx)("div",{children:e},t)):t.message),(0,s.jsx)(en,{status:t.status,fileKey:t.fileKey,children:(0,s.jsx)("div",{className:C.s.flex.itemsCenter.justifyBetween.flex1.pl8.pr16.textBodyMedium.$,children:(0,s.jsxs)("div",{className:C.s.flex.gap8.if(r,C.s.itemsStart,C.s.itemsCenter).$,children:[(0,s.jsx)("div",{className:C.s.flex.justifyCenter.h32.w32.itemsCenter.$,children:(0,s.jsx)(ei,{file:t})}),(0,s.jsxs)("div",{className:C.s.if(r,C.s.pb6).$,children:[(0,s.jsx)("div",{className:C.s.truncate.lh32.$,style:S.sx.add({maxWidth:"384px"}).$,"data-tooltip":t.name,"data-tooltip-type":"text",children:t.name}),r&&(0,s.jsxs)("div",{className:C.s.flex.flexColumn.mt4.colorTextSecondary.$,children:[r,t.cta&&(0,s.jsx)(E.Us,{className:C.s.colorTextSecondary.underline.ml8.$,role:"button",onClick:t.cta.action,trusted:!0,"data-testid":"ctaLink",children:t.cta.text})]})]})]})})})}function ei({file:e}){switch(e.status){case W.mO.BUSY:case W.mO.WAITING:return(0,s.jsx)(I.kt,{imageBacked:!0,testId:"fileRowLoadingSpinner"});case W.mO.FAILURE:case W.mO.CANCELED:return(0,s.jsx)(_.X,{"data-testid":"failIcon",className:C.s.colorIconDanger.$,"aria-hidden":"true"});case W.mO.SUCCESS:case W.mO.WARNING:let t=(0,W.NU)(e);return(0,s.jsx)(T.w4,{size:16,type:(0,T.Y8)(t)});default:(0,n.xb)(e.status)}}function en(e){let{fileKey:t,status:r,children:a}=e;if(r!==W.mO.SUCCESS&&r!==W.mO.WARNING)return a;let i=t?(0,D.jN)({file:{key:t}}):void 0;return i?(0,s.jsxs)(E.Ph,{href:i,target:"_blank",trusted:!0,className:"file_import_modal--fileRowWrapperLink--amYS6","data-testid":"fileLink",trackingProperties:{action:"Import Modal - File Link Clicked"},children:[a,(0,s.jsx)(x.G,{"aria-label":(0,p.t)("file_browser.open_in_new_tab")})]}):a}function eo(e){let t=(0,a.useCallback)(e=>{e.preventDefault()},[]);(0,a.useEffect)(()=>(e&&(window.addEventListener("beforeunload",t),y.eD?.setIsImporting(!0)),()=>{window.removeEventListener("beforeunload",t),y.eD?.setIsImporting(!1)}),[e,t])}},579982(e,t,r){"use strict";r.d(t,{FileRestoreFromVersionModal:()=>f});var s=r(239976),a=r(645186),i=r(850159),n=r(181645),o=r(921424),l=r(86057),d=r(927243),c=r(38900),u=r(694151),m=r(192159),_=r(392255);let x="file_restore_from_version_modal--fileRestoreText--ex0ut";function p(e){let t=e.version,r=function(e){if(e.participating_images_dict){let[t,r]=Object.entries(e.participating_images_dict)[0]||[];if(t)return{name:t,imageUrl:r}}return{name:e.user.handle,imageUrl:e.user.img_url}}(t);return(0,s.jsxs)("div",{className:"file_restore_from_version_modal--fileRestoreRow--vfvEe",children:[(0,s.jsxs)("div",{className:"file_restore_from_version_modal--fileRestoreDecoration--mGaPT",children:[r&&(0,s.jsx)(u.Ro,{className:"file_restore_from_version_modal--fileRestoreAvatar--ZvvFF",size:30,entity:{img_url:r.imageUrl}}),e.connector&&(0,s.jsx)("div",{className:"file_restore_from_version_modal--fileRestoreConnector--YON97"})]}),(0,s.jsxs)("div",{className:"file_restore_from_version_modal--fileRestoreData--fgpp-",children:[t.label&&(0,s.jsx)("div",{className:"file_restore_from_version_modal--fileRestoreLabel--yzO3M ellipsis--ellipsis--70pHK",children:t.label||""}),t.description&&(0,s.jsx)("div",{className:x,children:t.description}),(0,s.jsx)("div",{className:x,children:(0,s.jsx)(m.Cr,{time:t.touched_at})}),(0,s.jsx)("div",{className:"file_restore_from_version_modal--fileRestoreUser--pg7h1",children:r?.name??""})]}),(0,s.jsx)(o.N_,{onClick:e.callback,className:"file_restore_from_version_modal--fileRestoreAction--qNiWu",trusted:!0,children:(0,i.tx)("file_restore_from_version_modal.restore")})]})}function f(e){let t=(0,a.wA)(),r=e.versions.filter(e=>!e.disabled);return(0,s.jsx)(_.OJ,{title:(0,i.t)("file_restore_from_version_modal.restore_from_version_history"),maxWidth:396,onClose:()=>{t(c.Lo())},children:(0,s.jsx)("div",{className:"file_restore_from_version_modal--fileRestorePanel--G7xND",children:(0,s.jsx)(l.P,{width:396,children:r.map((a,i)=>(0,s.jsx)(p,{version:a,callback:()=>{var r;return r=a.id,void((0,n.sx)("restore_version_from_modal",{fileKey:e.fig.key,versionId:r}),t(c.Ce()),t(d.PF({fileKey:e.fig.key,versionId:r,source:d.C0.FILE_BROWSER_MODAL})))},connector:i+1!==r.length},a.id))})})})}},78207(e,t,r){"use strict";r.d(t,{FolderPageViewOmnicreateDropdown:()=>R});var s,a=r(239976),i=r(600922),n=r(920952),o=r(523924),l=r(338883),d=r(697608),c=r(487817),u=r(506213),m=r(542179),_=((s=_||{}).CAN_CREATE="CAN_CREATE",s.CANNOT_CREATE="CANNOT_CREATE",s.CAN_AUTO_UPGRADE="CAN_AUTO_UPGRADE",s.CAN_REQUEST_UPGRADE="CAN_REQUEST_UPGRADE",s.UPGRADE_PENDING="UPGRADE_PENDING",s),x=r(645186),p=r(597849),f=r(227683),h=r(747902),g=r(105652),v=r(916290),b=r(706354),j=r(850159),y=r(214030),w=r(195784),E=r(865804),T=r(462198),I=r(613629),k=r(39304),C=r(458914),N=r(999886),S=r(128485);function R({folder:e,newFileFrom:t}){let r=function({lgFolder:e}){let{getUpgradeEligibility:t,hasPendingRequest:r,getUpgradePathway:s}=(0,u.wH)({folderId:e.id});return(0,d.h)(e).map(({editorType:a,canCreate:i})=>{let d=(()=>{if(i)return"CAN_CREATE";if(!function({editorType:e,lgFolder:t}){let r=(0,l.av)(t)[e];if(!r)return!1;if(r.result)return!0;if(!t.canEdit)return!1;let s=r.publicDenyReasons;return 1===s.length&&s[0]===c.QK.FOLDER_CREATE_FILE_DENY_UNLICENSED_USERS}({lgFolder:e,editorType:a}))return"CANNOT_CREATE";let d=(0,n.Ci)(a);if(!d)return"CANNOT_CREATE";let u=t(d),_=r(d);switch(u){case m.q.CAN_UPGRADE:let x=s(d);switch(x){case m.J.AUTO_PATHWAY:case m.J.ADMIN_AUTO_PATHWAY:return"CAN_AUTO_UPGRADE";case m.J.PROVISIONAL_PATHWAY:case m.J.RE_REQUEST_PATHWAY:return _?"UPGRADE_PENDING":"CAN_REQUEST_UPGRADE";default:(0,o.xb)(x)}case m.q.CANNOT_UPGRADE:return _?"UPGRADE_PENDING":"CANNOT_CREATE";case m.q.UPGRADE_NOT_NEEDED:return i?"CAN_CREATE":"CANNOT_CREATE";default:(0,o.xb)(u)}})(),u=(()=>{switch(d){case"CAN_CREATE":case"CAN_AUTO_UPGRADE":case"CAN_REQUEST_UPGRADE":return!1;case"CANNOT_CREATE":case"UPGRADE_PENDING":return!0;default:(0,o.xb)(d)}})();return{editorType:a,fileCreationOptionState:d,isDisabled:u}})}({lgFolder:e}),s=function({newFileFrom:e,folder:t,fileCreationOptions:r}){let s=(0,x.wA)(),a=function({lgFolder:e,newFileFrom:t}){let r=(0,x.wA)(),s=(0,C.E)({newFileFrom:t,folderData:e}),{properties:a}=(0,E.j6)(),{handleUpgrade:i}=(0,u.wH)({folderId:e.id});return(0,g.useCallback)(({editorType:e,contextClicked:t,fileCreationOptionState:l})=>{let d=function({editorType:e,fileCreationOptionState:t,createFile:r,handleUpgradeBuilder:s,dispatch:a}){switch(t){case _.CAN_CREATE:return r;case _.CANNOT_CREATE:case _.UPGRADE_PENDING:return v.lQ;case _.CAN_AUTO_UPGRADE:case _.CAN_REQUEST_UPGRADE:return i=>(function({event:e,editorType:t,fileCreationOptionState:r,createFile:s,handleUpgradeBuilder:a,dispatch:i}){let o=(0,n.Ci)(t);if(!o){(0,T.$D)(b.FigmaTeam.UPGRADES,Error("Editor type has no corresponding license type for file creation upgrade flow"),{extra:{editorType:t,fileCreationOptionState:r}}),i(I.F.enqueue({message:(0,j.t)("general.an_error_occurred"),error:!0}));return}a({afterUpgradeCallback:s,licenseType:o,editorType:t,upgradeReason:S.i.CREATE_FILE,entryPoint:k.tc.CREATE_FILE_PROJECT_VIEW})(e)})({event:i,editorType:e,createFile:r,dispatch:a,fileCreationOptionState:t,handleUpgradeBuilder:s});default:(0,o.xb)(t)}}({fileCreationOptionState:l,createFile:s({editorType:e,contextClicked:t}),handleUpgradeBuilder:i,editorType:e,dispatch:r}),c=function({editorType:e,fileCreationOptionState:t,trackingContextProperties:r}){let s=(0,n.Ci)(e),a=(()=>{switch(t){case _.CAN_CREATE:case _.CANNOT_CREATE:case _.UPGRADE_PENDING:return!1;case _.CAN_AUTO_UPGRADE:case _.CAN_REQUEST_UPGRADE:return!0;default:(0,o.xb)(t)}})();return{...r,trackingDescriptor:y.c.CREATE_FILE,licenseType:s,billableProductKey:s&&(0,N.F2)(s),needsUpgrade:a}}({editorType:e,fileCreationOptionState:l,trackingContextProperties:a});return e=>{(0,w.Cu)(c),d(e)}},[s,a,r,i])}({lgFolder:t,newFileFrom:e});return{newFiles:r.map(({editorType:e,fileCreationOptionState:t,isDisabled:r})=>(0,p.p)({editorType:e,isDisabled:r,isLoading:!1,showRequestLabel:t===_.CAN_REQUEST_UPGRADE,showRequestSentLabel:t===_.UPGRADE_PENDING,onClick:a({editorType:e,contextClicked:(0,f.V)(e),fileCreationOptionState:t})})),import:(0,h.ud)(t)?(0,p.u)({isLoading:!1,dispatch:s,importToFolderData:t}):null}}({folder:e,newFileFrom:t,fileCreationOptions:r}),R=r.filter(e=>e.fileCreationOptionState===_.CAN_REQUEST_UPGRADE).map(e=>(0,n.Ci)(e.editorType)).filter(Boolean).sort().join(",");return(0,a.jsx)(i.a,{menuItems:s,dataTestId:"folder-page-omnicreate-dropdown",trackingProperties:{requestableLicenseTypes:R,hasRequestableLicenses:!!R}})}},608763(e,t,r){"use strict";r.d(t,{S:()=>n,n:()=>o});var s=r(350923);let{useRegisterMenu:a,isOpenAtom:i}=(0,r(108370).K)(),n=()=>(0,s.fp)(i)[0],o=1464==r.j?a:null},600922(e,t,r){"use strict";r.d(t,{a:()=>g,R:()=>v});var s=r(239976),a=r(645186),i=r(323365),n=r(911289),o=r(147911),l=r(875604),d=r(105652),c=r(859978),u=r(181714),m=r(558920),_=r(850159);r(574988);let x=d.forwardRef(function(e,t){let r=e["aria-expanded"];return(0,s.jsxs)(c.E,{ref:t,...{0:{className:"x78zum5 x167g77z xfawy5m x6s0dn4 x19y5rnk x1tk3asg xwa2v1s xu5wzci x3sfz7g xazsp2l x1roy7tt x14nhee1 xb67q6v xn3n4wp x1swp962 xb3r6kr x1pshirs"},1:{className:"x78zum5 x167g77z xfawy5m x6s0dn4 x19y5rnk x1tk3asg xwa2v1s xb3r6kr x1pshirs xs07v55 xb67q6v"}}[0|!!(r&&"false"!==r)],...e,children:[(0,s.jsx)(u.$,{"aria-hidden":!0}),(0,s.jsxs)("div",{...{className:"x78zum5 x1v2ro7d x6s0dn4"},children:[(0,_.t)("file_browser.tool_bar.create"),(0,s.jsx)(m.k,{"aria-hidden":!0})]})]})});var p=r(608763);function f({menuItems:e,trackingProperties:t,disabled:r,dataOnboardingKey:a,dataTestId:i}){let{getTriggerProps:n,manager:d}=o.b();return(0,p.n)(d),(0,s.jsxs)(o.bL,{manager:d,children:[(0,s.jsx)(x,{...n(),disabled:r,"data-onboarding-key":a,"data-testid":i}),(0,s.jsx)(l.f,{menuItems:e,trackingProperties:t})]})}var h=r(227683);function g(e){let t=(0,h.k)();return(0,i.WX)({markName:"FileCreateEntrypoint",isLoaded:!0}),(0,s.jsx)(f,{...e,disabled:t})}function v({newFileFrom:e,forceOpenNewTab:t,dataOnboardingKey:r}){let i=(0,a.d4)(e=>e.user?.drafts_folder_id),o=(0,n.Q)({newFileFrom:e,forceOpenNewTab:t,folderId:i,folderData:"DRAFTS_FOLDER",contextClicked:"recents_file_creation_thumbnails_created"});return(0,s.jsx)(g,{menuItems:o,dataOnboardingKey:r})}},227683(e,t,r){"use strict";r.d(t,{V:()=>o,k:()=>l});var s=r(575425);if(1464==r.j)var a=r(487817);var i=r(613549),n=r(138107);function o(e){return({[a._Y.DESIGN]:"toolbar_design_created",[a._Y.WHITEBOARD]:"toolbar_figjam_created",[a._Y.SLIDES]:"toolbar_slides_created",[a._Y.SITES]:`toolbar_${s.oQ}_created`,[a._Y.COOPER]:`toolbar_${s.sq}_created`,[a._Y.FIGMAKE]:`toolbar_${s.GJ}_created`})[e]}function l(){let e=(0,n.vt)(),t=(0,i.jn)();return e||t}},45537(e,t,r){"use strict";r.d(t,{PdfConfirmationModal:()=>g});var s=r(239976),a=r(105652),i=r(523924),n=r(650963),o=r(395227),l=r(71239),d=r(297151),c=r(690607),u=r(609024),m=r(555355),_=r(688357),x=r(850159),p=r(214030),f=r(289886),h=r(113116);function g({fileImportDescription:e,onConfirm:t,onCancel:r}){let[g,v]=(0,a.useState)(void 0),b=(0,a.useMemo)(()=>{let e=(0,n.U)(_.h62).map(e=>({key:e,value:_.h62[e],label:function(e){switch(e){case _.h62.MIRO:return"Miro";case _.h62.MURAL:return"Mural";case _.h62.LUCID:return"Lucid";case _.h62.JAMBOARD:return"Jamboard";case _.h62.UNKNOWN:return(0,x.t)("file_browser.file_import_view.select_pdf_source_input_unknown_value");default:(0,i.xb)(e)}}(e)}));return e.sort((e,t)=>e.key===t.key?0:e.key===_.h62.UNKNOWN?1:t.key===_.h62.UNKNOWN?-1:e.label.localeCompare(t.label)),e},[]),j=(0,a.useCallback)(e=>{v(e)},[]),y=(0,a.useCallback)(()=>{g&&t(_.h62[g])},[t,g]),w=o.hS({open:!0,onClose:r,preventUserClose:!0});return(0,s.jsx)(l.bL,{manager:w,width:"fit-content",children:(0,s.jsxs)(d.vo,{children:[(0,s.jsx)(d.Y9,{children:(0,s.jsx)(d.hE,{children:(0,x.t)("file_browser.file_import_view.select_pdf_source_header")})}),(0,s.jsx)(d.nB,{children:(0,s.jsxs)("div",{className:f.s.flex.flexColumn.pt4.gap16.textBodyMedium.$,children:[(0,s.jsx)("div",{children:e}),(0,s.jsx)("form",{className:f.s.mb8.$,children:(0,s.jsx)(c.b,{legend:(0,s.jsx)(u.q,{children:(0,x.tx)("file_browser.file_import_view.select_pdf_source_input_legend")}),value:g,onChange:j,children:b.map(e=>(0,s.jsx)(c.c,{value:e.value,label:(0,s.jsx)(m.J,{className:f.s.textBodyMedium.$,children:e.label}),children:e.key===_.h62.UNKNOWN&&(0,x.tx)("file_browser.file_import_view.select_pdf_source_input_unknown_disclaimer")},e.key))})})]})}),(0,s.jsx)(d.wi,{children:(0,s.jsxs)(d.jk,{children:[(0,s.jsx)(h.$z,{variant:"secondary",onClick:r,trackingProperties:{trackingDescriptor:p.c.FILE_IMPORT_X_BUTTON,text:"dismiss"},children:(0,x.tx)("modal.cancel")}),(0,s.jsx)(h.$z,{variant:"primary",disabled:!g,onClick:y,children:(0,x.tx)("modal.confirm")})]})})]})})}},763022(e,t,r){"use strict";r.d(t,{RevokeProjectTransferModal:()=>p});var s=r(239976),a=r(645186);if(1464==r.j)var i=r(395227);if(1464==r.j)var n=r(71239);if(1464==r.j)var o=r(297151);if(1464==r.j)var l=r(732632);var d=r(850159),c=r(865804),u=r(289886);if(1464==r.j)var m=r(613629);var _=r(38900),x=r(590648);function p(e){let{pending:t,canRevokeProjectTransfer:r,isTransferTeam:p=!1}=e,f=(0,a.wA)(),h=i.hS({open:e.open,onClose:e.onClose}),g=t.id,v=t.source_user_email,b=t.destination_user_email,j=t.is_transfer_copy;return(0,s.jsx)(c.fu,{name:"Asset Transfer Revoke Modal",properties:{pendingInviteId:g},children:(0,s.jsx)(n.bL,{manager:h,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:(0,d.t)("revoke_transfer_modal.header_title")})}),(0,s.jsxs)(o.nB,{scrolling:"manual",children:[(0,s.jsx)("div",{className:u.s.py8.$,children:p?(0,d.tx)("revoke_transfer_modal.transfer_details_team",{sourceUserEmail:v,destinationUserEmail:b}):j?(0,d.tx)("revoke_transfer_modal.transfer_copy_details",{sourceUserEmail:v,destinationUserEmail:b}):(0,d.tx)("revoke_transfer_modal.transfer_details",{sourceUserEmail:v,destinationUserEmail:b})}),(0,s.jsx)("div",{className:u.s.py8.$,children:(0,d.tx)("revoke_transfer_modal.function_explanation")})]}),(0,s.jsx)(o.wi,{children:(0,s.jsxs)(o.jk,{children:[(0,s.jsx)(l.$n,{variant:"secondary",onClick:e.onClose,children:(0,d.t)("revoke_transfer_modal.go_back")}),(0,s.jsx)(l.$n,{variant:"destructive",onClick:()=>{x.S.deleteAssetTransferRequest({id:g}).then(()=>{f(m.F.enqueue({message:(0,d.t)("revoke_transfer_modal.visual_bell.transfer_revoked")}))},e=>{f(m.F.enqueue({message:(0,d.t)("revoke_transfer_modal.visual_bell.something_went_wrong"),error:!0}))}),f(_.Lo())},disabled:!r,children:(0,d.t)("revoke_transfer_modal.revoke")})]})})]})})})}},48109(e,t,r){"use strict";r.d(t,{f:()=>o});var s=r(239976),a=r(328151),i=r(31314),n=r(25206);function o(e){return(0,s.jsx)(i.Me,{className:"addition_button--button--14wqO","data-onboarding-key":e.data_onboarding_key,"data-tooltip":e.data_tooltip,"data-tooltip-show-immediately":e.disabled||void 0,"data-tooltip-type":a.Ib.TEXT,disabled:e.disabled,innerText:e.innerText,isBackgroundTransparent:e.isBackgroundTransparent,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,svg:n.A})}},714693(e,t,r){"use strict";if(r.d(t,{n:()=>n}),1464==r.j)var s=r(523924);if(1464==r.j)var a=r(390852);if(1464==r.j)var i=r(487817);let n=e=>e.map(e=>{switch(e.resourceType){case a.pX.FILE:return{resourceType:i.bk.FILE,resourceIdOrKey:e.resourceIdOrKey,favoriteId:e.favoriteId,payloadResource:{file:{key:e.resourceIdOrKey}}};case a.pX.TEAM:return{resourceType:i.bk.TEAM,resourceIdOrKey:e.resourceIdOrKey,favoriteId:e.favoriteId,payloadResource:{team:{id:e.resourceIdOrKey}}};case a.pX.WORKSPACE:return{resourceType:i.bk.WORKSPACE,resourceIdOrKey:e.resourceIdOrKey,favoriteId:e.favoriteId,payloadResource:{workspace:{id:e.resourceIdOrKey}}};case a.pX.PROTOTYPE:if(!e.prototype)return;return{resourceType:i.bk.PROTOTYPE,resourceIdOrKey:e.resourceIdOrKey,favoriteId:e.favoriteId,payloadResource:{prototype:{file_key:e.prototype.fileKey,page_id:e.prototype.pageId,id:e.resourceIdOrKey}}};case a.pX.REPO:return{resourceType:i.bk.FILE,resourceIdOrKey:e.resourceIdOrKey,favoriteId:e.favoriteId,payloadResource:{file:{key:e.resourceIdOrKey}}};case a.pX.FOLDER:return{resourceType:i.bk.FOLDER,resourceIdOrKey:e.resourceIdOrKey,favoriteId:e.favoriteId,payloadResource:{folder:{id:e.resourceIdOrKey}}};default:return(0,s.S9)(e.resourceType,void 0,"Unknown resource type")}}).filter(e=>void 0!==e)},552500(e,t,r){"use strict";function s(e,t,r){let s=e.indexOf(t);return -1!==s&&s+r>=0&&s+r<e.length}function a(e,t,r){let s=e.indexOf(t);if(-1===s)return;let a=[...e];return[a[s],a[s+r]]=[a[s+r],a[s]],a}function i(e,t,r,s){let a,i=null!=r&&t.includes(r),n=null==r?-1:e.indexOf(r),o=t;i&&(o=s?[r,...t.filter(e=>e!==r)]:[...t.filter(e=>e!==r),r]);let l=e.filter(e=>!t.includes(e));return i?(a=l.filter(t=>e.indexOf(t)<n).length,s||(a+=1)):(a=null==r?-1:l.indexOf(r))<0?a=s?0:l.length:s||(a+=1),[...l.slice(0,a),...o,...l.slice(a)]}r.d(t,{$e:()=>a,KY:()=>s,u_:()=>i})},393797(e,t,r){"use strict";r.d(t,{FolderUpdateDescriptionModal:()=>l});var s=r(239976),a=r(645186),i=r(850159),n=r(998277),o=r(138193);function l({folder:e}){let t=(0,a.wA)();return(0,s.jsx)(o.c,{initialName:e.description??"",title:(0,i.t)("resource_rename_modal.edit_description"),placeholder:"",submitText:(0,i.t)("resource_rename_modal.save"),onRename:r=>t(n.ub({folderId:e.id,description:r.trim()})),allowEmptyString:!0,maxLength:200})}},672181(e,t,r){"use strict";r.d(t,{FolderCreationModal:()=>W});var s=r(239976),a=r(105652),i=r(645186),n=r(395227),o=r(71239),l=r(297151),d=r(850159),c=r(741542),u=r(865804),m=r(59762),_=r(140979),x=r(921424),p=r(90550),f=r(113116),h=r(2894),g=r(998277),v=r(38900),b=r(336134),j=r(36722),y=r(508295),w=r(385990),E=r(552344),T=r(487817),I=r(644350),k=r(141363),C=r(818622),N=r(798413),S=r(23843),R=r(331850),A=r(449360),F=r(640818),O=r(856201),P=r(216775),L=r(113641),D=r(685698),M=r(377821),U=r(882644),B=r(841301),z=r(676882);function W(e){let t,r=(0,i.wA)(),[W,V]=a.useState(""),[G,H]=a.useState(!1),[$,q]=a.useState(0),K=T.eD.TEAM_ACCESS_EDIT,Y=b.h.useTrackingContext({trigger:F.b.FOLDER_CREATION_MODAL}),J=(0,i.d4)(e=>e.contacts),X=(0,i.d4)(e=>e.dropdownShown),Q=(0,i.d4)(e=>e.autocomplete),Z=(0,y.iZ)(),ee=(0,_.bc)(I.mCn,{teamId:e.teamId}),et=a.useMemo(()=>{if("loading"===ee.status||!ee.data)return null;let t=ee.data.team;if(!t)return null;let r="loaded"===t.workspace.status?t.workspace.data:void 0,s={id:e.teamId,name:t.name,imgUrl:t.imgUrl,subscription:t.subscription,student_team:!!t.studentTeamAt,grace_period_end:t.gracePeriodEnd,restrictions_list:t.restrictionsList,canAdmin:t.canAdmin,canEdit:t.canEdit,sharing_audience_control:t.sharingAudienceControl},a=t.org&&{id:t.org.id,name:t.org.name,img_url:t.org.imgUrl,org_domains:(0,k.vy)(t.org.orgDomains),domain_capture:t.org.domainCapture,invite_whitelist_guest_invite_setting:t.org.inviteWhitelist?.guestInviteSetting};return{team:s,plan:t?.plan,org:a||null,workspace:r}},[ee,e.teamId]),er=et&&et.team,es=et&&et.org,ea=(0,R.S2)().transform(e=>e.planRecordId).unwrapOr(null),ei=(0,w.y)(ea),en=(0,E._)(ea),eo=es&&es.org_domains?es.org_domains:{domains:[],isFetching:!1,fetchedAt:null},el=a.useCallback(()=>er&&er.sharing_audience_control!==T.PQ.ORG_EDIT&&er.sharing_audience_control!==T.PQ.ORG_VIEW?er.sharing_audience_control===T.PQ.WORKSPACE_EDIT||er.sharing_audience_control===T.PQ.WORKSPACE_VIEW?M._9.WORKSPACE:M._9.INVITE_ONLY:M._9.ORG,[er]),ed=a.useCallback(()=>er&&(er.sharing_audience_control===T.PQ.ORG_EDIT||er.sharing_audience_control===T.PQ.WORKSPACE_EDIT)?M.J4.EDIT:M.J4.VIEW,[er]),{emails:ec,userGroupsData:eu}=(0,P.Zw)(Q),em=eu.map(e=>e.id),[e_,ex]=a.useState(el()),[ep,ef]=a.useState(ed()),[eh,eg]=a.useState(O.e6.EDITOR),ev=(0,j.Xj)(Q.tokens,Q,r);a.useEffect(()=>{ex(el()),ef(ed())},[el,ed]);let eb=()=>{1===$?q(0):(r(v.Lo()),r(h.bx()))},ej=(0,z.uv)(es||null),ey=()=>{let t;e_===M._9.ORG?t=ep===M.J4.EDIT?T.PQ.ORG_EDIT:T.PQ.ORG_VIEW:e_===M._9.WORKSPACE?t=ep===M.J4.EDIT?T.PQ.WORKSPACE_EDIT:T.PQ.WORKSPACE_VIEW:e_===M._9.INVITE_ONLY&&(t=T.PQ.INVITE_ONLY),r(g.vt({shouldRedirect:!e.modalShown,name:W.trim(),teamId:e.teamId,isInviteOnly:void 0,isViewOnly:void 0,sharingAudienceControl:es?t:void 0,teamAccess:K,inviteEmails:ec,userGroupIds:ei?em:[],inviteLevel:eh,orgId:es?.id,onFolderCreated:e.onFolderCreated}))},ew=n.hS({open:e.open,onClose:eb}),eE=0===$?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"folder_creation_modal--nameHeader--ie-P- folder_creation_modal--sectionHeader----1JW text--fontPos11--rO47d text--_fontBase--VaHfk",children:(0,d.t)("project_creation.name")}),(0,s.jsx)(x.ks,{"aria-label":(0,d.t)("project_creation.project_name"),autoFocus:!0,className:"folder_creation_modal--folderNameInput--3KsVl",maxLength:x.wG,minLength:1,onBlur:()=>H(!1),onChange:e=>V(e.target.value),onFocus:()=>H(!0),placeholder:(0,d.t)("project_creation.ex_growth_experiments"),required:!0,value:W}),0===W.trim().length&&!G&&(0,s.jsx)("div",{className:"folder_creation_modal--inputErrorMessage--DyZTE",children:(0,d.t)("project_creation.project_name_empty")}),es&&er&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"folder_creation_modal--sectionHeader----1JW text--fontPos11--rO47d text--_fontBase--VaHfk",children:(0,d.t)("project_creation.who_has_access")}),(0,s.jsx)(M.YU,{resourceType:T.vt.FOLDER,value:e_,onChange:ex,org:es,audienceAccessLevel:ep,workspace:en?et.workspace:void 0,workspaceAudienceEnabled:en}),e_!==M._9.INVITE_ONLY&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(M.Iz,{selectedPermissionsLevel:ep,setSelectedPermissionsLevel:ef,label:(0,d.t)("folder_permissions_modal.what_they_can_do")}),(0,s.jsx)("div",{className:"folder_creation_modal--subtitle--W-eh2 text--fontPos11--rO47d text--_fontBase--VaHfk text--fontPos11--rO47d text--_fontBase--VaHfk",children:ep===M.J4.VIEW?(0,d.t)("project_creation.can_view_and_comment"):(0,d.t)("project_creation.can_create_and_edit_files")})]})]})]}):(t=[O.e6.EDITOR,O.e6.VIEWER],(0,s.jsx)("div",{className:"folder_creation_modal--stepTwoContainer--0cWB-",children:(0,s.jsx)(D.e,{SearchResultComponent:ei?U.VO:U.o6,TokenComponent:ei?U.Vh:U.gy,autocomplete:Q,dispatch:r,dropdownKey:"permissions-invite-dropdown",dropdownShown:X,fixedAutocompleteResults:!0,getSearchResults:ei?e=>(0,A._N)(e,J.usersByEmail,Z,[],ea,{inviteLevel:eh,source:"folder-creation-modal"},{resourceType:T.vt.FOLDER,resourceIdOrKey:void 0}):e=>(0,A.Wj)(e,J.usersByEmail,Z,[],es?.id||null,null,null,{inviteLevel:eh,source:"folder-creation-modal"}),getSelectText:N.C1,getTokenIdentifier:U.BJ,getTokenPopover:ei?e=>(0,U.pU)(e,ev):void 0,hideDropdownOnEmpty:!0,inviteLevel:eh,joinLinkShown:!1,onInviteLevelChange:eg,options:t,placeholderText:ei?(0,d.t)("user_groups.add_emails_names_or_user_groups"):(0,d.t)("team_creation.add_a_name_or_email"),searchResultDisabled:ei?U.qq:void 0,searchResultToken:ei?ej:e=>(0,S.t9)(e,es,eo),shouldAutoFocus:!0,useContainerRefForWidth:!0,validateToken:e=>{let t=(0,c.getFeatureFlags)().folder_creation_restricted_guests_err_ui&&es?.invite_whitelist_guest_invite_setting!=null;return(0,S.yI)(e,J.usersByEmail[e]||e,es,eo,Z.email,t?(0,d.t)("project_creation.restricted_against_adding_external_users"):null)},validateTokensAsEmail:!0})}));return(0,s.jsx)(u.fu,{name:L.e0.CREATE_NEW_PROJECT_MODAL,properties:{teamId:er?.id,...Y},children:(0,s.jsx)(o.bL,{manager:ew,width:"lg",children:(0,s.jsx)("div",{className:"folder_creation_modal--multiContents--RI9A1",children:(0,s.jsxs)(l.vo,{children:[(0,s.jsx)(l.Y9,{children:(0,s.jsx)(l.hE,{children:0===$?(0,d.t)("project_creation.create_project"):(0,d.t)("project_creation.add_people_to_project_name",{projectName:W})})}),(0,s.jsx)(l.nB,{children:et?eE:(0,s.jsx)("div",{className:"folder_creation_modal--loading--M0DVE",children:(0,s.jsx)(p.qc,{})})}),et&&(0,s.jsxs)(l.wi,{children:[(0,s.jsx)("div",{className:"folder_creation_modal--footer--FSArV folder_creation_modal--subtitle--W-eh2 text--fontPos11--rO47d text--_fontBase--VaHfk",children:(0,d.tx)("project_creation.step_number_of_max_steps",{currentStep:$+1,maxSteps:2})}),(0,s.jsxs)(l.jk,{children:[(0,s.jsx)(f.$z,{onClick:eb,variant:"secondary",children:0===$?(0,d.tx)("project_creation.cancel"):(0,d.tx)("project_creation.back")}),(0,s.jsx)(f.$z,{variant:"primary",onClick:()=>{if(0===$)q(1);else if(es){let e=es&&es.domain_capture&&eo.domains.length>0?ec.filter(e=>(0,m.xf)(e)&&!(0,C.H_)(eo.domains,e)):[];e.length>0?(e=>{if(es&&es?.invite_whitelist_guest_invite_setting==null&&e.length>0)return r((0,v.to)({type:B.F,data:{emails:e,onConfirm:()=>{ey()},popStack:!0,orgName:es.name}}))})(e):ey()}else ey()},disabled:0===$&&0===W.trim().length,children:0===$?(0,d.tx)("general.continue"):(0,d.tx)("project_creation.create_project")})]})]})]})})})})}},72216(e,t,r){"use strict";r.d(t,{k1:()=>u,yB:()=>m});var s=r(239976);if(1464==r.j)var a=r(208650);if(1464==r.j)var i=r(683579);var n=r(850159),o=r(574988),l=r(297398);if(1464==r.j)var d=r(328151);function c(e,t,r,s){return{isMonthlyMaxed:t>0&&e>=t,isMonthlyWarning:t>0&&e<t&&t-e<=s,isDailyMaxed:s>0&&r>=s,isDailyWarning:s>0&&r<s&&s/r<=1.5}}function u({monthlyUsed:e,monthlyLimit:t,dailyUsed:r,dailyLimit:o,monthlyResetsAt:u}){let{isMonthlyMaxed:x,isMonthlyWarning:p}=c(e,t,r,o),f=u?(0,l.A0)(new Date(u)):null;return(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1pulhmw xmkeg23 x1y0btm7 x7z60cl x1mxnbhz xi4r6k5"},children:[(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf xg2d0mh"},children:[(0,s.jsxs)("div",{...{className:"x78zum5 x195vfkc"},children:[(0,s.jsx)("span",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1akne3o"},children:(0,n.t)("plan_panel.monthly_credits_used")}),(0,s.jsx)("div",{"data-tooltip-type":d.Ib.TEXT,"data-tooltip":f?(0,n.t)("plan_panel.monthly_credits_used.resets_date",{resetDate:f}):(0,n.t)("plan_panel.monthly_credits_used.tooltip"),"data-tooltip-show-below":!0,"data-tooltip-show-immediately":!0,children:(0,s.jsx)(i.B,{className:"xmauxvm"})})]}),(0,s.jsxs)("div",{...{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x3vvef7"},children:[(0,s.jsx)("span",{...{0:{},1:{className:"x1akne3o"}}[0|!!(e>0&&e<t)],children:e})," ","/ ",t]})]}),(0,s.jsx)(m,{monthlyUsed:e,monthlyLimit:t,dailyUsed:r,dailyLimit:o}),(0,s.jsx)("div",{children:x||p?(0,s.jsx)(a.E,{variant:x?"dangerFilled":"warningFilled",size:"md",children:x?(0,n.t)("plan_panel.out_of_credits"):(0,n.t)("plan_panel.low_on_credits")}):(0,s.jsx)(_,{dailyUsed:r,dailyLimit:o})})]})}function m({monthlyUsed:e,monthlyLimit:t,dailyUsed:r,dailyLimit:a}){let{isMonthlyMaxed:i,isMonthlyWarning:n}=c(e,t,r,a),l=Math.min(e/t*100||0,100);return(0,s.jsx)("div",{...{className:"xols6we x1kogg8i x1v8gsql"},children:(0,s.jsx)("div",{...o.Ay.props(p.progressFill(l),i?p.progressFillDanger:n?p.progressFillWarning:null),"data-testid":"ai-credit-progress-fill","data-progress-pct":`${l}`})})}function _({dailyUsed:e,dailyLimit:t}){let{isDailyMaxed:r,isDailyWarning:i}=c(0,0,e,t);return r||i?(0,s.jsxs)(a.E,{variant:r?"dangerFilled":"warningFilled",size:"md",children:[e,"/",t," ",(0,n.t)("plan_panel.daily_credits_used")]}):(0,s.jsxs)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9"},children:[(0,s.jsxs)("span",{...{0:{},1:{className:"x1akne3o"}}[e>0|0],children:[e,"/",t]})," ",(0,n.t)("plan_panel.daily_credits_used")]})}let x=1464==r.j?{kzqmXN:"x5lhr3w",kZKoxP:"x5yr21d",kaIpWk:"x1kogg8i",krdFHd:"",kfmiAY:"",kVL7Gh:"",kT0f0o:"",kIxVMA:"",ksF3WI:"",kqGeR4:"",kYm2EN:"",kWkggS:"xi0y1te",$$css:!0}:null,p=1464==r.j?{progressFill:e=>{let t;return[x,{"--x-width":"number"==typeof(t=`${e}%`)?t+"px":null!=t?t:void 0}]},progressFillWarning:{kWkggS:"xxxcskk",$$css:!0},progressFillDanger:{kWkggS:"xxvmw7z",$$css:!0}}:null},494227(e,t,r){"use strict";r.d(t,{PlanInfoModal:()=>N});var s=r(239976),a=r(645186),i=r(395227),n=r(71239),o=r(297151),l=r(732632),d=r(850159);r(574988);var c=r(140979),u=r(612883),m=r(406995),_=r(494423),x=r(644350),p=r(72216),f=r(208650),h=r(951215),g=r(104177),v=r(873003),b=r(880237),j=r(907143),y=r(802601),w=r(525141),E=r(683579),T=r(145906),I=r(328151);function k(e){let{brand:t,brandFileCount:r}=e,a=Math.max(0,r),i=a+("design"===t?Math.max(0,e.sitesFileCount??0):0),n=i>=3?"danger":2===i?"warning":"default",{title:o,Icon:l,IconInverse:c,showInfoIcon:u}=function(e){switch(e){case"design":return{title:(0,d.tx)("plan_panel.design_card_title"),Icon:h.I,IconInverse:g.R,showInfoIcon:!0};case"whiteboard":return{title:(0,d.tx)("plan_panel.figjam_card_title"),Icon:v.m,IconInverse:b.l,showInfoIcon:!1};case"piper":return{title:(0,d.tx)("plan_panel.slides_card_title"),Icon:j.c,IconInverse:y.x,showInfoIcon:!1};default:return{title:"",Icon:null,IconInverse:null,showInfoIcon:!1}}}(t);if(!l||!c)return null;let m=`${i}/3`,_=(0,d.tx)("plan_panel.team_files_used",{usedTeamFiles:1===i?(0,s.jsx)("span",{className:"x1akne3o",children:m}):m}),x=Math.min(i,3),p=Math.min(a,x),k=x-p;return(0,s.jsx)(T.J,{brand:t,children:(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1mxnbhz xmkeg23 x1y0btm7 x7z60cl xb3r6kr x5w4yej x5mp9sv"},"data-testid":`${t}-file-usage-card`,children:[(0,s.jsx)("div",{...{className:"x78zum5 xl56j7k x1cy8zhl xy0iw3i x1n2onr6 x1w4f5ud"},"aria-hidden":!0,children:(0,s.jsxs)("div",{...{className:"x78zum5 xl56j7k x1cy8zhl xn3w4p2 xr1yuqi x1n2onr6 x1ja2u2z"},children:[Array.from({length:p},(e,t)=>(0,s.jsx)(l,{},`icon-${t}`)),k>0&&Array.from({length:k},(e,t)=>(0,s.jsx)(w.o,{},`icon-sites-${t}`)),Array.from({length:3-x},(e,t)=>(0,s.jsx)(c,{},`icon-inverse-${t}`))]})}),(0,s.jsx)("div",{...{className:"x78zum5 xdt5ytf x1iyjqo2 xg2d0mh x1xvsi7n x1vamu9a x1gcgh60 x1jwbysl x16v0e3u x4e0i5s x1n2onr6 x1vjfegm"},children:(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf xg2d0mh"},children:[(0,s.jsxs)("div",{...{className:"x78zum5 x6s0dn4 xg2d0mh"},children:[(0,s.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1akne3o",children:o}),u&&(0,s.jsx)("div",{"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,d.t)("plan_panel.max_files_across_design_and_sites",{maxDesignAndSitesFiles:3}),"data-tooltip-show-below":!0,"data-tooltip-show-immediately":!0,children:(0,s.jsx)(E.B,{className:"xmauxvm"})})]}),"default"===n?(0,s.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9",children:_}):(0,s.jsx)("div",{...{className:"xeq5yr9"},children:(0,s.jsx)(f.E,{variant:"warning"===n?"warningFilled":"dangerFilled",size:"md",children:_})})]})})]})})}var C=r(753369);function N({open:e,onClose:t,teamId:r}){let f=(0,a.wA)(),h=i.hS({open:e,onClose:t}),{planUserBalanceResult:g,teamFileCountResult:v}=(0,C.r)(r),b=(0,c.Rs)(x.kQI,{id:r}),j="loaded"===b.status&&b.data.team?.hasPermission,y="loaded"===v.status?v.data.team?.teamFileCounts:null,w=y?.designFileCount??0,E=parseInt(y?.sitesFileCount??"0"),T=y?.whiteboardFileCount??0,I=parseInt(y?.slideFileCount??"0"),N=g.data?.monthly_summary.total??0,S=Math.max(0,N-(g.data?.monthly_summary.available??0)),R=g.data?.monthly_summary.resets_at??null,A=g.data?.daily_summary?.total??0,F=Math.max(0,A-(g.data?.daily_summary?.available??0));return(0,s.jsx)(n.bL,{manager:h,width:618,children:(0,s.jsx)(o.vo,{children:(0,s.jsxs)(o.nB,{padding:{top:40,left:24,right:24,bottom:24},children:[(0,s.jsx)(o.r1,{...{className:"xjz7g13 xuo4v2q xjnky0o xn4joj7 x1ul8uiu x1akne3o x1ghz6dp xpezlj7"},children:(0,d.tx)("plan_panel.your_starter_plan")}),(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1nfngrj x1vamu9a"},children:[(0,s.jsx)("h3",{...{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x1akne3o x1ghz6dp"},children:(0,d.tx)("plan_panel.files")}),(0,s.jsxs)("div",{...{className:"xrvj5dj x1u5fdey x1uq3g15 x1dmtgm7 xkh2ocl"},children:[(0,s.jsx)(k,{brand:"design",brandFileCount:w,sitesFileCount:E}),(0,s.jsx)(k,{brand:"whiteboard",brandFileCount:T}),(0,s.jsx)(k,{brand:"piper",brandFileCount:I})]})]}),(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1nfngrj x1vamu9a"},children:[(0,s.jsx)("h3",{...{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x1akne3o x1ghz6dp"},children:(0,d.tx)("plan_panel.ai_credits")}),(0,s.jsx)(p.k1,{monthlyUsed:S,monthlyLimit:N,dailyUsed:F,dailyLimit:A,monthlyResetsAt:R})]}),(0,s.jsx)("div",{...{className:"x78zum5 x13a6bvl xh8yej3"},children:j&&(0,s.jsx)(l.$n,{variant:"primary",onClick:()=>{f(u.WX({teamId:r,entryPoint:(0,_.cH)(m.C.PLAN_PANEL_MODAL)}))},size:"lg",children:(0,d.tx)("upgrade.upgrade_to_professional")})})]})})})}},753369(e,t,r){"use strict";r.d(t,{r:()=>d});var s=r(105652),a=r(745375),i=r(140979);if(1464==r.j)var n=r(487817);var o=r(644350),l=r(331850);function d(e){let t=(0,l.Il)(e?{parentId:e,type:n.OL.TEAM}:null),r=t.data?.planRecordId??null,[d]=(0,a.C_)(r),c=(0,i.Rs)((0,o.bel)({teamId:e}),{enabled:!!e});return s.useMemo(()=>({planUserBalanceResult:d,teamFileCountResult:c}),[d,c])}},507755(e,t,r){"use strict";r.d(t,{P:()=>n,m:()=>i});var s,a,i=1464==r.j?((s=i||{}).LIMITED_TEAM_SPACE="Limited Team Space",s.EDU_EXPIRY="EDU Expiry",s.EDU_UPGRADE="EDU Upgrade",s.ORG_UPGRADE="Org Upgrade",s.PAID_FREE_SPACE="Paid Free Space",s.UNIVERSAL="Universal",s.RESUBSCRIPTION="Resubscription",s):null,n=1464==r.j?((a=n||{}).BETWEEN_CONTENT="between_content",a.IN_FOOTER="in_footer",a):null},612995(e,t,r){"use strict";r.d(t,{l:()=>s});let s="trashed-projects"},48584(e,t,r){"use strict";if(r.d(t,{$:()=>a}),1464==r.j)var s=r(487817);function a(e){return e?e.sort((e,t)=>{let r=e.permission===s.bp.ADMIN,a=t.permission===s.bp.ADMIN;if(r&&!a)return -1;if(!r&&a)return 1;let i=e.baseOrgUser?.user?.handle||"",n=t.baseOrgUser?.user?.handle||"",o=""===i,l=""===n;return o&&!l?1:!o&&l?-1:o&&l?0:i.localeCompare(n,void 0,{sensitivity:"base"})}):[]}},553436(e,t,r){"use strict";r.d(t,{AddPinModal:()=>j});var s=r(239976),a=r(105652),i=r(645186);if(1464==r.j)var n=r(523924);var o=r(706354),l=r(850159),d=r(140979),c=r(462198);if(1464==r.j)var u=r(863825);var m=r(687497),_=r(181254),x=r(38900),p=r(830772),f=r(735594),h=r(644350),g=r(515709),v=r(611588),b=r(904788);function j({fileKey:e,source:t,open:r,onClose:n}){let m=(0,i.wA)(),j=(0,v.p)((0,l.t)("file_browser.pinning.pin_modal.confirmation_bell"),"file-browser-workspace-add-pin"),w=(0,d.bc)(h.wtK,{fileKey:e}),E=function(e){let[t,r]=a.useState(!1),s="loaded"===e.status&&e.data.file&&!e.data.file.canPinToWorkspace&&e.data.file.canEdit;return s&&!t&&r(!0),s||t}(w);if("loaded"!==w.status)return null;let{file:T}=w.data;if(!T)return(0,c.$D)(o.FigmaTeam.WAYFINDING,Error("AddPinModal unable to lookup file by ID")),m(x.Lo()),null;let I=T.computedWorkspace?.workspace;if(!I)return(0,c.$D)(o.FigmaTeam.WAYFINDING,Error("AddPinModal opened for file with no workspace")),m(x.Lo()),null;let k=f.F.toSinatra({...T}),C=async e=>{try{await g.p.pinFile({resourceType:b.AH,resourceId:I.id,fileKey:T.key,description:e,shouldUpdatePermissions:E}),(0,_.E9)("file_browser_file_pinned_to_resource",T,{resourceType:b.AH,resourceId:I.id,source:t,pinDescription:(0,p._Z)(e)}),j(I.id)}catch(e){throw m(u.s.error((0,l.t)("file_browser.pinning.pin_modal.error"))),e}},N=E?(0,s.jsx)(y,{file:T,workspace:I}):null;return(0,s.jsx)(v.N,{title:(0,l.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,l.t)("file_browser.pinning.pin_file"),onSubmit:C,file:k,initialDescription:null,warningContent:N,open:r,onClose:n})}function y({file:e,workspace:t}){let r=e.parentOrgId;(0,n.B1)(r);let a=(0,i.d4)(({orgById:e})=>e[r].name);return(0,s.jsx)(m.E,{children:(0,l.tx)("file_browser.pinning.update_permissions.content",{workspaceName:t.name,permission:(0,s.jsx)(m.E,{fontWeight:"bold",children:(0,l.tx)("file_browser.pinning.update_permissions.content.permission",{orgName:a})})})})}},342068(e,t,r){"use strict";r.d(t,{DeletePinModal:()=>v});var s=r(239976),a=r(105652),i=r(645186),n=r(706354),o=r(850159),l=r(140979),d=r(462198),c=r(133960);if(1464==r.j)var u=r(863825);var m=r(181254),_=r(830772),x=r(508295);if(1464==r.j)var p=r(487817);var f=r(644350),h=r(515709),g=r(611588);function v({pinnedFileId:e,open:t,onClose:r}){let v=(0,x.TA)(),b=(0,i.wA)(),j=(0,g.p)((0,o.t)("file_browser.pinning.delete_pin_modal.confirmation_bell"),"file-browser-workspace-delete-pin"),[y,w]=a.useState(!1),E=(0,l.bc)(f.qBf,{pinnedFileId:e});if("loaded"!==E.status)return null;let{pinnedFile:T}=E.data;if(!T)return(0,d.$D)(n.FigmaTeam.WAYFINDING,Error("DeletePinModal unable to lookup pinned file by ID")),r(),null;if(T.resourceType!==p.K.WORKSPACE)return(0,d.$D)(n.FigmaTeam.WAYFINDING,Error("DeletePinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:T.resourceType}}),r(),null;let I=async t=>{t.preventDefault();try{w(!0),await h.p.deletePin({pinnedFileId:e}),(0,m.E9)("file_browser_file_unpinned_from_resource",T.file,{resourceId:T.resourceId,resourceType:T.resourceType,isPinCreator:T.creator?.id===v,pinDescription:(0,_._Z)(T.description)}),j(T.resourceId),r()}catch(e){b(u.s.error((0,o.t)("file_browser.pinning.delete_pin_modal.error")))}finally{w(!1)}};return(0,s.jsx)(c.R,{title:(0,o.t)("file_browser.pinning.delete_pin_modal.header"),confirmText:(0,o.t)("file_browser.pinning.delete_pin_modal.confirm"),onConfirm:I,destructive:!0,isLoading:y,open:t,onClose:r,children:(0,o.t)("file_browser.pinning.delete_pin_modal.content")})}},247045(e,t,r){"use strict";r.d(t,{EditPinModal:()=>f});var s=r(239976),a=r(645186),i=r(706354),n=r(850159),o=r(140979),l=r(462198);if(1464==r.j)var d=r(863825);var c=r(38900),u=r(735594);if(1464==r.j)var m=r(487817);var _=r(644350),x=r(515709),p=r(611588);function f({pinnedFileId:e,open:t,onClose:r}){let f=(0,a.wA)(),h=(0,p.p)((0,n.t)("file_browser.pinning.pin_modal.edit.confirmation_bell"),"file-browser-workspace-edit-pin"),g=(0,o.bc)(_.vgO,{pinnedFileId:e});if("loaded"!==g.status)return null;let{pinnedFile:v}=g.data;if(!v)return(0,l.$D)(i.FigmaTeam.WAYFINDING,Error("EditPinModal unable to lookup pinned file by ID")),f(c.Lo()),null;if(v.resourceType!==m.K.WORKSPACE)return(0,l.$D)(i.FigmaTeam.WAYFINDING,Error("EditPinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:v.resourceType}}),f(c.Lo()),null;let b=v.resourceId,j=async t=>{try{await x.p.updatePin({pinnedFileId:e,description:t}),h(b)}catch(e){throw f(d.s.error((0,n.t)("file_browser.pinning.pin_modal.edit.error"))),e}},y=u.F.toSinatra({...v.file});return(0,s.jsx)(p.N,{title:(0,n.t)("file_browser.pinning.pin_modal.edit_pin_description"),confirmText:(0,n.t)("file_browser.pinning.pin_modal.save"),onSubmit:j,file:y,initialDescription:v.description,open:t,onClose:r})}},611588(e,t,r){"use strict";r.d(t,{N:()=>W,p:()=>V});var s=r(239976),a=r(105652),i=r(645186),n=r(395227),o=r(71239),l=r(297151),d=r(732632),c=r(447019),u=r(850159);r(574988);var m=r(801236),_=r(90550),x=r(388565),p=r(289886),f=r(613629),h=r(170589),g=r(629239),v=r(985373),b=r(830772),j=r(832763),y=r(773201),w=r(877757),E=r(916290),T=r(189331),I=r(350923),k=r(224542),C=r.n(k),N=r(331335),S=r(192809),R=r.n(S),A=r(86057),F=r(82851),O=r(895547),P=r(925114),L=r(555235),D=r(610452),M=r(662105);function U({onInsert:e,closeOnInsert:t}){let[r,i]=a.useState(null),n=a.useRef(null),o=a.useCallback(()=>{n.current&&i(n.current.getBoundingClientRect())},[i]),l=a.useCallback(r=>{e(r),t&&i(null)},[e,t,i]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.K,{ref:n,onClick:o,"aria-label":(0,u.t)("comments.add_emoji"),children:(0,s.jsx)(D.A,{})}),r&&(0,s.jsx)(M._,{onInsert:l,onCancel:()=>i(null),targetRect:r})]})}let B={library:{list:()=>Promise.resolve([]),search:()=>Promise.resolve([]),maxResultsLength:()=>0}};function z({placeholder:e,text:t,onChange:r,maxLength:n,onSubmit:o,textAreaClassName:l}){let d=(0,i.wA)(),c=I.zl.get(P.ph),[m,_]=a.useState(!1),[x,f]=a.useState(!1),h=a.useRef(null),g=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),h.current&&h.current.focus()},[]),v=(0,b.Kq)(t,{includeTrailingWhitespace:!0}),[j,y]=a.useState(v),w=R()(e=>{y((0,b.Kq)(e,{includeTrailingWhitespace:!0}))},500);return a.useEffect(()=>(w(t),()=>{w.cancel()}),[t,w]),(0,s.jsxs)("div",{className:x?"emoji_text_area--textAreaContainerFocused--F3wKa":"emoji_text_area--textAreaContainer--R7N-Q",onClick:g,children:[(0,s.jsxs)(A.P,{className:C()(p.s.flexGrow1.overflowAuto.maxWFull.borderBox.if(m,p.s.bb1.bSolid.colorBorder).$,l),innerClassName:p.s.hFull.$,children:[(0,s.jsx)(O.iX,{ref:h,className:p.s.pt16.px16.borderBox.if(m,p.s.pb4).$,currentOrgUsers:{orgUsers:{}},dispatch:d,editorOnClear:E.lQ,editorOnInsert:E.lQ,mentionables:B,messageMeta:t,mountInputFocused:!1,onCancel:E.lQ,onFocus:E.lQ,onSubmit:o??E.lQ,onUpdateTextArea:E.lQ,placeholderText:e,setIsEditorFocused:f,submitOnEnter:!1,typeahead:c,updateMessage:([e,t])=>{r(e)}}),(0,s.jsx)(F.a,{onInitialLoad:e=>_(!e),onIntersectionChange:e=>_(!e.isIntersecting)})]}),(0,s.jsxs)("div",{className:p.s.flex.justifyBetween.itemsCenter.pl12.pr16.py12.$,children:[(0,s.jsx)(U,{onInsert:e=>{if(h.current){let t=N.dN.get(e.id);t&&(h.current.insertEmoji(t),h.current.focus())}},closeOnInsert:!0}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:p.s.if(v>n,p.s.colorTextDanger,p.s.colorTextSecondary).cursorDefault.$,"aria-hidden":!0,children:[v,"/",n]}),(0,s.jsx)(T.T,{screenReaderOnly:!0,children:(0,u.t)("file_browser.pinning.pin_modal.character_count_announcement",{textLength:j,maxLength:n})})]})]})]})}function W({title:e,confirmText:t,onSubmit:r,file:i,initialDescription:f,warningContent:v,open:y,onClose:w}){let[E,T]=a.useState(f??[]),[I,k]=a.useState(!1),C=(0,j.fA)(i),N=(0,h.l)(i.folder_id),S=(0,b.Kq)(E,{includeTrailingWhitespace:!0}),R=S<=100&&S>0,A=a.useCallback(async()=>{if(R)try{k(!0),await r(E),w()}finally{k(!1)}},[r,R,w,E]),F=n.hS({open:y,onClose:w}),O=(0,g.C)(C),P=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:p.s.p16.gap16.flex.flexColumn.$,children:[(0,s.jsxs)("div",{className:p.s.flex.flexColumn.gap16.$,children:[(0,s.jsx)("div",{children:(0,s.jsx)(x.e,{tile:C,borderRadius:6})}),(0,s.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1v2ro7d x6s0dn4"},children:[(0,s.jsx)(m.w4,{size:16,type:O}),(0,s.jsxs)("div",{className:p.s.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$,children:[(0,s.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:i.name}),"loaded"===N.status&&N.data?(0,s.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},children:N.data}):null]})]})]}),(0,s.jsx)(z,{placeholder:(0,u.t)("file_browser.pinning.pin_modal.description_textarea_placeholder"),text:E,onChange:T,onSubmit:A,maxLength:100,textAreaClassName:p.s.maxH100.$})]}),v?(0,s.jsxs)("div",{className:p.s.colorBgWarningTertiary.px16.py12.flex.columnGap8.$,children:[(0,s.jsx)(c.R,{className:p.s.flexShrink0.$}),(0,s.jsx)("span",{children:v})]}):null]});return(0,s.jsx)(o.bL,{manager:F,width:"lg",children:(0,s.jsxs)(l.vo,{children:[(0,s.jsx)(l.Y9,{children:(0,s.jsx)(l.hE,{children:e})}),(0,s.jsx)(l.nB,{padding:0,children:P}),(0,s.jsx)(l.wi,{children:(0,s.jsxs)(l.jk,{children:[(0,s.jsx)(d.$n,{variant:"secondary",onClick:w,children:(0,u.tx)("modal.cancel")}),I?(0,s.jsx)(d.$n,{disabled:!0,children:(0,s.jsx)(_.kt,{className:p.s.colorIconOnbrand.$})}):(0,s.jsx)(d.$n,{disabled:!R,variant:"primary",onClick:A,children:t})]})})]})})}function V(e,t){let r=(0,i.wA)(),s=(0,y._6)();return a.useCallback(a=>{let i;("workspace"!==s.view||s.subView!==w.V0.DIRECTORY)&&(i={text:(0,u.t)("file_browser.pinning.pin_modal.confirmation_bell.view_workspace"),action:()=>{r(v.sf({view:"workspace",subView:w.V0.DIRECTORY,workspaceId:a,selectedTab:w.dN.TEAMS}))}}),r(f.F.enqueue({type:t,message:e,button:i}))},[r,e,t,s])}},651528(e,t,r){"use strict";r.d(t,{$:()=>m});var s=r(105652),a=r(645186),i=r(436174),n=r(490753);if(1464==r.j)var o=r(898312);var l=r(985373),d=r(865780);if(1464==r.j)var c=r(341549);var u=r(877757);function m(){let e=(0,d.dq)(),t=(0,a.wA)();return s.useCallback((r,s)=>{if(t(o.kg({clickedResourceType:"workspace",resourceIdOrKey:r??void 0})),(0,n.Fo)(s)||s.shiftKey){let t=`/files/${e}/workspace/${r??c.O}/directory/teams`;i.Ay.redirect(t,"_blank"),s.preventDefault()}else t(l.sf({view:"workspace",subView:u.V0.DIRECTORY,workspaceId:r,selectedTab:u.dN.TEAMS}))},[e,t])}},885211(e,t,r){"use strict";r.d(t,{O:()=>_});var s=r(105652);if(1464==r.j)var a=r(745463);var i=r(582036),n=r(140979),o=r(904788);if(1464==r.j)var l=r(964099);var d=r(832763);if(1464==r.j)var c=r(487817);var u=r(644350),m=r(435176);function _({tileActions:e}){let t=(0,l.nv)();return(0,i.xD)(t),!function({tiles:e}){let t=s.useMemo(()=>e.map(m.i).filter(a.Vq),[e]),r=s.useMemo(()=>t.map(e=>({fileKey:e})),[t]);(0,n.p)(u.QrR,r,{enabled:r.length>0});let i=s.useMemo(()=>e.map(e=>{let t=(0,m.i)(e);if(!t)return null;let r=d.Tf.getOrgId(e)??null,s=d.Tf.getFavoriteResourceTeamId(e);return{resourceId:t,resourceType:c.bk.FILE,orgId:r,teamId:r?null:s}}).filter(a.Vq),[e]);(0,n.p)(u.qjT,i,{enabled:i.length>0}),(0,o.H6)(t,{enabled:t.length>0})}({tileActions:e,tiles:t}),null}},136366(e,t,r){"use strict";r.d(t,{Gq:()=>p});var s=r(239976),a=r(105652),i=r(224542),n=r.n(i),o=r(687497),l=r(432348),d=r(674470),c=r(257155),u=r(694151),m=r(795755);function _({team:e}){return(0,s.jsx)(o.E,{fontWeight:"medium",fontSize:13,fontFamily:"primary",truncate:"end",children:e.name})}function x({team:e}){return(0,s.jsx)("div",{className:n()(m.Hh,m.wD),children:e.description})}let p=a.forwardRef(function({team:e,isSelected:t,onLeave:r,cardRole:a,onClick:i,onFocus:n,onBlur:o,draggable:p},f){let h=(0,s.jsx)(l.R.Overlay,{children:(0,s.jsx)(c.m3,{team:e,onLeave:r,isCardActive:!0})});return(0,s.jsx)(d.P,{ref:f,ariaCurrent:t,cardLabel:e.name,cardRole:a,draggable:p,iconImage:(0,s.jsx)(u.Ro,{className:m.rP,entity:e,size:40}),isSelected:t,onBlur:o,onClick:i,onFocus:n,subtitle:(0,s.jsx)(x,{team:e}),title:(0,s.jsx)(_,{team:e}),topRightContent:h})})},21094(e,t,r){"use strict";r.d(t,{X:()=>o});var s=r(239976),a=r(224542),i=r.n(a),n=r(497544);function o(e){let t;return e.isLoading?(0,s.jsx)("div",{className:"tile_grid--loadingContainer--y8qmM",children:(0,s.jsx)(n.k,{"data-testid":"loading-spinner"})}):!e.children||Array.isArray(e.children)&&!e.children.length?(0,s.jsx)("div",{className:"tile_grid--emptyContainer--iuXcY text--fontPos11--rO47d text--_fontBase--VaHfk",children:e.emptyView}):(t="Large"===e.tileSize?"tile_grid--gridLarge--idGjE":"tile_grid--gridMedium--9i0-v",(0,s.jsx)("div",{className:i()("tile_grid--gridContainer--H78Q5",e.containerClassName),children:(0,s.jsx)("div",{className:t,children:e.children})}))}},778914(e,t,r){"use strict";r.d(t,{b:()=>c});var s=r(239976),a=r(105652),i=r(850159),n=r(224542),o=r.n(n),l=r(716663),d=r(328151);function c(e){let t=a.useRef(null);return e.disabled?(0,s.jsx)("button",{className:"base_like_button--buttonContainerDisabled--Y5ka3 base_like_button--buttonContainer---GqRX cta_button--buttonBase--aj8VW text--fontNeg14--TmjQA text--_fontBase--VaHfk text--_negText--7Cnf0",disabled:e.disabled,"aria-pressed":e.isResourceLiked,children:(0,s.jsx)("div",{className:"base_like_button--likeIconDisabled--iQd7d base_like_button--likeIcon--je1yh text--fontPos18--FkHj- text--_fontBase--VaHfk",children:l.C})}):(0,s.jsx)("button",{className:o()("base_like_button--buttonContainer---GqRX cta_button--buttonBase--aj8VW text--fontNeg14--TmjQA text--_fontBase--VaHfk text--_negText--7Cnf0",{"base_like_button--removeButtonBorder--4bZFM":!!e.removeButtonBorder}),onClick:e.onClick,"aria-label":(0,i.t)("community.like"),"aria-pressed":e.isResourceLiked,"data-tooltip":(0,i.t)("community.like"),"data-tooltip-type":d.Ib.TEXT,"data-testid":"like-button",children:(0,s.jsx)("div",{className:"base_like_button--likeIcon--je1yh text--fontPos18--FkHj- text--_fontBase--VaHfk",ref:t,children:e.isResourceLiked?l.W:l.C})})}},716663(e,t,r){"use strict";r.d(t,{C:()=>a,W:()=>i});var s=r(239976);let a=(0,s.jsx)("span",{children:(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,s.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"}),(0,s.jsx)("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"var(--color-icon)"})]})}),i=(0,s.jsx)("span",{children:(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,s.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.12543 3.04791C5.67813 1.652 3.3316 1.652 1.8843 3.04791C0.437004 4.44381 0.437004 6.70702 1.8843 8.10293L2.75826 8.94585L2.75823 8.94588L7.99935 14.0009L14.114 8.10338C15.5613 6.70747 15.5613 4.44426 14.114 3.04836C12.6667 1.65245 10.3202 1.65245 8.87288 3.04836L7.99939 3.89083L7.12543 3.04791Z",fill:"#F24822"}),(0,s.jsx)("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"#F24822"})]})})},759040(e,t,r){"use strict";r.d(t,{w:()=>w});var s=r(645186),a=r(393106),i=r(850159),n=r(195784),o=r(463592),l=r(493094);if(/^(1464|2036)$/.test(r.j))var d=r(613629);var c=r(387166),u=r(540769),m=r(663727),_=r(374628),x=r(634993),p=r(818100),f=r(38900);if(/^(1464|2036)$/.test(r.j))var h=r(539554);var g=r(508295),v=r(886213),b=r(357661),j=r(907249),y=r(58798);function w(e,t,r,_){var v,j,w,I,k,C,N,S;let R,A,F,O,P,L,D,M,U,B,z,W,V=(v=e,j=t,w=r,I=_,R=(0,s.wA)(),A=(0,g.iZ)(),F=(0,c.Jm)(),O=()=>{(0,m.Sv)(v)||((0,n.Cu)(P()),(0,b.U)(v)?R(x.zm({hubFileId:v.id})):(0,b.xQ)(v)?R(p.C({id:v.id,resourceType:b.vt.WIDGET})):R(p.C({id:v.id,resourceType:b.vt.PLUGIN})))},P=()=>({action:(0,m.Qc)(v)?j?h.s0.HUB_FILE_UNLIKE:h.s0.HUB_FILE_LIKE:(0,m.$3)(v)?j?h.s0.WIDGET_UNLIKE:h.s0.WIDGET_LIKE:j?h.s0.PLUGIN_UNLIKE:h.s0.PLUGIN_LIKE,pluginId:v.id,profileId:v.publisher.id,viewContext:I,searchSessionId:F}),function(){return j?e=>(e=>{if(!(0,m.Sv)(v)){if(e.stopPropagation(),!A)throw Error(`Tried to unlike a ${(0,u.KH)(v)} as a signed out user`);(0,n.Cu)(P()),(0,b.U)(v)?R(x.Qi({hubFileId:v.id,likeId:w||void 0})):(0,b.xQ)(v)?R(p.$({id:v.id,resourceType:b.vt.WIDGET,likeId:w||void 0})):R(p.$({id:v.id,resourceType:b.vt.PLUGIN,likeId:w||void 0}))}})(e):e=>(e=>{if(e.stopPropagation(),A){if(!A.community_profile_id)return void R(f.to({type:y.G$,data:{userId:A.id,variations:[y.FF.OPT_IN],onFinish:()=>O()}}));O()}})(e)}),G=(k=e,C=t,N=r,S=_,L=(0,s.wA)(),D=(0,g.iZ)(),M=(0,c.Jm)(),U=(0,l.gY)(E),B=(0,l.gY)(T),z=()=>{if(!(0,m.Sv)(k))return;let e=(0,m.qY)(k);if(!e)throw Error("Missing resource content");(0,n.Cu)(W());let t=U({resourceId:k.id,contentId:(0,u.Wo)(e),apiResourceType:(0,u.A7)(k)});D&&D.community_profile_id&&(0,o.WB)().optimisticallyCreate({CommunityHubLike:{[`optimistic-${k.id}-${D.community_profile_id}`]:{profileId:D.community_profile_id,resourceId:k.id,hubFileId:null,pluginId:null,hiddenAt:null,createdAt:new Date,updatedAt:new Date,canRead:!0}}},t),t.catch(e=>{L(d.F.enqueue({message:(0,i.t)("community.actions.unable_to_like_this_resource_error",{error:(0,a.J)(e,e.data?.message)}),type:"RESOURCE_LIKE_FAILED",error:!0}))})},W=()=>({action:C?h.M5.RESOURCE_UNLIKE:h.M5.RESOURCE_LIKE,resourceId:k.id,resourceType:(0,m.Vm)(k),profileId:k.publisher.id,viewContext:S,searchSessionId:M}),function(){return C?e=>(e=>{if(!(0,m.Sv)(k))return;let t=(0,m.qY)(k);if(!t)throw Error("Missing resource content");if(e.stopPropagation(),!D)throw Error("Tried to unlike a resource as a signed out user");(0,n.Cu)(W());let r=B({resourceId:k.id,contentId:(0,u.Wo)(t),apiResourceType:(0,u.A7)(k)});N&&(0,o.WB)().optimisticallyDelete({CommunityHubLike:{[N]:null}},r),r.catch(e=>{L(d.F.enqueue({message:(0,i.t)("community.actions.unable_to_unlike_this_resource_error",{error:(0,a.J)(e,e.data.message)}),type:"RESOURCE_UNLIKE_FAILED",error:!0}))})})(e):e=>(e=>{if(e.stopPropagation(),D){if(!D.community_profile_id)return void L(f.to({type:y.G$,data:{userId:D.id,variations:[y.FF.OPT_IN],onFinish:()=>z()}}));z()}})(e)});return(0,m.Sv)(e)?G:V}let E=v.M4.Mutation(({resourceId:e,contentId:t,apiResourceType:r},{query:s})=>(s.mutate((0,_.Z)({apiResourceType:r,id:t}),e=>{e&&(e.like_count+=1)}),j.a.likeResource({resourceId:e}))),T=v.M4.Mutation(({resourceId:e,contentId:t,apiResourceType:r},{query:s})=>(s.mutate((0,_.Z)({apiResourceType:r,id:t}),e=>{e&&(e.like_count-=1)}),j.a.unlikeResource({resourceId:e})))},753166(e,t,r){"use strict";r.d(t,{T:()=>o});var s=r(239976),a=r(105652),i=r(574988),n=r(171020);function o({children:e,dropAround:t,dropInto:r}){let[o,l]=a.useState("none");return(0,s.jsx)(n.Y,{...i.Ay.props("before"===o&&t?.hoverDropTargetBeforeStylex,"after"===o&&t?.hoverDropTargetAfterStylex,"into"===o&&r?.hoverDropTargetIntoStylex),isDragTarget:(e,s)=>{if(t&&r)if(s.upperQuarter)return t.canDropBefore(e);else if(s.middleVerticalHalf)return r.canDropInto(e);else return t.canDropAfter(e);if(t)if(s.upper)return t.canDropBefore(e);else return t.canDropAfter(e);return!!r&&r.canDropInto(e)},onTargetDrop:(e,s)=>{r&&t?s.upperQuarter?t.onDropBefore(e):s.middleVerticalHalf?r.onDropInto(e):t.onDropAfter(e):t?s.upper?t.onDropBefore(e):t.onDropAfter(e):r&&r.onDropInto(e),l("none")},onTargetDragEnter:(e,s)=>{r&&t?s.upperQuarter?l("before"):s.middleVerticalHalf?l("into"):l("after"):t?s.upper?l("before"):l("after"):r?l("into"):l("none")},onTargetDragQuadrantUpdate:e=>{r&&t?e.upperQuarter?l("before"):e.middleVerticalHalf?l("into"):l("after"):t?e.upper?l("before"):l("after"):r?l("into"):l("none")},onTargetDragLeave:()=>{l("none")},children:e})}},890897(e,t,r){"use strict";r.d(t,{H:()=>i});var s=r(105652);if(1464==r.j)var a=r(324256);function i({onDrop:e,supportedResourceTypes:t}){let r=s.useCallback(e=>new a.l(e).isOnlyDragResourceTypes(t),[t]),i=s.useCallback(r=>{let s=new a.l(r).getDragResourcesData(t);if(!s)return!1;e(s)},[e,t]);return s.useMemo(()=>({onDrop:i,canDrop:r}),[i,r])}},108430(e,t,r){"use strict";r.d(t,{i:()=>i});var s=r(105652);if(1464==r.j)var a=r(562540);let i=({dragResource:e,renderDragImage:t})=>{let{onDragStart:r,onDragEnd:i}=(0,a.t)({renderDragImage:t,setDragData:(e,t)=>{t.setDragResourcesData({resources:e})}}),n=s.useCallback((t,s)=>{r([e,...s??[]],t)},[r,e]);return s.useMemo(()=>({onDragStart:n,onDragEnd:i}),[n,i])}},188807(e,t,r){"use strict";r.d(t,{X:()=>n});var s=r(105652);if(1464==r.j)var a=r(890897);if(1464==r.j)var i=r(390852);function n({onDrop:e}){let{canDrop:t,onDrop:r}=(0,a.H)({supportedResourceTypes:[i.pX.FOLDER,i.pX.TEAM,i.pX.WORKSPACE,i.pX.PROTOTYPE,i.pX.REPO,i.pX.FILE],onDrop:e});return s.useMemo(()=>({canDrop:t,onDrop:r}),[t,r])}},539215(e,t,r){"use strict";r.d(t,{r:()=>i});var s=r(105652);if(1464==r.j)var a=r(562540);let i=({dragResource:e,renderDragImage:t})=>{let{onDragStart:r,onDragEnd:i}=(0,a.t)({renderDragImage:t,setDragData:(e,t)=>{t.setDragResourcesData({resources:e})}}),n=s.useCallback((t,s)=>{r([e,...s??[]],t)},[r,e]);return s.useMemo(()=>({onDragStart:n,onDragEnd:i}),[n,i])}},422840(e,t,r){"use strict";r.d(t,{W:()=>n});var s=r(105652);if(1464==r.j)var a=r(890897);if(1464==r.j)var i=r(390852);function n({onDrop:e}){let{canDrop:t,onDrop:r}=(0,a.H)({supportedResourceTypes:[i.pX.SIDEBAR_SECTION],onDrop:e});return s.useMemo(()=>({canDrop:t,onDrop:r}),[t,r])}},691933(e,t,r){"use strict";r.d(t,{i:()=>_});var s=r(239976),a=r(147911),i=r(105652),n=r(555235),o=r(193183),l=r(176926),d=r(484209);r(574988);var c=r(328151);let u=i.forwardRef(function({isFavorited:e,tooltip:t,dataTestId:r,size:a,monochrome:i,disabled:u,onClick:m,"aria-expanded":_,"aria-pressed":x,...p},f){let h=(0,s.jsx)(n.K,{ref:f,"aria-label":t,"aria-pressed":x,"aria-expanded":_,disabled:u,...!_?{"data-tooltip-type":c.Ib.TEXT,"data-tooltip":t,"data-tooltip-timeout-delay":50,"data-testid":r}:{},onClick:m,variant:"secondary",size:a,...p,children:e?(0,s.jsx)(o._,{style:i?void 0:{"--color-icon":d.Tj.iconfavorite},"data-testid":`${r}-favorited-icon`}):(0,s.jsx)(l.c,{"data-testid":`${r}-unfavorited-icon`})});return u&&i?(0,s.jsx)("div",{className:"xjp7ctv x1qgxxjq",children:h}):h});var m=r(849837);function _({favoriteType:e,orgId:t,resourceId:r,setFavorite:i,removeFavorite:n,monochrome:o,teamId:l,size:d="md",dataTestId:c="favorite-star-button"}){let _=a.b();return(0,s.jsx)(m.k,{resourceId:r,favoriteType:e,orgId:t,teamId:l,setFavorite:i,removeFavorite:n,favoriteStarMenu:_,children:e=>(0,s.jsx)(u,{dataTestId:c,monochrome:o,size:d,...e})})}},942197(e,t,r){"use strict";r.d(t,{J:()=>s,o:()=>a});let s="https://play.google.com/store/apps/details?id=com.figma.mirror",a="https://apps.apple.com/us/app/figma-mirror/id1152747299#"},406200(e,t,r){"use strict";r.d(t,{u:()=>c});var s=r(105652),a=r(645186),i=r(601173),n=r(51712),o=r(508295),l=r(23843),d=r(311616);function c({prepopulatedEmail:e,parentOrg:t,orgDomains:r}){let c=(0,a.wA)(),u=(0,a.d4)(e=>e.contacts),m=(0,o.Pc)();s.useEffect(()=>{c(n.um())},[c]);let _=r??d.ls,x=s.useCallback(e=>(0,l.yI)(e,u.usersByEmail[e]||e,null,_,m.email),[u.usersByEmail,m.email,_]);return s.useEffect(()=>{if(e){let t=x(e);c(i.hZ({tokens:[t],inputValue:"",errorMessage:""}))}},[e,x,c]),s.useEffect(()=>()=>{c(i.cL())},[c]),{validateToken:x,searchResultToken:s.useCallback(e=>(0,l.t9)(e,t,_),[_,t])}}},108970(e,t,r){"use strict";r.d(t,{S:()=>l});var s=r(645186),a=r(779757),i=r(60446),n=r(943634),o=r(607965);function l(e){let t,r=(0,s.d4)(e=>e.loadingState),l=(0,s.d4)(e=>e.teamJoinLinks);return(t=!(0,n.VP)(r,(0,o.OL)(e))&&!(0,n.aF)(r,(0,o.OL)(e))&&!l,(0,n.VP)(r,(0,o.OL)(e))||(0,n.VP)(r,i.ui.loadingKeyForPayload({teamId:e}))||(0,n.VP)(r,(0,o._M)(e))||t)?a.Qw.loading():a.Qw.loaded(l?.url)}},618848(e,t,r){"use strict";r.d(t,{G:()=>n,w:()=>o});var s=r(350923),a=r(171310),i=r(419586);let n=(0,s.eU)(e=>{let t=e((0,i.Fu)("has_prompted_in_figma_make")),r=e(a.zk);return!!t.data||!!r?.prompted_in_make});function o(){return(0,s.md)(n)}},311616(e,t,r){"use strict";r.d(t,{ls:()=>s}),r(578842);let s=1464==r.j?{domains:[],isFetching:!1,fetchedAt:null}:null},515709(e,t,r){"use strict";r.d(t,{p:()=>a});var s=r(116682);let a=new class{async pinFile({resourceType:e,resourceId:t,fileKey:r,description:a,shouldUpdatePermissions:i}){await s.Ay.post(`/api/pinned_files/${e}/${t}`,{file_key:r,description:a,should_update_permissions:i})}async updatePin({pinnedFileId:e,description:t}){await s.Ay.put(`/api/pinned_files/${e}`,{description:t})}async deletePin({pinnedFileId:e}){await s.Ay.del(`/api/pinned_files/${e}`)}}},842014(e,t,r){"use strict";r.d(t,{Q:()=>m});var s=r(239976),a=r(645186),i=r(850159),n=r(227031),o=r(778914),l=r(629743),d=r(759040),c=r(231484),u=r(328151);let m=(0,n._d)(function(e){let{resource:t,viewContext:r,removeButtonBorder:n}=e,m=(0,a.d4)(e=>e.authedActiveCommunityProfile),_=(0,c.cs)(m),x=(0,l.B)(t.id),p=!!x.data?.[0],f=x.data?.[1],h=(0,d.w)(t,p,f||null,r);return _?(0,s.jsx)("div",{"data-tooltip-type":u.Ib.TEXT,"data-tooltip":(0,i.t)("community.likes.to_like_switch_to_your_personal_profile"),"data-tooltip-show-immediately":!0,children:(0,s.jsx)(o.b,{isResourceLiked:!1,disabled:!0})}):(0,s.jsx)(o.b,{onClick:h(),isResourceLiked:p,removeButtonBorder:n})},"LikeButtonTracked")},445974(e,t,r){"use strict";r.d(t,{B:()=>_,W:()=>x});var s=r(779757),a=r(493094),i=r(712796);if(1464==r.j)var n=r(563951);var o=r(794060);if(1464==r.j)var l=r(487817);var d=r(644350),c=r(331850),u=r(378291),m=r(907249);function _({teamId:e,orgId:t,resourceType:r,enabled:i,pageSize:o,includeContent:l}){let[c,{fetchNextPage:u}]=(0,a.IT)(m.a.InternalResourcesPaginatedQuery({resourceType:r,caller:n.z.RESOURCE_HUB,teamId:e,orgId:t,pageSize:o,includeContent:l}),{enabled:i&&r.length>0}),[_]=(0,a.IT)((0,d.yQw)({teamId:e}),{enabled:i&&!!e}),[x]=(0,a.IT)((0,d.IiJ)({orgId:t}),{enabled:i&&!!t}),p=_.data?.team?.name||x.data?.org?.plan.name;return{resources:c.data,teamOrOrgName:p,status:s.Qw.all([c,_,x]).status,requestLoadMoreForTeam:c.hasNextPage?u:void 0}}function x(){let e=[],t=(0,c.S2)(),r="loaded"===t.status,{resourceTypeSlug:s,forOrg:a,forTeamId:n}=(0,i.Rd)(o.U)??{};if(s)try{e=(0,u.W6)(s)}catch{}let d=t.data?.type===l.OL.ORG,m=d?t.data?.key.parentId:void 0,x=d?n:t.data?.key.parentId;return _({...a?{orgId:m,teamId:void 0}:{orgId:void 0,teamId:x},resourceType:e,includeContent:!0,enabled:!!s&&r&&!!(a&&m||x)})}},522795(e,t,r){"use strict";r.d(t,{i:()=>O});var s=r(239976),a=r(105652),i=r(645186),n=r(130729),o=r(732632),l=r(824272),d=r(50751),c=r(739565),u=r(497817),m=r(395227),_=r(71239),x=r(297151),p=r(718401),f=r(850159),h=r(741542),g=r(645724),v=r(113116),b=r(517436),j=r(497544),y=r(985373),w=r(60446),E=r(38900),T=r(936652),I=r(108970),k=r(798413),C=r(856201),N=r(328151),S=r(42504),R=r(276786);let A="team_join_link_permissions--loadedViewWrapper--OLr2-",F=(0,n.s)((e,t,r)=>e(w.do({teamId:t,level:r})));function O(e){let{teamId:t,initialInviteLevel:r,teamPermissions:n}=e,c=(0,i.wA)(),u=(0,i.d4)(e=>e.teamJoinLinks),[m,_]=(0,a.useState)(r),x=(0,I.S)(t),p="loading"===x.status,g=x.data;(0,a.useEffect)(()=>(F(c,t,r),()=>{c(w.F1(null))}),[c,t,r]);let v=e.teamPermissions.canEdit&&!!u?.url&&e.includeCopyLinkButton,b=a.useCallback(()=>{c(E.$O({type:M,data:{resetLink:()=>{c(w.Nw({teamId:t,level:m,shouldShowVisualBell:!0}))}}}))},[c,t,m]),j=a.useCallback(()=>(0,s.jsx)(P,{dropdownShown:e.dropdownShown,resetInviteLinks:b,disableInviteLinks:()=>c(w.ui({teamId:t})),loading:p,canAdmin:n.canAdmin}),[c,e.dropdownShown,p,b,n.canAdmin,t,,]),y=a.useCallback(()=>{g&&c(w.LN({teamId:e.teamId,url:g,source:w.Kq.TEAM_PERMISSIONS_MODAL}))},[c,e.teamId,g]),T=a.useMemo(()=>e.includeCopyLinkButton?(0,s.jsx)(o.$n,{onClick:y,disabled:!g,children:(0,f.tx)("team_join_links.copy_link")}):j(),[y,e.includeCopyLinkButton,g,j]);return!p&&!u||!n.canAdmin&&u?.disabled?null:(0,s.jsxs)(s.Fragment,{children:[(0,h.getFeatureFlags)().expire_team_link_join&&(0,s.jsx)(l.$y,{variant:"brand",children:(0,s.jsx)(d.Q,{children:(0,f.tx)("team_join_links.link_will_expire")})}),(0,s.jsx)(l.$y,{variant:"warn",children:(0,s.jsx)(d.Q,{children:(0,f.tx)("team_join_links.public_link_warning")})}),(0,s.jsxs)("div",{style:v?{justifyContent:"space-between"}:{justifyContent:"flex-start"},className:"team_join_link_permissions--inviteLinkTitleWrapper--Fz04j",children:[(0,s.jsx)("span",{className:"team_join_link_permissions--inviteHeader--b0O7S",children:(0,f.tx)("team_join_links.invite_link")}),v&&j()]}),"loading"===x.status||u?.url?(0,s.jsx)(L,{dropdownShown:e.dropdownShown,getPermissionDescriptionText:e.getPermissionDescriptionText,showDropdownSeparators:e.showDropdownSeparators,setLevel:e=>{m===e||(_(e),c(w.do({teamId:t,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>_(m)})))},currentLevel:m,url:p?void 0:u?.url,inviteLevels:n.canEdit?[C.e6.VIEWER,C.e6.EDITOR]:[C.e6.VIEWER],teamId:e.teamId,button:T}):(0,s.jsx)(D,{turnOnInviteLinks:()=>c(w.Nw({teamId:t,level:m}))})]})}function P(e){let t=(0,i.wA)(),r="team-link-settings-dropdown",n=a.createRef(),o=()=>e.dropdownShown?.type===r;return(0,s.jsxs)(c.o,{eventListeners:["onMouseDown"],children:[(0,s.jsx)("div",{ref:n,children:(0,s.jsx)(u.d,{"aria-expanded":o(),disabled:e.loading,"aria-label":(0,f.t)("team_join_links.team_invite_link_settings"),onClick:()=>{let e=n.current?.getBoundingClientRect();o()?t(y.oB()):e&&t(y.j7({type:r,data:{targetRect:e}}))},"data-tooltip-type":N.Ib.TEXT,"data-tooltip":(0,f.t)("team_join_links.team_invite_link_settings"),children:(0,s.jsx)(p.k,{})})}),o()&&(0,s.jsxs)(S.Cf,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0,children:[(0,s.jsx)(g.c$,{onClick:e.resetInviteLinks,children:(0,f.tx)("team_join_links.reset_invite_links")}),e.canAdmin&&(0,s.jsx)(g.c$,{onClick:e.disableInviteLinks,children:(0,f.tx)("team_join_links.turn_off_invite_links")})]})]})}function L(e){return(0,s.jsxs)("div",{className:A,children:[(0,s.jsxs)("div",{className:"team_join_link_permissions--linkAndDropdownV2--qYw2B",children:[(0,s.jsxs)("div",{className:"team_join_link_permissions--urlSectionV2--FBSav",children:[!e.url&&(0,s.jsx)(j.k,{}),e.url&&(0,s.jsx)("span",{className:"team_join_link_permissions--urlText--YlOLN ellipsis--ellipsis--70pHK",children:e.url})]}),(0,s.jsx)("div",{className:"team_join_link_permissions--permissionLevelDropdownWrapper--3Q616",children:(0,s.jsx)(R.b8,{value:e.currentLevel,options:e.inviteLevels,getPermissionName:k.C1,getPermissionDescription:e.getPermissionDescriptionText,showSeparators:e.showDropdownSeparators,onChange:e.setLevel})})]}),e.button]})}function D(e){return(0,s.jsxs)("div",{className:A,children:[(0,f.tx)("team_join_links.share_a_secret_link_people_can_use_to_join_your_team")," ",(0,s.jsx)(b.Ph,{href:"#",onClick:e.turnOnInviteLinks,children:(0,f.tx)("team_join_links.turn_on_invite_links")})]})}let M="RESET_LINKS_CONFIRMATION_MODAL";(0,T.Ju)(function(e){let t=(0,i.wA)(),r=m.hS({open:e.open,onClose:e.onClose});return(0,s.jsx)(_.bL,{width:"md",manager:r,children:(0,s.jsxs)(x.vo,{children:[(0,s.jsx)(x.Y9,{children:(0,s.jsx)(x.hE,{children:(0,f.tx)("team_join_links.reset_invite_links")})}),(0,s.jsx)(x.nB,{children:(0,f.tx)("team_join_links.modal_description")}),(0,s.jsx)(x.wi,{children:(0,s.jsxs)(x.jk,{children:[(0,s.jsx)(v.$z,{variant:"secondary",onClick:()=>t(E.Lo()),children:(0,f.tx)("team_join_links.cancel")}),(0,s.jsx)(v.$z,{variant:"destructive",onClick:()=>{e.resetLink(),t(E.Lo())},children:(0,f.tx)("team_join_links.reset_links")})]})})]})})},M)},114024(e,t,r){"use strict";function s(){return null}r.d(t,{xY:()=>a,Sx:()=>i,TT:()=>n}),r(513486),r(574677),new(r(380683)).b({name:"payload_cms",dependencies:[],exports:{"./components":"./components.ts"},sideEffects:!1,friendFiles:[]});let a=s,i=s,n=s},572518(e,t,r){"use strict";r.d(t,{R:()=>g});var s=r(239976),a=r(105652);if(2036!=r.j)var i=r(395227);if(2036!=r.j)var n=r(732632);var o=r(850159),l=r(3752);r(574988);var d=r(181645);if(2036!=r.j)var c=r(214030);var u=r(865804),m=r(869884),_=r(253576),x=r(838719),p=r(517436);if(2036!=r.j)var f=r(942197);let h="mobile_download_prompt_dismissed";function g(e){let{isCompact:t}=e,r=l.A.ios?f.o:f.J,g=a.useState(()=>(0,m.UG)())[0],[j,y]=a.useState(!0),w=(0,_.C)();a.useEffect(()=>{null===g.get(h)&&y(!1)},[g]);let E=()=>{y(!0),(0,d.sx)("mobile_web_mobile_app_download_prompt_dismissed",{userId:e.userIdForTracking}),setTimeout(()=>{g.set(h,!0),w()},300)},T=i.hS({open:!j,onClose:()=>{E()}});return null!==g.get(h)?null:(0,s.jsx)(u.fu,{name:"Mobile Download Prompt",children:(0,s.jsx)(i.bL,{manager:T,children:(0,s.jsx)("div",{...{0:{className:"x78zum5 xixxii4 x13vifvy xu96u03 xh8yej3 x5yr21d xpqajaz xl56j7k x1n327nk xwjheq5 xnpuxes x19991ni xz4gly6 x1d8287x"},1:{className:"x78zum5 xixxii4 x13vifvy xu96u03 xh8yej3 x5yr21d xpqajaz xl56j7k x1n327nk xwjheq5 xnpuxes x19991ni xz4gly6 x1d8287x xg01cxk"}}[0|!!j],onClick:e=>{e.target===e.currentTarget&&E(),e.stopPropagation()},children:(0,s.jsxs)("div",{...{0:{className:"x1yjdb4r xng3xce xfrllxf xjppbhk x19j9cuy x1vp1w89 x9f619 x78zum5 xdt5ytf x11gisft x1hc1fzr xr1yuqi xat24cr x1dipnxa x1d8287x xwcsmn1 xz4gly6 xg0jo4d x1eshf1s x3uc4y2 xph5o2a"},1:{className:"x1yjdb4r xng3xce xfrllxf xjppbhk x19j9cuy x1vp1w89 x9f619 x78zum5 xdt5ytf x11gisft xr1yuqi xat24cr x1dipnxa x1d8287x xwcsmn1 xz4gly6 xg0jo4d x1eshf1s x3uc4y2 xph5o2a x1weeur4 xg01cxk"}}[0|!!j],children:[(0,s.jsx)("div",{...{className:"xh8yej3 x78zum5 x1q0g3np x1fc7d7z x1excjyp x6s0dn4 x1r0eg2h x1m7xe2e"},children:t?(0,s.jsx)(b,{}):(0,s.jsx)(v,{})}),(0,s.jsx)("hr",{className:"x1jv1s0x x7a272t x972fbf xgfja2r xyj58a3 xso031l x1y0btm7 x7z60cl"}),(0,s.jsxs)("div",{...{className:"xrvj5dj x83jbdn x15g9gyq x12sbs06 x6s0dn4"},children:[(0,s.jsx)("img",{...{className:"x1useyqa xsdox4t x19y5rnk x1xjkx7e"},src:(0,x.staticAssetWithUploadsPath)("249f0f055b922ecef6bffc592a8420e7e6eddcea"),alt:(0,o.t)("file_browser.mobile_prompt.app_image_alt")}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{...{className:"x1l3kr2 x1mnx3iv xo8tsow xeefxrb xdjnq2g"},children:(0,o.tx)("file_browser.mobile_prompt.app_title")}),(0,s.jsx)("p",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9"},children:(0,o.tx)("file_browser.mobile_prompt.app_description")})]}),(0,s.jsx)(p.pW,{size:"lg",trackingProperties:{userId:e.userIdForTracking,appLink:r,trackingDescriptor:c.c.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},width:"fill",href:r,children:(0,o.tx)("file_browser.mobile_prompt.app_action")}),(0,s.jsx)("img",{...{className:"x1useyqa xsdox4t x19y5rnk x1xjkx7e"},src:(0,x.staticAssetWithUploadsPath)("741698fed49afa5e8f3becdd906e66d32c8e7fae"),alt:(0,o.t)("file_browser.mobile_prompt.browser_image_alt")}),(0,s.jsx)("div",{children:(0,s.jsx)("h3",{...{className:"x1l3kr2 x1mnx3iv xo8tsow xeefxrb xdjnq2g"},children:(0,o.tx)("file_browser.mobile_prompt.browser_title")})}),(0,s.jsx)(n.$n,{size:"lg",width:"fill",onClick:E,variant:"secondary",children:(0,o.tx)("file_browser.mobile_prompt.browser_action")})]})]})})})})}function v(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{...{className:"xh8yej3 xg7h5cd xmkeg23 x1y0btm7 x7z60cl x192jxwq xeuugli x1i0uq9b x1j5wtq"},src:(0,x.staticAssetWithUploadsPath)("5f1dc37f397dbddf711d3d950bee5dd46c07fc72"),alt:(0,o.t)("file_browser.mobile_prompt.image_alt")}),(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf xl56j7k x1nfngrj x1b68738 x1j5wtq"},children:[(0,s.jsx)("h2",{...{className:"x1l3kr2 x1mnx3iv xo8tsow xeefxrb xdjnq2g"},tabIndex:-1,children:(0,o.tx)("file_browser.mobile_prompt.modal_title")}),(0,s.jsx)("p",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1n0bwc9"},children:(0,o.tx)("file_browser.mobile_prompt.modal_body")})]})]})}function b(){return(0,s.jsx)("h2",{...{className:"x1l3kr2 x1mnx3iv xo8tsow xeefxrb xdjnq2g"},tabIndex:-1,children:(0,o.tx)("file_browser.mobile_prompt.modal_title_compact")})}},254691(e,t,r){"use strict";r.d(t,{h:()=>n});var s=r(348065),a=r(105652),i=r(239976);let n=(0,a.memo)(function(e){return(0,s.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.5 5h-2V4h2zm1 0a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zm-8 5h2v2h-2zm-1 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm3-6h-2v3h2zm-2-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 9h-2V8h2zm1 0a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11 5H9V4h2zm1 0a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zm-8 5h2v2H4zm-1 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1zm3-6H4v3h2zM4 3a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 9H9V8h2zm1 0a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1z",clipRule:"evenodd"})})})},325449(e,t,r){"use strict";r.d(t,{x:()=>n});var s=r(348065),a=r(105652),i=r(239976);let n=(0,a.memo)(function(e){return(0,s.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.762 5.06a.5.5 0 0 1 .476 0l3 1.625 3 1.626a.5.5 0 0 1 .262.44v6.502a.5.5 0 0 1-.262.44l-6 3.25a.5.5 0 0 1-.476 0l-3-1.626-3-1.625a.5.5 0 0 1-.262-.44v-6.5a.5.5 0 0 1 .262-.44zM6.5 14.954l2.738 1.484 2.262 1.225v-5.364l-2-1.084V13.5a.5.5 0 0 1-1 0v-2.828l-2-1.083zm6-2.655v5.364l5-2.71V9.59zm-2.451-1.923L12 11.432l4.95-2.681L15 7.694zm-3-1.626 1.95 1.056 4.95-2.681L12 6.068z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.262 5.06a.5.5 0 0 1 .476 0l3 1.625 3 1.626a.5.5 0 0 1 .262.44v6.502a.5.5 0 0 1-.262.44l-6 3.25a.5.5 0 0 1-.476 0l-3-1.626-3-1.625a.5.5 0 0 1-.262-.44v-6.5a.5.5 0 0 1 .262-.44zM6 14.954l2.738 1.484L11 17.663v-5.364l-2-1.084V13.5a.5.5 0 0 1-1 0v-2.828L6 9.59zm6-2.655v5.364l5-2.71V9.59zm-2.451-1.923 1.951 1.056 4.95-2.681-1.95-1.057zm-3-1.626 1.95 1.056 4.95-2.681-1.95-1.057z",clipRule:"evenodd"})})})},778466(e,t,r){"use strict";r.d(t,{A:()=>n});var s=r(348065),a=r(105652),i=r(239976);let n=(0,a.memo)(function(e){return(0,s.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M20 12a8 8 0 1 1-16 0 8 8 0 0 1 16 0m1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0m-5.146-.354-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 .708.708L11.5 9.707V15.5a.5.5 0 0 0 1 0V9.707l2.646 2.647a.5.5 0 0 0 .708-.708",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M19 11.5a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0m1 0a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0m-5.146-.354-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 .708.708L11 9.707V14.5a.5.5 0 0 0 1 0V9.707l2.146 2.147a.5.5 0 0 0 .708-.708",clipRule:"evenodd"})})})},90670(e,t,r){"use strict";r.d(t,{d:()=>i});var s=r(105652),a=r(239976);let i=(0,s.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M2.5 9.497a1 1 0 0 1 .62-.925l8.119-3.343a2 2 0 0 1 1.522 0l8.12 3.343a1 1 0 0 1 0 1.85l-.881.362v4.718a.5.5 0 0 1-1 0v-4.306l-1 .412v4.394c0 .64-.328 1.148-.706 1.505-.375.355-.865.629-1.387.838-1.05.42-2.432.657-3.907.657s-2.857-.237-3.907-.657c-.522-.21-1.012-.483-1.387-.838C6.328 17.15 6 16.642 6 16.002v-4.394L3.12 10.42a1 1 0 0 1-.62-.924M7 12.019v3.983c0 1.105 2.239 2 5 2s5-.895 5-2v-3.983l-4.238 1.746a2 2 0 0 1-1.524 0zM3.5 9.497l1.313.54 6.806 2.803a1 1 0 0 0 .762 0l6.806-2.803 1.313-.54-1.313-.541-6.806-2.803a1 1 0 0 0-.762 0L4.813 8.956z",clipRule:"evenodd"})})})},402631(e,t,r){"use strict";r.d(t,{p:()=>i});var s=r(105652),a=r(239976);let i=(0,s.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12.598 5.01a.5.5 0 0 1 .255.136l4 4A.5.5 0 0 1 16.5 10h-4a.5.5 0 0 1-.5-.5V6H8.5a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 1 1 0v6a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 7 17.5v-11A1.5 1.5 0 0 1 8.5 5h4zM13 9h2.293L13 6.707z"})})})},649743(e,t,r){"use strict";r.d(t,{K:()=>i});var s=r(105652),a=r(239976);let i=(0,s.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M14.5 6a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5m-2 1a.5.5 0 1 1 0 1H7a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h5.5a.5.5 0 1 1 0 1H7a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2zM17 7a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-.5a.5.5 0 0 1 0-1h.5a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1h-.5a.5.5 0 0 1 0-1zm-5.916 3.223a.5.5 0 1 1 .832.554l-2 3a.5.5 0 0 1-.77.077l-1.5-1.5a.5.5 0 1 1 .708-.707l1.068 1.068z"})})})},104177(e,t,r){"use strict";r.d(t,{R:()=>n});var s=r(105652),a=r(239976),i=r(145906);let n=(0,s.memo)(function(e){let t=(0,s.useId)();return(0,a.jsx)(i.J,{brand:"design",children:(0,a.jsxs)("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 48 48",...e,children:[(0,a.jsxs)("g",{clipPath:`url(#${t})`,children:[(0,a.jsx)("path",{fill:"var(--color-bg-selected)",d:"M8 48h32a4 4 0 0 0 4-4V13.485a6 6 0 0 0-1.757-4.242l-7.486-7.486A6 6 0 0 0 30.515 0H8a4 4 0 0 0-4 4v40a4 4 0 0 0 4 4"}),(0,a.jsx)("path",{fill:"var(--color-bg-transparent-pressed)",d:"M30.514 0a6 6 0 0 1 4.243 1.758l7.486 7.484a6 6 0 0 1 1.756 4.243V14l-.01-.205A2 2 0 0 0 42 12h-6a4 4 0 0 1-4-4V2a2 2 0 0 0-2-2z"}),(0,a.jsx)("path",{fill:"var(--color-icon-brand)",fillRule:"evenodd",d:"M16.886 19.211c.228-.177.524-.248.812-.19l7.698 1.559a7.67 7.67 0 0 1 6.143 7.689l-.007.328 1.196 1.197a1 1 0 0 1 0 1.414l-5.522 5.522a1 1 0 0 1-1.414 0l-1.197-1.197-.328.009a7.67 7.67 0 0 1-7.689-6.145L15.02 21.7a1 1 0 0 1 .273-.905l1.5-1.5zm.673 9.989a6.67 6.67 0 0 0 6.384 5.341h.301l.755-.018 1.5 1.5 5.522-5.522-1.5-1.5.018-.756a6.67 6.67 0 0 0-5.047-6.62l-.294-.065-7.7-1.559-.396.396 5.16 5.16A3 3 0 1 1 21 28.001c0-.648.208-1.246.557-1.736l-5.16-5.16-.397.396zm6.44-3.2a2 2 0 1 0 0 4 2 2 0 0 0 0-4",clipRule:"evenodd"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:t,children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h48v48H0z"})})})]})})})},951215(e,t,r){"use strict";r.d(t,{I:()=>n});var s=r(105652),a=r(239976),i=r(145906);let n=(0,s.memo)(function(e){let t=(0,s.useId)();return(0,a.jsx)(i.J,{brand:"design",children:(0,a.jsxs)("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 48 48",...e,children:[(0,a.jsxs)("g",{clipPath:`url(#${t})`,children:[(0,a.jsx)("path",{fill:"var(--color-bg-brand)",d:"M8 48h32a4 4 0 0 0 4-4V13.485a6 6 0 0 0-1.757-4.242l-7.486-7.486A6 6 0 0 0 30.515 0H8a4 4 0 0 0-4 4v40a4 4 0 0 0 4 4"}),(0,a.jsx)("path",{fill:"var(--color-bordertranslucentstrong)",d:"M30.514 0a6 6 0 0 1 4.243 1.758l7.486 7.484a6 6 0 0 1 1.756 4.243V14l-.01-.205A2 2 0 0 0 42 12h-6a4 4 0 0 1-4-4V2a2 2 0 0 0-2-2z"}),(0,a.jsx)("path",{fill:"var(--color-icon-onbrand)",fillRule:"evenodd",d:"M16.887 19.212a1 1 0 0 1 .81-.192l7.7 1.56a7.67 7.67 0 0 1 6.143 7.689l-.008.328 1.197 1.197a1 1 0 0 1 0 1.414l-5.523 5.523a1 1 0 0 1-1.413 0l-1.197-1.198-.33.008a7.67 7.67 0 0 1-7.687-6.143l-1.56-7.699a1 1 0 0 1 .274-.905l1.5-1.5zm5.377 6.345A3 3 0 0 1 24 25.001a3 3 0 1 1-3 3c0-.649.207-1.247.557-1.737l-5.16-5.16-.397.398 1.56 7.698a6.67 6.67 0 0 0 6.383 5.34l.3.002.757-.018 1.5 1.5 5.522-5.523-1.5-1.5.018-.756a6.67 6.67 0 0 0-5.048-6.62l-.294-.066-7.698-1.557-.397.395zM24 26a2 2 0 1 0 0 4 2 2 0 0 0 0-4",clipRule:"evenodd"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:t,children:(0,a.jsx)("path",{fill:"var(--color-icon-onbrand)",d:"M0 0h48v48H0z"})})})]})})})},880237(e,t,r){"use strict";r.d(t,{l:()=>n});var s=r(105652),a=r(239976),i=r(145906);let n=(0,s.memo)(function(e){let t=(0,s.useId)();return(0,a.jsx)(i.J,{brand:"whiteboard",children:(0,a.jsxs)("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 48 48",...e,children:[(0,a.jsxs)("g",{clipPath:`url(#${t})`,children:[(0,a.jsx)("path",{fill:"var(--color-bg-selected)",d:"M8 48h32a4 4 0 0 0 4-4V13.485a6 6 0 0 0-1.757-4.242l-7.486-7.486A6 6 0 0 0 30.515 0H8a4 4 0 0 0-4 4v40a4 4 0 0 0 4 4"}),(0,a.jsx)("path",{fill:"var(--color-bg-transparent-pressed)",d:"M30.515 0c1.59 0 3.118.633 4.243 1.758l7.485 7.484A6 6 0 0 1 44 13.485V14l-.01-.205A2 2 0 0 0 42 12h-6a4 4 0 0 1-4-4V2a2 2 0 0 0-2-2z"}),(0,a.jsx)("path",{fill:"var(--color-icon-brand)",d:"M30 20a2 2 0 0 1 2 2v6.172l-.01.197a2 2 0 0 1-.576 1.217l-5.828 5.828-.146.133a2 2 0 0 1-1.268.453H18l-.204-.01A2 2 0 0 1 16 34V22a2 2 0 0 1 2-2zm-12 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6v-5a2 2 0 0 1 2-2h5v-6a1 1 0 0 0-1-1zm8 8a1 1 0 0 0-1 1v4.586L30.586 29z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:t,children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h48v48H0z"})})})]})})})},873003(e,t,r){"use strict";r.d(t,{m:()=>n});var s=r(105652),a=r(239976),i=r(145906);let n=(0,s.memo)(function(e){let t=(0,s.useId)();return(0,a.jsx)(i.J,{brand:"whiteboard",children:(0,a.jsxs)("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 48 48",...e,children:[(0,a.jsxs)("g",{clipPath:`url(#${t})`,children:[(0,a.jsx)("path",{fill:"var(--color-bg-brand)",d:"M8 48h32a4 4 0 0 0 4-4V13.485a6 6 0 0 0-1.757-4.242l-7.486-7.486A6 6 0 0 0 30.515 0H8a4 4 0 0 0-4 4v40a4 4 0 0 0 4 4"}),(0,a.jsx)("path",{fill:"var(--color-bordertranslucentstrong)",d:"M30.515 0c1.59 0 3.118.633 4.243 1.758l7.485 7.484A6 6 0 0 1 44 13.485V14l-.01-.205A2 2 0 0 0 42 12h-6a4 4 0 0 1-4-4V2a2 2 0 0 0-2-2z"}),(0,a.jsx)("path",{fill:"var(--color-icon-onbrand)",d:"M30 20a2 2 0 0 1 2 2v6.172l-.01.197a2 2 0 0 1-.576 1.217l-5.828 5.828-.146.133a2 2 0 0 1-1.268.453H18l-.204-.01A2 2 0 0 1 16 34V22a2 2 0 0 1 2-2zm-12 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6v-5a2 2 0 0 1 2-2h5v-6a1 1 0 0 0-1-1zm8 8a1 1 0 0 0-1 1v4.586L30.586 29z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:t,children:(0,a.jsx)("path",{fill:"var(--color-icon-onbrand)",d:"M0 0h48v48H0z"})})})]})})})},525141(e,t,r){"use strict";r.d(t,{o:()=>n});var s=r(105652),a=r(239976),i=r(145906);let n=(0,s.memo)(function(e){let t=(0,s.useId)();return(0,a.jsx)(i.J,{brand:"seascape",children:(0,a.jsxs)("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 48 48",...e,children:[(0,a.jsxs)("g",{clipPath:`url(#${t})`,children:[(0,a.jsx)("path",{fill:"var(--color-bg-brand)",d:"M8 48h32a4 4 0 0 0 4-4V13.485a6 6 0 0 0-1.757-4.242l-7.486-7.486A6 6 0 0 0 30.515 0H8a4 4 0 0 0-4 4v40a4 4 0 0 0 4 4"}),(0,a.jsx)("path",{fill:"var(--color-bordertranslucentstrong)",d:"M30.515 0c1.59 0 3.118.633 4.243 1.758l7.485 7.484A6 6 0 0 1 44 13.485V14l-.01-.205A2 2 0 0 0 42 12h-6a4 4 0 0 1-4-4V2a2 2 0 0 0-2-2z"}),(0,a.jsx)("path",{fill:"var(--color-icon-onbrand)",d:"M24 19a9 9 0 1 1 0 18 9 9 0 0 1 0-18m-2.993 9.5c.055 2.173.47 4.089 1.078 5.458.328.738.693 1.273 1.048 1.61.349.333.64.432.867.432s.518-.1.867-.432c.355-.337.72-.872 1.048-1.61.609-1.37 1.023-3.285 1.078-5.458zm-4.99 0a8 8 0 0 0 5.937 7.234c-1.11-1.49-1.873-4.156-1.948-7.234zm11.977 0c-.075 3.078-.839 5.744-1.95 7.234a8 8 0 0 0 5.938-7.234zm-6.04-8.235a8 8 0 0 0-5.936 7.235h3.988c.075-3.079.837-5.745 1.948-7.235M24 20c-.227 0-.518.1-.867.432-.355.337-.72.872-1.048 1.61-.609 1.37-1.023 3.285-1.078 5.458h5.986c-.055-2.173-.47-4.089-1.078-5.458-.328-.738-.693-1.273-1.048-1.61C24.518 20.1 24.227 20 24 20m2.045.265c1.11 1.49 1.874 4.156 1.95 7.235h3.987a8 8 0 0 0-5.937-7.235"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:t,children:(0,a.jsx)("path",{fill:"var(--color-icon-onbrand)",d:"M0 0h48v48H0z"})})})]})})})},802601(e,t,r){"use strict";r.d(t,{x:()=>n});var s=r(105652),a=r(239976),i=r(145906);let n=(0,s.memo)(function(e){let t=(0,s.useId)();return(0,a.jsx)(i.J,{brand:"piper",children:(0,a.jsxs)("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 48 48",...e,children:[(0,a.jsxs)("g",{clipPath:`url(#${t})`,children:[(0,a.jsx)("path",{fill:"var(--color-bg-selected)",d:"M8 48h32a4 4 0 0 0 4-4V13.485a6 6 0 0 0-1.757-4.242l-7.486-7.486A6 6 0 0 0 30.515 0H8a4 4 0 0 0-4 4v40a4 4 0 0 0 4 4"}),(0,a.jsx)("path",{fill:"var(--color-bg-transparent-pressed)",d:"M30.514 0a6 6 0 0 1 4.243 1.758l7.486 7.484a6 6 0 0 1 1.756 4.243V14l-.01-.205A2 2 0 0 0 42 12h-6a4 4 0 0 1-4-4V2a2 2 0 0 0-2-2z"}),(0,a.jsx)("path",{fill:"var(--color-icon-brand)",d:"M31 21a2 2 0 0 1 2 2v8l-.01.204a2 2 0 0 1-1.786 1.785L31 33h-1.982l.945 2.31a.5.5 0 0 1-.926.38l-1.1-2.69h-7.875l-1.1 2.69a.5.5 0 0 1-.925-.38l.945-2.31H17l-.204-.01a2 2 0 0 1-1.785-1.786L15 31v-8a2 2 0 0 1 2-2zm-14 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1zm2 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2m0-4a1 1 0 1 1 0 2 1 1 0 0 1 0-2"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:t,children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h48v48H0z"})})})]})})})},907143(e,t,r){"use strict";r.d(t,{c:()=>n});var s=r(105652),a=r(239976),i=r(145906);let n=(0,s.memo)(function(e){let t=(0,s.useId)();return(0,a.jsx)(i.J,{brand:"piper",children:(0,a.jsxs)("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 48 48",...e,children:[(0,a.jsxs)("g",{clipPath:`url(#${t})`,children:[(0,a.jsx)("path",{fill:"var(--color-bg-brand)",d:"M8 48h32a4 4 0 0 0 4-4V13.485a6 6 0 0 0-1.757-4.242l-7.486-7.486A6 6 0 0 0 30.515 0H8a4 4 0 0 0-4 4v40a4 4 0 0 0 4 4"}),(0,a.jsx)("path",{fill:"var(--color-bordertranslucentstrong)",d:"M30.514 0a6 6 0 0 1 4.243 1.758l7.486 7.484a6 6 0 0 1 1.756 4.243V14l-.01-.205A2 2 0 0 0 42 12h-6a4 4 0 0 1-4-4V2a2 2 0 0 0-2-2z"}),(0,a.jsx)("path",{fill:"var(--color-icon-onbrand)",d:"M31 21a2 2 0 0 1 2 2v8l-.01.204a2 2 0 0 1-1.786 1.785L31 33h-1.982l.945 2.31a.5.5 0 0 1-.926.38l-1.1-2.69h-7.875l-1.1 2.69a.5.5 0 0 1-.925-.38l.945-2.31H17l-.204-.01a2 2 0 0 1-1.785-1.786L15 31v-8a2 2 0 0 1 2-2zm-14 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1zm2 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2m0-4a1 1 0 1 1 0 2 1 1 0 0 1 0-2"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:t,children:(0,a.jsx)("path",{fill:"var(--color-icon-onbrand)",d:"M0 0h48v48H0z"})})})]})})})}}]);

//# debugId=60f14f3d-dc00-5c7f-a8dd-c744deb6f625

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/a4fb51d7a4c759d7bf3ebc1c7b1fc90e6231de84/0c62c2fd-c0ffe39583a41fc1.min.js.map